!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},t=(new e.Error).stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="8e49710d-5845-40e0-9a64-4ea12a1320b9",e._sentryDebugIdIdentifier="sentry-dbid-8e49710d-5845-40e0-9a64-4ea12a1320b9")}catch(a){}}();var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};e.SENTRY_RELEASE={id:"1.22.0-2d3a946"};"use strict";(self["webpackChunk_lace_browser_extension_wallet"]=self["webpackChunk_lace_browser_extension_wallet"]||[]).push([[247],{"../../node_modules/css-loader/dist/cjs.js!../../node_modules/sass-loader/dist/cjs.js!./src/views/nami-mode/index.scss":(e,t,a)=>{a.d(t,{default:()=>i});var s=a("../../node_modules/css-loader/dist/runtime/sourceMaps.js");var o=a.n(s);var n=a("../../node_modules/css-loader/dist/runtime/api.js");var l=a.n(n);var r=l()(o());r.push([e.id,"#nami-mode{width:100vw;height:100%;font-family:sans-serif}html{overflow:hidden}html[data-theme=dark] body:has(#nami-mode) *::selection{background:#375479;background-color:#375479;color:#f8fbfb}body:has(#nami-mode){font-family:sans-serif !important}body:has(#nami-mode) *::selection{background:#b5d7ff;background-color:#b5d7ff;color:#19202b}","",{version:3,sources:["webpack://./src/views/nami-mode/index.scss"],names:[],mappings:"AAAA,WACE,WAAA,CACA,WAAA,CACA,sBAAA,CAGF,KACE,eAAA,CAKE,wDACE,kBAAA,CACA,wBAAA,CACA,aAAA,CAKN,qBACE,iCAAA,CAEA,kCACE,kBAAA,CACA,wBAAA,CACA,aAAA",sourcesContent:["#nami-mode {\n  width: 100vw;\n  height: 100%;\n  font-family: sans-serif;\n}\n\nhtml {\n  overflow: hidden;\n}\n\nhtml[data-theme='dark'] {\n  body:has(#nami-mode) {\n    *::selection {\n      background: #375479;\n      background-color: #375479;\n      color: #f8fbfb;\n    }\n  }\n}\n\nbody:has(#nami-mode) {\n  font-family: sans-serif !important;\n\n  *::selection {\n    background: #b5d7ff;\n    background-color: #b5d7ff;\n    color: #19202b;\n  }\n}\n"],sourceRoot:""}]);const i=r},"./src/components/Announcement/Announcement.module.scss":(e,t,a)=>{a.d(t,{default:()=>w});var s=a("../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js");var o=a.n(s);var n=a("../../node_modules/style-loader/dist/runtime/styleDomAPI.js");var l=a.n(n);var r=a("../../node_modules/style-loader/dist/runtime/insertBySelector.js");var i=a.n(r);var c=a("../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js");var d=a.n(c);var u=a("../../node_modules/style-loader/dist/runtime/insertStyleElement.js");var v=a.n(u);var m=a("../../node_modules/style-loader/dist/runtime/styleTagTransform.js");var k=a.n(m);var E=a("../../node_modules/css-loader/dist/cjs.js!../../node_modules/sass-loader/dist/cjs.js!./src/components/Announcement/Announcement.module.scss");var p={};p.styleTagTransform=k();p.setAttributes=d();p.insert=i().bind(null,"head");p.domAPI=l();p.insertStyleElement=v();var g=o()(E["default"],p);const w=E["default"]&&E["default"].locals?E["default"].locals:void 0},"./src/components/Announcement/ReleaseNotes.tsx":(e,t,a)=>{a.d(t,{fetchNotes:()=>fetchNotes});const convertVersionFormat=e=>e.replace(/\./g,"_");const fetchNotes=async e=>{const t=await a("./src/release-notes eager recursive ^\\.\\/.*\\.tsx$")(`./${convertVersionFormat(e)}.tsx`);return t.default}},"./src/components/ExpandButton/ExpandButton.tsx":(e,t,a)=>{a.d(t,{ExpandButton:()=>ExpandButton});var s=a("../../node_modules/react/index.js");var o;function _extends(){_extends=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var s in a)if(Object.prototype.hasOwnProperty.call(a,s))e[s]=a[s]}return e};return _extends.apply(this,arguments)}var SvgExpandcomponent=function SvgExpandcomponent(e){return s.createElement("svg",_extends({width:"1em",height:"1em",viewBox:"0 0 25 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),o||(o=s.createElement("path",{d:"M3.5 8a1 1 0 0 0 2 0h-2Zm1-4V3a1 1 0 0 0-1 1h1Zm4 1a1 1 0 0 0 0-2v2Zm11 3a1 1 0 1 0 2 0h-2Zm1-4h1a1 1 0 0 0-1-1v1Zm-4-1a1 1 0 1 0 0 2V3Zm-11 13a1 1 0 1 0-2 0h2Zm-1 4h-1a1 1 0 0 0 1 1v-1Zm4 1a1 1 0 1 0 0-2v2Zm1.707-5.293a1 1 0 0 0-1.414-1.414l1.414 1.414Zm4.586-7.414a1 1 0 0 0 1.414 1.414l-1.414-1.414Zm-6 1.414a1 1 0 0 0 1.414-1.414L8.793 9.707ZM20.5 20v1a1 1 0 0 0 1-1h-1Zm-4.293-5.707a1 1 0 0 0-1.414 1.414l1.414-1.414ZM21.5 16a1 1 0 1 0-2 0h2Zm-5 3a1 1 0 1 0 0 2v-2ZM5.5 8V4h-2v4h2Zm-1-3h4V3h-4v2Zm17 3V4h-2v4h2Zm-1-5h-4v2h4V3Zm-17 13v4h2v-4h-2Zm1 5h4v-2h-4v2Zm.707-.293 5-5-1.414-1.414-5 5 1.414 1.414Zm11-11 5-5-1.414-1.414-5 5 1.414 1.414Zm-6-1.414-5-5-1.414 1.414 5 5 1.414-1.414Zm11 11-5-5-1.414 1.414 5 5 1.414-1.414ZM19.5 16v4h2v-4h-2Zm1 3h-4v2h4v-2Z",fill:"currentColor"})))};const n=SvgExpandcomponent;var l=a("../../node_modules/classnames/index.js");var r=a.n(l);var i=a("../../node_modules/antd/es/tooltip/index.js");var c=a("../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js");var d=a.n(c);var u=a("../../node_modules/style-loader/dist/runtime/styleDomAPI.js");var v=a.n(u);var m=a("../../node_modules/style-loader/dist/runtime/insertBySelector.js");var k=a.n(m);var E=a("../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js");var p=a.n(E);var g=a("../../node_modules/style-loader/dist/runtime/insertStyleElement.js");var w=a.n(g);var S=a("../../node_modules/style-loader/dist/runtime/styleTagTransform.js");var b=a.n(S);var f=a("../../node_modules/css-loader/dist/cjs.js!../../node_modules/sass-loader/dist/cjs.js!./src/components/ExpandButton/ExpandButton.module.scss");var _={};_.styleTagTransform=b();_.setAttributes=p();_.insert=k().bind(null,"head");_.domAPI=v();_.insertStyleElement=w();var P=d()(f["default"],_);const y=f["default"]&&f["default"].locals?f["default"].locals:void 0;const RenderTooltipIfMultiWallet=({children:e,label:t})=>{if(true){return s.createElement(i["default"],{title:t},e)}return s.createElement(s.Fragment,null,e)};const ExpandButton=({label:e,onClick:t})=>s.createElement(RenderTooltipIfMultiWallet,{label:e},s.createElement("span",{onClick:t,className:r()(y.button,{[y.multiWallet]:true}),"data-testid":"expand-button"},s.createElement(n,{className:y.icon}),false))},"./src/components/NetworkPill/NetworkPill.tsx":(e,t,a)=>{a.d(t,{NetworkPill:()=>NetworkPill});var s=a("../../node_modules/react/index.js");var o=a("../../node_modules/classnames/index.js");var n=a.n(o);var l=a("../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js");var r=a.n(l);var i=a("../../node_modules/style-loader/dist/runtime/styleDomAPI.js");var c=a.n(i);var d=a("../../node_modules/style-loader/dist/runtime/insertBySelector.js");var u=a.n(d);var v=a("../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js");var m=a.n(v);var k=a("../../node_modules/style-loader/dist/runtime/insertStyleElement.js");var E=a.n(k);var p=a("../../node_modules/style-loader/dist/runtime/styleTagTransform.js");var g=a.n(p);var w=a("../../node_modules/css-loader/dist/cjs.js!../../node_modules/sass-loader/dist/cjs.js!./src/components/NetworkPill/NetworkPill.module.scss");var S={};S.styleTagTransform=g();S.setAttributes=m();S.insert=u().bind(null,"head");S.domAPI=c();S.insertStyleElement=E();var b=r()(w["default"],S);const f=w["default"]&&w["default"].locals?w["default"].locals:void 0;var _=a("./src/stores/index.ts");var P=a("./src/hooks/index.ts");var y=a("../../node_modules/antd/es/tooltip/index.js");var C=a("../../node_modules/react-i18next/dist/es/index.js");var A=a("./src/multichain/index.ts");var h=a("./src/utils/get-network-name.ts");const NetworkPill=({isExpandable:e,isPopup:t=false})=>{const{environmentName:a}=(0,_.useWalletStore)();const{t:o}=(0,C.useTranslation)();const{isOnline:l,isBackendFailing:r}=(0,P.useNetwork)();const{blockchain:i}=(0,A.useCurrentBlockchain)();return(0,s.useMemo)(()=>{if(l&&!r&&i===A.Blockchain.Bitcoin&&(0,h.isBitcoinNetworkSwitchingDisabled)()){return s.createElement("div",{className:n()(f.networkPill,{[f.expandablePill]:e,[f.multiWallet]:t}),"data-testid":"network-pill"},s.createElement("span",{className:n()({[f.networkPillText]:e})},"Testnet4"))}if(l&&!r&&"Mainnet"!==a){return s.createElement("div",{className:n()(f.networkPill,{[f.expandablePill]:e,[f.multiWallet]:t}),"data-testid":"network-pill"},s.createElement("span",{className:n()({[f.networkPillText]:e})},(0,h.getNetworkName)(i,a)))}if(!l){return s.createElement(y["default"],{title:o("general.networks.error"),placement:"rightBottom"},s.createElement("div",{className:n()(f.offlinePill,{[f.expandablePill]:e,[f.multiWallet]:t}),"data-testid":"network-pill"},s.createElement("div",{className:f.offlinePillText},s.createElement("div",{className:f.dot},"•"),s.createElement("div",{"data-testid":"network-offline-indicator"},o("general.networks.offline")))))}if(r){return s.createElement(y["default"],{title:o("general.networks.connectionUnavailable.error"),placement:"rightBottom"},s.createElement("div",{className:n()(f.offlinePill,{[f.expandablePill]:e,[f.multiWallet]:t}),"data-testid":"backend-pill"},s.createElement("div",{className:f.offlinePillText},s.createElement("div",{className:f.dot},"•"),s.createElement("div",{"data-testid":"network-poor-indicator"},o("general.networks.connectionUnavailable.title")))))}return s.createElement(s.Fragment,null)},[l,r,a,o,e,i])}},"./src/features/dapp/context/context.ts":(e,t,a)=>{a.d(t,{DappContext:()=>o,useDappContext:()=>useDappContext});var s=a("../../node_modules/react/index.js");const o=(0,s.createContext)(null);const useDappContext=()=>{const e=(0,s.useContext)(o);if(null===e)throw new Error("DappContext is not defined.");return e}},"./src/features/unlock-wallet/components/UnlockWalletContainer.tsx":(e,t,a)=>{a.d(t,{UnlockWalletContainer:()=>UnlockWalletContainer});var s=a("../../node_modules/react/index.js");var o=a("./src/features/unlock-wallet/components/UnlockWallet.tsx");var n=a("./src/hooks/useWalletManager.ts");var l=a("./src/stores/index.ts");var r=a("./src/providers/BackgroundServiceAPI/index.ts");var i=a("./src/utils/local-storage.ts");var c=a("../../packages/common/dist/index.esm.js");var d=a("../../packages/core/dist/index.esm.js");var u=a("./src/lib/scripts/types/index.ts");var v=a("./src/providers/index.ts");var m=a("./src/providers/AnalyticsProvider/analyticsTracker/index.ts");var k=a("./src/utils/get-chain-name.ts");const UnlockWalletContainer=({validateMnemonic:e})=>{const t=(0,v.useAnalyticsContext)();const{unlockWallet:a,lockWallet:E,deleteWallet:p}=(0,n.useWalletManager)();const{setDeletingWallet:g,resetWalletLock:w,setAddressesDiscoveryCompleted:S,currentChain:b}=(0,l.useWalletStore)();const f=(0,r.useBackgroundServiceAPIContext)();const[_,P]=(0,s.useState)(false);const{password:y,setPassword:C,clearSecrets:A}=(0,d.useSecrets)();const[h,R]=(0,s.useState)(true);const T=(0,s.useCallback)(e=>{if(!h)R(true);C(e)},[h,C]);(0,s.useEffect)(()=>{if(e)E()},[E,e]);const onUnlock=async()=>{P(true);try{const e=await a();R(e);t.sendEventToPostHog(m.PostHogAction.UnlockWalletWelcomeBackUnlockClick);if(e){S(true);w()}}catch{R(false)}finally{A()}P(false)};const onForgotPasswordClick=async()=>{await t.sendEventToPostHog(m.PostHogAction.UnlockWalletForgotPasswordProceedClick);(0,i.saveValueInLocalStorage)({key:"isForgotPasswordFlow",value:true});(0,i.saveValueInLocalStorage)({key:"appSettings",value:{chainName:(0,k.getChainName)(b)}});g(true);await p(true);await f.handleOpenBrowser({section:u.BrowserViewSections.FORGOT_PASSWORD});g(false)};(0,c.useKeyboardShortcut)(["Enter"],onUnlock);return s.createElement(o.UnlockWallet,{isLoading:_,onUnlock:onUnlock,passwordInput:{handleChange:T,invalidPass:!h},unlockButtonDisabled:!y.value,onForgotPasswordClick:onForgotPasswordClick})}},"./src/providers/AnalyticsProvider/analyticsTracker/events/multi-wallet.ts":(e,t,a)=>{const makeMultiWalletCreateEvent=e=>`multiwallet | new wallet revamp | ${e}`;const makeMultiWalletRestoreEvent=e=>`multiwallet | restore wallet revamp | ${e}`;const makeMultiWalletHardwareEvent=e=>`multiwallet | hardware wallet revamp | ${e}`;const makePaperWalletOnboardingCreateEvent=e=>`onboarding | new wallet revamp paper wallet | ${e}`;const makePaperWalletOnboardingRestoreEvent=e=>`onboarding | restore wallet revamp paper wallet | ${e}`;const s={create:{CHOOSE_RECOVERY_MODE_MNEMONIC_CLICK:makePaperWalletOnboardingCreateEvent("choose mode | recovery phrase | click"),CHOOSE_RECOVERY_MODE_PAPER_CLICK:makePaperWalletOnboardingCreateEvent("choose mode | paper wallet | click"),CHOOSE_RECOVERY_MODE_NEXT_CLICK:makePaperWalletOnboardingCreateEvent("choose mode | next | click"),PGP_PUBLIC_KEY_PAGE_VIEW:makePaperWalletOnboardingCreateEvent("step: pgp key | pageview"),PGP_PUBLIC_KEY_NEXT_CLICK:makePaperWalletOnboardingCreateEvent("step: pgp key | next | click"),WALLET_SETUP_GENERATE_PAPER_WALLET_CLICK:makePaperWalletOnboardingCreateEvent("step: wallet info | Generate paper wallet | click"),PAPER_WALLET_DOWNLOAD_PAGEVIEW:makePaperWalletOnboardingCreateEvent("step: download pdf | pageview"),DOWNLOAD_PAPER_WALLET_CLICK:makePaperWalletOnboardingCreateEvent("download pdf | download pdf | click"),PRINT_PAPER_WALLET_CLICK:makePaperWalletOnboardingCreateEvent("print pdf | print pdf | click"),PAPER_WALLET_COMPLETE_CLICK:makePaperWalletOnboardingCreateEvent("open wallet | open wallet | click"),SETUP_OPTION_CLICK:makeMultiWalletCreateEvent("create | click"),SAVE_RECOVERY_PHRASE_NEXT_CLICK:makeMultiWalletCreateEvent("save your recovery phrase | next | click"),ENTER_RECOVERY_PHRASE_NEXT_CLICK:makeMultiWalletCreateEvent("enter your recovery phrase | next | click"),ENTER_WALLET:makeMultiWalletCreateEvent("let's set up your new wallet | enter wallet | click"),RECOVERY_PHRASE_INTRO_WATCH_VIDEO_CLICK:makeMultiWalletCreateEvent("save your recovery phrase | watch video | click"),RECOVERY_PHRASE_INTRO_VIDEO_GOTIT_CLICK:makeMultiWalletCreateEvent("keeping your wallet secure | got it | click"),RECOVERY_PHRASE_COPY_TO_CLIPBOARD_CLICK:makeMultiWalletCreateEvent("save your recovery phrase | copy to clipboard | click"),RECOVERY_PHRASE_PASTE_FROM_CLIPBOARD_CLICK:makeMultiWalletCreateEvent("enter your recovery phrase | paste from clipboard | click"),RECOVERY_PHRASE_COPY_READ_MORE_CLICK:makeMultiWalletCreateEvent("save your recovery phrase | best practices faq | click"),RECOVERY_PHRASE_PASTE_READ_MORE_CLICK:makeMultiWalletCreateEvent("enter your recovery phrase | best practices faq | click"),WALLET_ADDED:makeMultiWalletCreateEvent("added")},restore:{WALLET_SETUP_PAGEVIEW:makePaperWalletOnboardingCreateEvent("step: wallet info | pageview"),CHOOSE_RECOVERY_MODE_MNEMONIC_CLICK:makePaperWalletOnboardingRestoreEvent("choose mode | recovery phrase | click"),CHOOSE_RECOVERY_MODE_PAPER_CLICK:makePaperWalletOnboardingRestoreEvent("choose mode | paper wallet | click"),CHOOSE_RECOVERY_MODE_NEXT_CLICK:makePaperWalletOnboardingRestoreEvent("choose mode | next | click"),SCAN_QR_CODE_PAGEVIEW:makePaperWalletOnboardingRestoreEvent("step: scan qr code | pageview"),SCAN_QR_CODE_CAMERA_OK:makePaperWalletOnboardingRestoreEvent("step: scan qr code | camera ok"),SCAN_QR_CODE_CAMERA_ERROR:makePaperWalletOnboardingRestoreEvent("step: scan qr code | camera error"),SCAN_QR_CODE_READ_SUCCESS:makePaperWalletOnboardingRestoreEvent("step: scan qr code | read success"),SCAN_QR_CODE_READ_ERROR:makePaperWalletOnboardingRestoreEvent("step: scan qr code | read error"),WALLET_OVERVIEW_NEXT_CLICK:makePaperWalletOnboardingRestoreEvent("step: wallet overview | next | click"),ENTER_PGP_PRIVATE_KEY_PAGE_VIEW:makePaperWalletOnboardingRestoreEvent("step: pgp private key | pageview"),ENTER_PGP_PRIVATE_KEY_NEXT_CLICK:makePaperWalletOnboardingRestoreEvent("step: pgp private key | next | click"),SETUP_OPTION_CLICK:makeMultiWalletRestoreEvent("restore | click"),ENTER_WALLET:makeMultiWalletRestoreEvent("let's set up your new wallet | enter wallet | click"),ENTER_RECOVERY_PHRASE_NEXT_CLICK:makeMultiWalletRestoreEvent(" enter your recovery phrase  | next | click"),RECOVERY_PHRASE_PASTE_FROM_CLIPBOARD_CLICK:makeMultiWalletRestoreEvent("enter your recovery phrase | paste from clipboard | click"),RECOVERY_PHRASE_PASTE_READ_MORE_CLICK:makeMultiWalletRestoreEvent("enter your recovery phrase | best practices faq | click"),WALLET_ADDED:makeMultiWalletRestoreEvent("added"),HD_WALLET:makeMultiWalletRestoreEvent("hd wallet")},hardware:{SETUP_OPTION_CLICK:makeMultiWalletHardwareEvent("connect | click"),CONNECT_HW_VIEW:makeMultiWalletHardwareEvent("connect your device | view"),HW_POPUP_CONNECT_CLICK:makeMultiWalletHardwareEvent("native browser pop-up with HWs | connect | click"),CONNECT_HW_TRY_AGAIN_CLICK:makeMultiWalletHardwareEvent("connect your device | try again | click"),SETUP_HW_ACCOUNT_NO_CLICK:makeMultiWalletHardwareEvent("let's set up your wallet | Account No | click"),ENTER_WALLET:makeMultiWalletHardwareEvent("let's set up your wallet | enter wallet | click"),WALLET_ADDED:makeMultiWalletHardwareEvent("added"),HD_WALLET:makeMultiWalletHardwareEvent("hd wallet")}};const o=null},"./src/providers/AnalyticsProvider/getUserIdService.ts":(e,t,a)=>{a.d(t,{getUserIdService:()=>getUserIdService});var s=a("../../node_modules/@cardano-sdk/web-extension/dist/esm/messaging/index.js");var o=a("./src/lib/scripts/background/config.ts");var n=a("./src/lib/scripts/types/index.ts");var l=a("../../node_modules/webextension-polyfill/dist/browser-polyfill.js");var r=a.n(l);var i=a("../../packages/common/dist/index.esm.js");const c=(0,s.consumeRemoteApi)({baseChannel:n.USER_ID_SERVICE_BASE_CHANNEL,properties:o.userIdServiceProperties},{runtime:l.runtime,logger:i.logger});const getUserIdService=()=>c},"./src/providers/currency/index.ts":(e,t,a)=>{a.d(t,{CurrencyStoreProvider:()=>s.CurrencyStoreProvider,useCurrencyStore:()=>s.useCurrencyStore});var s=a("./src/providers/currency/context.tsx")},"./src/stores/slices/stake-pool-search-slice.ts":(e,t,a)=>{a.d(t,{stakePoolSearchSlice:()=>stakePoolSearchSlice});var s=a("../../node_modules/lodash/isEqual.js");var o=a.n(s);var n=a("../../packages/cardano/dist/index.esm.js");var l=a("./src/stores/types.ts");const r=100;const getQueryStakePoolsFilters=({searchString:e,skip:t=0,limit:a=r,sort:s})=>{let o={};try{const l=n.Wallet.Cardano.PoolId(e);o={identifier:{values:[{id:l}]}}}catch{o={text:e}}return{filters:{...o,pledgeMet:true,status:[n.Wallet.Cardano.StakePoolStatus.Active,n.Wallet.Cardano.StakePoolStatus.Activating,n.Wallet.Cardano.StakePoolStatus.Retiring]},pagination:{startAt:t,limit:a-t+1},...s&&{sort:s}}};const fetchStakePools=({set:e,get:t})=>{return async({searchString:a,skip:s=0,limit:n=r,sort:i})=>{const{totalResultCount:c,pageResults:d,searchFilters:u}=t().stakePoolSearchResults||{};e({stakePoolSearchResultsStatus:l.StateStatus.LOADING});const v=getQueryStakePoolsFilters({searchString:a,skip:s,limit:n,sort:i});const{totalResultCount:m,pageResults:k}=await t().blockchainProvider.stakePoolProvider.queryStakePools(v);const E=o()(u,i)&&c===m;const p=E?[...d]:Array.from({length:m});if(k.length>0)p.splice(s,null==k?void 0:k.length,...k);e({stakePoolSearchResults:{totalResultCount:m,pageResults:p,skip:s,limit:n,searchQuery:a,searchFilters:i},stakePoolSearchResultsStatus:l.StateStatus.LOADED})}};const stakePoolSearchSlice=({set:e,get:t})=>({stakePoolSearchResults:{pageResults:[],totalResultCount:null},stakePoolSearchResultsStatus:l.StateStatus.IDLE,selectedStakePool:void 0,fetchStakePools:fetchStakePools({set:e,get:t}),resetStakePools:()=>e(()=>({stakePoolSearchResults:{pageResults:[],totalResultCount:null},stakePoolSearchResultsStatus:l.StateStatus.IDLE})),setSelectedStakePool:t=>e(()=>({selectedStakePool:t}))})},"./src/types/ui.ts":(e,t,a)=>{a.d(t,{NetworkConnectionStates:()=>s});var s;(function(e){e["CONNNECTED"]="connected";e["OFFLINE"]="offline"})(s||(s={}))},"./src/views/browser-view/components/WarningModal/index.ts":(e,t,a)=>{a.d(t,{WarningModal:()=>s.WarningModal});var s=a("./src/views/browser-view/components/WarningModal/WarningModal.tsx")},"./src/views/browser-view/features/activity/components/ActivityLayout.tsx":(e,t,a)=>{var s=a("../../node_modules/react/index.js");var o=a("../../node_modules/lodash/debounce.js");var n=a.n(o);var l=a("../../node_modules/lodash/isNil.js");var r=a.n(l);var i=a("../../packages/core/dist/index.esm.js");var c=a("./src/hooks/index.ts");var d=a("./src/stores/index.ts");var u=a("../../packages/common/dist/index.esm.js");var v=a("./src/views/browser-view/features/activity/components/ActivityDetail.tsx");var m=a("../../node_modules/react-i18next/dist/es/index.js");var k=a("./src/views/browser-view/components/index.ts");var E=a("./src/components/Layout/SectionTitle.tsx");var p=a("./src/assets/icons/book.svg");var g=a("./src/assets/icons/light.svg");var w=a("./src/assets/icons/video.svg");var S=a("./src/utils/constants.ts");var b=a("./src/providers/index.ts");var f=a("./src/providers/AnalyticsProvider/analyticsTracker/index.ts");var _=a("./src/hooks/useWalletActivities.ts");const P=300;const ActivityLayout=()=>{const{t:e}=useTranslation();const{priceResult:t}=useFetchCoinPrice();const{inMemoryWallet:a,walletInfo:s,activityDetail:o,resetActivityState:n,blockchainProvider:l}=useWalletStore();const r=useAnalyticsContext();const i=useCallback(()=>{r.sendEventToPostHog(PostHogAction.ActivityActivityActivityRowClick)},[r]);const{walletActivities:c,mightHaveMore:d,loadedTxLength:u,loadMore:v,retry:m,error:k}=useWalletActivitiesPaginated({sendAnalytics:i});const E=useObservable(a.balance.utxo.total$);const p={glossary:e("educationalBanners.title.glossary"),faq:e("educationalBanners.title.faq"),video:e("educationalBanners.title.video")};const g=[{title:p.glossary,subtitle:e("browserView.activity.learnAbout.whatAreActivityDetails"),src:Book,link:"https://www.lace.io/glossary?term=activity"},{title:p.glossary,subtitle:e("browserView.activity.learnAbout.whatIsAnUnconfirmedTransaction"),src:Book,link:"https://www.lace.io/glossary?term=unconfirmed-transaction"},{title:p.faq,subtitle:e("browserView.activity.learnAbout.doesLaceHaveFees"),src:LightBulb,link:"https://www.lace.io/faq?question=does-lace-have-fees"},{title:p.video,subtitle:e("browserView.activity.learnAbout.transactionBundles"),src:Video,link:"https://www.lace.io/learn?video=lace-introduces-transaction-bundles"}];useEffect(()=>{n()},[n,l]);const w=isNil(E);const S=useMemo(()=>debounce(v,P),[v]);return React.createElement(Layout,null,React.createElement(SectionLayout,{sidePanelContent:React.createElement(EducationalList,{items:g,title:e("browserView.sidePanel.learnAbout")})},React.createElement(SectionTitle,{title:e("browserView.activity.title")}),React.createElement(Drawer,{open:!!o,onClose:n,navigation:React.createElement(DrawerNavigation,{title:e("transactions.detail.title"),onCloseIconClick:()=>{r.sendEventToPostHog(PostHogAction.ActivityActivityDetailXClick);n()}})},o&&t&&React.createElement(ActivityDetail,{price:t})),React.createElement(Skeleton,{loading:w||void 0===c},(null==c?void 0:c.length)>0&&React.createElement(GroupedAssetActivityList,{hasMore:d,loadMore:S,lists:c,scrollableTarget:LACE_APP_ID,dataLength:u,loadingError:k,retryLoading:m}),(null==c?void 0:c.length)===0&&React.createElement(FundWalletBanner,{title:e("browserView.activity.fundWalletBanner.title"),subtitle:e("browserView.activity.fundWalletBanner.subtitle"),prompt:e("browserView.fundWalletBanner.prompt"),walletAddress:s.addresses[0].address.toString(),shouldHaveVerticalContent:true}))))}},"./src/views/browser-view/features/staking/components/StakingContainer.tsx":(e,t,a)=>{var s=a("./src/views/browser-view/components/index.ts");var o=a("../../node_modules/react/index.js");var n=a("../../node_modules/lodash/isNumber.js");var l=a("../../node_modules/react-i18next/dist/es/index.js");var r=a("../../packages/cardano/dist/index.esm.js");var i=a("./src/stores/selectors/staking-selectors.ts");var c=a("./src/stores/index.ts");var d=a("./src/hooks/index.ts");var u=a("./src/assets/icons/light.svg");var v=a("../../packages/staking/dist/index.js");var m=a("../../node_modules/@input-output-hk/lace-ui-toolkit/dist/index.js");var k=a("./src/providers/index.ts");function _extends(){_extends=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var s in a)if(Object.prototype.hasOwnProperty.call(a,s))e[s]=a[s]}return e};return _extends.apply(this,arguments)}const StakingSkeleton_StakingSkeleton=({children:e,multiDelegationEnabled:t})=>{var a,s,o;const{t:n}=useTranslation();const{networkInfo:l,fetchNetworkInfo:r}=useWalletStore(stakingInfoSelector);const{priceResult:i}=useFetchCoinPrice();const{balance:c}=useBalances(null==i?void 0:null===(a=i.cardano)||void 0===a?void 0:a.price);const{theme:d}=useTheme();useEffect(()=>{r()},[r]);const u=(null==c?void 0:null===(s=c.total)||void 0===s?void 0:s.coinBalance)&&Number(null==c?void 0:null===(o=c.total)||void 0===o?void 0:o.coinBalance);const v={title:n("cardano.networkInfo.title"),currentEpoch:n("cardano.networkInfo.currentEpoch"),epochEnd:n("cardano.networkInfo.epochEnd"),totalPools:n("cardano.networkInfo.totalPools"),percentageStaked:n("cardano.networkInfo.percentageStaked"),averageApy:n("cardano.networkInfo.averageRos"),averageMargin:n("cardano.networkInfo.averageMargin")};const m={glossary:n("educationalBanners.title.glossary"),faq:n("educationalBanners.title.faq"),video:n("educationalBanners.title.video")};const k=[{title:m.faq,subtitle:n("educationalBanners.subtitle.stakingAndDelegation"),src:LightBulb,link:"https://www.lace.io/faq?question=what-are-staking-and-delegation"},{title:m.faq,subtitle:n("educationalBanners.subtitle.howManyPools"),src:LightBulb,link:"https://www.lace.io/faq?question=how-many-stake-pools-can-i-delegate-stake-to-using-the-multi-staking-or-multi-delegation-feature"},{title:m.faq,subtitle:n("educationalBanners.subtitle.ledgerSupport"),src:LightBulb,link:"https://www.lace.io/faq?question=do-ledger-hardware-wallets-support-multi-staking"},{title:m.faq,subtitle:n("educationalBanners.subtitle.stakeDistribution"),src:LightBulb,link:"https://www.lace.io/faq?question=does-stake-distribution-remain-the-same"}];const E=React.createElement(Flex,{flexDirection:"column",alignItems:"stretch",gap:"$32",mb:"$112"},t&&React.createElement(BrowsePoolsPreferencesCard,{theme:d.name}),React.createElement(Skeleton,{loading:!l},React.createElement(NetworkInfo,_extends({},l,{translations:v}))),React.createElement(EducationalList,{items:k,title:n("browserView.sidePanel.aboutStaking")}));return React.createElement(SectionLayout,{sidePanelContent:E},React.createElement(Skeleton,{loading:!isNumber(u)},e))};var E=a("./src/hooks/useMultiDelegationEnabled.ts");var p=a("./src/views/browser-view/features/activity/index.ts");var g=a("../../packages/common/dist/index.esm.js");const MultiDelegationStaking_MultiDelegationStaking=()=>{const{theme:e}=useTheme();const{priceResult:t}=useFetchCoinPrice();const{blockchainProvider:a,activityDetail:s,resetActivityState:o}=useWalletStore(e=>({blockchainProvider:e.blockchainProvider,activityDetail:e.activityDetail,resetActivityState:e.resetActivityState}));const{t:n}=useTranslation();useEffect(()=>{o()},[o,a]);return React.createElement(React.Fragment,null,React.createElement(Staking,{theme:e.name}),React.createElement(Drawer,{open:!!s,onClose:o,navigation:React.createElement(DrawerNavigation,{title:n("transactions.detail.title"),onCloseIconClick:()=>{o()}})},s&&t&&React.createElement(ActivityDetail,{price:t})))};var w=a("../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js");var S=a.n(w);var b=a("../../node_modules/style-loader/dist/runtime/styleDomAPI.js");var f=a.n(b);var _=a("../../node_modules/style-loader/dist/runtime/insertBySelector.js");var P=a.n(_);var y=a("../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js");var C=a.n(y);var A=a("../../node_modules/style-loader/dist/runtime/insertStyleElement.js");var h=a.n(A);var R=a("../../node_modules/style-loader/dist/runtime/styleTagTransform.js");var T=a.n(R);var I=a("../../node_modules/css-loader/dist/cjs.js!../../node_modules/sass-loader/dist/cjs.js!./src/views/browser-view/features/staking/components/Staking.modules.scss");var x={};x.styleTagTransform=T();x.setAttributes=C();x.insert=P().bind(null,"head");x.domAPI=f();x.insertStyleElement=h();var W=S()(I["default"],x);const O=I["default"]&&I["default"].locals?I["default"].locals:void 0;var N=a("./src/views/browser-view/features/staking/components/StakeFundsBanner/index.ts");var L=a("./src/features/delegation/stores/index.ts");var D=a("./src/api/transformers.ts");var j=a("./src/views/browser-view/features/staking/components/StakePoolDetails/index.tsx");var B=a("./src/views/browser-view/features/staking/types/index.ts");var M=a("../../node_modules/lodash/debounce.js");var H=a("../../node_modules/antd/es/typography/index.js");var V=a("./src/views/browser-view/features/staking/store/index.ts");var F=a("./src/assets/icons/empty.svg");var K=a("../../node_modules/css-loader/dist/cjs.js!../../node_modules/sass-loader/dist/cjs.js!./src/views/browser-view/features/staking/components/StakePoolsTable/StakePoolsTableEmpty.module.scss");var U={};U.styleTagTransform=T();U.setAttributes=C();U.insert=P().bind(null,"head");U.domAPI=f();U.insertStyleElement=h();var q=S()(K["default"],U);const Y=K["default"]&&K["default"].locals?K["default"].locals:void 0;const StakePoolsTableEmpty_StakePoolsTableEmpty=({title:e})=>{const{t:t}=useTranslation();return React.createElement("div",{"data-testid":"stake-pool-table-empty",className:styles.container},React.createElement(Image,{"data-testid":"stake-pool-table-empty-image",preview:false,src:Empty}),React.createElement("div",{"data-testid":"stake-pool-table-empty-message",className:styles.text},e||t("browserView.staking.stakePoolsTable.emptyMessage")))};var Z=a("../../node_modules/css-loader/dist/cjs.js!../../node_modules/sass-loader/dist/cjs.js!./src/views/browser-view/features/staking/components/StakePoolsTable/StakePoolsTable.modules.scss");var G={};G.styleTagTransform=T();G.setAttributes=C();G.insert=P().bind(null,"head");G.domAPI=f();G.insertStyleElement=h();var $=S()(Z["default"],G);const X=Z["default"]&&Z["default"].locals?Z["default"].locals:void 0;var Q=a("./src/providers/AnalyticsProvider/analyticsTracker/index.ts");const{Text:z}=H["default"];const J=300;const ee={bottom:100,top:0};const et=44;const StakePoolsTable_StakePoolsTable=({scrollableTargetId:e})=>{const t=useRef(null);const{t:a}=useTranslation();const[s,o]=useState("");const[n,l]=useState(DEFAULT_SORT_OPTIONS);const{setSelectedStakePool:r}=useDelegationStore();const{setIsDrawerVisible:i}=useStakePoolDetails();const c=useAnalyticsContext();const d=useRef(null);const[u,v]=useState(0);const{stakePoolSearchResults:{pageResults:m,totalResultCount:k},isSearching:E,resetStakePools:p,fetchStakePools:g}=useWalletStore(stakePoolResultsSelector);const{blockchainProvider:w}=useWalletStore();const S=useVisibleItemsCount({containerRef:d,rowHeight:et});useEffect(()=>{if(void 0!==S){const e=Math.ceil(ee.bottom/et);v(e+Math.max(S,0))}},[S]);const b=useMemo(()=>debounce(g,J),[g]);const f=useCallback(({startIndex:e,endIndex:t})=>{if(e!==t)b({limit:t,searchString:s,skip:e,sort:n})},[b,s,n]);useEffect(()=>{if(void 0!==u)f({endIndex:u,startIndex:0})},[u,f]);const _={ticker:a("cardano.stakePoolTableBrowser.tableHeader.ticker.title"),ros:a("cardano.stakePoolTableBrowser.tableHeader.ros.title"),cost:a("cardano.stakePoolTableBrowser.tableHeader.cost.title"),saturation:a("cardano.stakePoolTableBrowser.tableHeader.saturation.title"),margin:a("cardano.stakePoolTableBrowser.tableHeader.margin.title"),blocks:a("cardano.stakePoolTableBrowser.tableHeader.blocks.title"),pledge:a("cardano.stakePoolTableBrowser.tableHeader.pledge.title"),liveStake:a("cardano.stakePoolTableBrowser.tableHeader.liveStake.title")};const P={ticker:a("cardano.stakePoolTableBrowser.tableHeader.ticker.tooltip"),ros:a("cardano.stakePoolTableBrowser.tableHeader.ros.tooltip"),cost:a("cardano.stakePoolTableBrowser.tableHeader.cost.tooltip"),saturation:a("cardano.stakePoolTableBrowser.tableHeader.saturation.tooltip"),margin:a("cardano.stakePoolTableBrowser.tableHeader.margin.tooltip"),blocks:a("cardano.stakePoolTableBrowser.tableHeader.blocks.tooltip"),pledge:a("cardano.stakePoolTableBrowser.tableHeader.pledge.tooltip"),liveStake:a("cardano.stakePoolTableBrowser.tableHeader.liveStake.tooltip")};useEffect(()=>{if(!(null==t?void 0:t.current))return;i(false);p()},[w,s,n,b,i,p]);const onSearch=e=>{o(e)};const y=useMemo(()=>{return null==m?void 0:m.map(e=>e?mapStakePoolToDisplayData({stakePool:e}):void 0)},[m]);const C=useCallback(e=>{c.sendEventToPostHog(PostHogAction.StakingStakePoolClick);r(e);i(true)},[c,i,r]);const onSortChange=e=>{const t=(null==n?void 0:n.order)==="asc"?"desc":"asc";const a=e!==(null==n?void 0:n.field)?getDefaultSortOrderByField(e):t;l({field:e,order:a})};const A=stakePoolTableConfig.columns.map(e=>{const t=a(`cardano.stakePoolTableBrowser.tableHeader.${e}.tooltip`);return{label:_[e],...P[e]&&{tooltipText:t},value:e}});const isActiveSortItem=e=>{return e===(null==n?void 0:n.field)};const h=useCallback((e,t)=>{if(!t){return React.createElement(StakePoolsListRowSkeleton,{index:e,columns:stakePoolTableConfig.columns})}const{stakePool:a}=t;return React.createElement(Table.Row,{onClick:()=>C(a),columns:stakePoolTableConfig.columns,cellRenderers:stakePoolTableConfig.renderer,dataTestId:"stake-pool",data:t})},[C]);return React.createElement("div",{ref:t,"data-testid":"stake-pool-table",className:styles.table},React.createElement("div",{className:styles.header},React.createElement("div",{className:styles.title},React.createElement("span",null,a("browserView.staking.stakePoolsTable.title")),React.createElement(z,{"data-testid":"section-title-counter",className:styles.sideText},"(",k||0,")")),React.createElement(Search,{className:styles.search,withSearchIcon:true,inputPlaceholder:a("browserView.staking.stakePoolsTable.searchPlaceholder"),onChange:onSearch,"data-testid":"search-input",loading:E})),React.createElement(Box,{mt:"$16",className:styles.tableWrapper,testId:"stake-pool-list-container"},React.createElement(Table.Header,{dataTestId:"stake-pool",headers:A,isActiveSortItem:isActiveSortItem,onSortChange:onSortChange,order:null==n?void 0:n.order}),!E&&0===k&&React.createElement(StakePoolsTableEmpty,null),React.createElement(Table.Body,{tableReference:d,scrollableTargetId:e,loadMoreData:f,totalCount:y.length,items:y,itemContent:h,increaseViewportBy:ee})))};var ea=a("./src/views/browser-view/features/staking/components/StakingInfo/index.ts");var es=a("./src/components/Layout/SectionTitle.tsx");var eo=a("./src/utils/constants.ts");var en=a("./src/stores/slices/index.ts");const utils_fetchPoolsInfo=async({searchString:e="",stakePoolProvider:t})=>{const a=getQueryStakePoolsFilters({searchString:e});const{pageResults:s}=await t.queryStakePools(a);return s};var el=a("./src/config.ts");var er=a("./src/views/browser-view/features/staking/hooks.ts");function Staking_extends(){Staking_extends=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var s in a)if(Object.prototype.hasOwnProperty.call(a,s))e[s]=a[s]}return e};return Staking_extends.apply(this,arguments)}const ei=new Set([B.Sections.CONFIRMATION,B.Sections.SIGN,B.Sections.FAIL_TX]);const ec=new Set([B.Sections.CONFIRMATION,B.Sections.SIGN]);const Staking_Staking=()=>{var e,t,a,s,o;const{t:n}=useTranslation();const{setStakeConfirmationVisible:l,setIsDrawerVisible:r,setSection:i}=useStakePoolDetails();const{networkInfo:c,fetchNetworkInfo:d}=useWalletStore(stakingInfoSelector);const{setSelectedStakePool:u}=useDelegationStore();const{isInMemoryWallet:v,blockchainProvider:m,walletInfo:k,inMemoryWallet:E,walletUI:{cardanoCoin:p},environmentName:g}=useWalletStore();const{fetchStakePools:w}=useWalletStore(stakePoolResultsSelector);const{priceResult:S}=useFetchCoinPrice();const{balance:b}=useBalances(null==S?void 0:null===(e=S.cardano)||void 0===e?void 0:e.price);const f=useObservable(E.delegation.rewardAccounts$);const _=useObservable(null==E?void 0:E.protocolParameters$);const P=useDelegationDetails();const{totalRewards:y,lastReward:C}=useStakingRewards();const A=useExternalLinkOpener();const{coinBalance:h}=walletBalanceTransformer(null==_?void 0:_.stakeKeyDeposit.toString());useEffect(()=>{d()},[d,m]);const R=(null==b?void 0:null===(t=b.total)||void 0===t?void 0:t.coinBalance)&&Number(null==b?void 0:null===(a=b.total)||void 0===a?void 0:a.coinBalance);const T=f&&f[0].credentialStatus===Wallet.Cardano.StakeCredentialStatus.Registered;const I=f&&P;const x=R<Number(h)&&!T||0===R&&T;const W=!I&&isNumber(R)&&!x;const{areAllRegisteredStakeKeysWithoutVotingDelegation:O,poolIdToRewardAccountsMap:N}=useRewardAccountsData();const L=!x&&O;const{GOV_TOOLS_URLS:D}=config();const j=useCallback(()=>{i()},[i]);const B=useCallback(()=>{if(I){l(true);return}j();r(true)},[I,l,j,r]);const onStakePoolSelect=()=>{u(P);r(true)};useEffect(()=>{const fetchSelectedStakePool=async()=>{if(v||!c)return;const e=localStorage.getItem("TEMP_POOLID");if(!e)return;const t=String(e);const a=await fetchPoolsInfo({searchString:t,stakePoolProvider:m.stakePoolProvider});const s=a.find(t=>{var a;return(null==t?void 0:null===(a=t.id)||void 0===a?void 0:a.toString())===e});if(!s)return;u(s);r(true);w({searchString:""})};fetchSelectedStakePool()},[m.stakePoolProvider,w,v,c,r,u]);return React.createElement(React.Fragment,null,L&&React.createElement(Box,{mb:"$56"},React.createElement(RegisterAsDRepBanner,{openExternalLink:A,govToolUrl:D[g]})),React.createElement("div",null,React.createElement(SectionTitle,{title:n("browserView.staking.title")}),x&&React.createElement(FundWalletBanner,{title:n("browserView.assets.welcome"),subtitle:n("browserView.staking.fundWalletBanner.subtitle"),prompt:n("browserView.fundWalletBanner.prompt"),walletAddress:k.addresses[0].address.toString()}),W&&React.createElement(StakeFundsBanner,{balance:R}),I&&React.createElement("div",{className:styles.flexRow},React.createElement(StakingInfo,Staking_extends({},{...Wallet.util.stakePoolTransformer({stakePool:P,cardanoCoin:p}),rewardAccount:null===(s=N.get(P.id))||void 0===s?void 0:s[0],coinBalance:R,fiat:null==S?void 0:null===(o=S.cardano)||void 0===o?void 0:o.price,totalRewards:Wallet.util.lovelacesToAdaString(y.toString()),lastReward:Wallet.util.lovelacesToAdaString(C.toString()),cardanoCoin:p},{onStakePoolSelect:onStakePoolSelect}))),React.createElement(StakePoolsTable,{scrollableTargetId:LACE_APP_ID}),React.createElement(StakePoolDetails,{showCloseIcon:true,showBackIcon:e=>ec.has(e),showExitConfirmation:e=>ei.has(e),canDelegate:!x,onStake:B})))};var ed=a("./src/lib/wallet-api-ui.ts");var eu=a("./src/utils/format-number.ts");var ev=a("./src/views/browser-view/features/staking/index.ts");var em=a("./src/hooks/useWalletActivities.ts");var ek=a("./src/views/browser-view/features/send-transaction/index.ts");var eE=a("../../packages/core/dist/index.esm.js");var ep=a("./src/lib/scripts/background/util.ts");function StakingContainer_extends(){StakingContainer_extends=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var s in a)if(Object.prototype.hasOwnProperty.call(a,s))e[s]=a[s]}return e};return StakingContainer_extends.apply(this,arguments)}const StakingContainer=()=>{var e,t,a,s;const o=useMultiDelegationEnabled();const n=useAnalyticsContext();const[l,{updateLocalStorage:r}]=useLocalStorage(STAKING_BROWSER_PREFERENCES_LS_KEY,DEFAULT_STAKING_BROWSER_PREFERENCES);const[i,{updateLocalStorage:c}]=useLocalStorage(MULTIDELEGATION_FIRST_VISIT_LS_KEY,true);const[d,{updateLocalStorage:u}]=useLocalStorage(MULTIDELEGATION_DAPP_COMPATIBILITY_LS_KEY,true);const v=useCallback(()=>{const e={sendEvent:()=>{}};e.sendEvent({action:"AnalyticsEventActions.CLICK_EVENT",category:"AnalyticsEventCategories.STAKING",name:"AnalyticsEventNames.Staking.STAKING_MULTI_DELEGATION_BROWSER"})},[]);const m=useExternalLinkOpener();const{priceResult:k}=useFetchCoinPrice();const{balance:E}=useBalances(null==k?void 0:null===(e=k.cardano)||void 0===e?void 0:e.price);const{delegationTxBuilder:p,setDelegationTxBuilder:g,delegationTxFee:w,setDelegationTxFee:S}=useDelegationStore();const{fiatCurrency:b}=useCurrencyStore();const{walletActivities:f,walletActivitiesStatus:_}=useWalletActivities({sendAnalytics:v});const P=useSecrets();const y=useSubmitingState();const{getCustomSubmitApiForNetwork:C}=useCustomSubmitApi();const{walletInfo:A,walletType:h,inMemoryWallet:R,walletUI:{cardanoCoin:T},stakePoolSearchResults:I,stakePoolSearchResultsStatus:x,fetchStakePools:W,resetStakePools:O,fetchNetworkInfo:N,networkInfo:L,blockchainProvider:D,currentChain:j,environmentName:B,isSharedWallet:M}=useWalletStore(e=>({walletType:e.walletType,inMemoryWallet:e.inMemoryWallet,walletUI:{cardanoCoin:e.walletUI.cardanoCoin},stakePoolSearchResults:e.stakePoolSearchResults,stakePoolSearchResultsStatus:e.stakePoolSearchResultsStatus,fetchStakePools:e.fetchStakePools,resetStakePools:e.resetStakePools,networkInfo:e.networkInfo,fetchNetworkInfo:e.fetchNetworkInfo,blockchainProvider:e.blockchainProvider,walletInfo:e.walletInfo,currentChain:e.currentChain,environmentName:e.environmentName,isSharedWallet:e.isSharedWallet}));const H=null===(a=null===(t=A.addresses)||void 0===t?void 0:t[0].address)||void 0===a?void 0:a.toString();const V=A.name;const{walletRepository:F}=useWalletManager();const K=useObservable(F.wallets$);const U=useCurrentWallet();const q=getParentWalletCIP1854Account({wallets:K,activeWallet:U});const Y=null==q?void 0:q.extendedAccountPublicKey;const Z=null==U?void 0:null===(s=U.metadata)||void 0===s?void 0:s.coSigners;const G=useSignPolicy(U,"staking");const{GOV_TOOLS_URLS:$}=config();return React.createElement(Layout,null,React.createElement(OutsideHandlesProvider,StakingContainer_extends({},{analytics:n,stakingBrowserPreferencesPersistence:l,setStakingBrowserPreferencesPersistence:r,balancesBalance:E,delegationStoreSetDelegationTxBuilder:g,delegationStoreDelegationTxBuilder:p,delegationStoreSetDelegationTxFee:S,delegationStoreDelegationTxFee:w,fetchCoinPricePriceResult:k,openExternalLink:m,walletManagerExecuteWithPassword:withSignTxConfirmation,password:P,submittingState:y,walletStoreWalletType:h,walletStoreInMemoryWallet:R,walletStoreWalletUICardanoCoin:T,currencyStoreFiatCurrency:b,walletStoreStakePoolSearchResults:I,walletStoreStakePoolSearchResultsStatus:x,walletStoreFetchStakePools:W,walletStoreResetStakePools:O,walletStoreFetchNetworkInfo:N,walletStoreNetworkInfo:L,walletStoreBlockchainProvider:D,walletStoreWalletActivities:f,walletStoreWalletActivitiesStatus:_,compactNumber:compactNumberWithUnit,multidelegationFirstVisit:i,triggerMultidelegationFirstVisit:()=>c(false),multidelegationDAppCompatibility:d,triggerMultidelegationDAppCompatibility:()=>u(false),walletAddress:H,walletName:V,currentChain:j,isMultidelegationSupportedByDevice,isCustomSubmitApiEnabled:C(B).status,isSharedWallet:M,signPolicy:G,sharedWalletKey:Y,coSigners:Z,useRewardAccountsData,govToolUrl:$[B],parseError}),React.createElement(StakingSkeleton,{multiDelegationEnabled:o},o?React.createElement(MultiDelegationStaking,null):React.createElement(Staking,null))))}},"./src/views/nami-mode/hooks.ts":(e,t,a)=>{a.d(t,{useAnalytics:()=>useAnalytics});var s=a("../../node_modules/react/index.js");var o=a("./src/hooks/index.ts");var n=a("./src/providers/index.ts");var l=a("./src/providers/AnalyticsProvider/analyticsTracker/index.ts");var r=a("./src/providers/AnalyticsProvider/config.ts");const useAnalytics=()=>{const e=(0,n.useAnalyticsContext)();const t=(0,s.useCallback)((t,a)=>e.sendEventToPostHog(t,a),[e]);const[a,{updateLocalStorage:i}]=(0,o.useLocalStorage)(r.ENHANCED_ANALYTICS_OPT_IN_STATUS_LS_KEY,l.EnhancedAnalyticsOptInStatus.OptedOut);const c=a===l.EnhancedAnalyticsOptInStatus.OptedIn;const d=(0,s.useCallback)(async t=>{const a=t?l.EnhancedAnalyticsOptInStatus.OptedIn:l.EnhancedAnalyticsOptInStatus.OptedOut;if(t){await e.setOptedInForEnhancedAnalytics(a);await e.sendAliasEvent()}else{await e.setOptedInForEnhancedAnalytics(a)}i(a)},[e,i]);return{isAnalyticsOptIn:c,sendEventToPostHog:t,handleAnalyticsChoice:d}}},"./src/views/nami-mode/index.scss":(e,t,a)=>{var s=a("../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js");var o=a.n(s);var n=a("../../node_modules/style-loader/dist/runtime/styleDomAPI.js");var l=a.n(n);var r=a("../../node_modules/style-loader/dist/runtime/insertBySelector.js");var i=a.n(r);var c=a("../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js");var d=a.n(c);var u=a("../../node_modules/style-loader/dist/runtime/insertStyleElement.js");var v=a.n(u);var m=a("../../node_modules/style-loader/dist/runtime/styleTagTransform.js");var k=a.n(m);var E=a("../../node_modules/css-loader/dist/cjs.js!../../node_modules/sass-loader/dist/cjs.js!./src/views/nami-mode/index.scss");var p={};p.styleTagTransform=k();p.setAttributes=d();p.insert=i().bind(null,"head");p.domAPI=l();p.insertStyleElement=v();var g=o()(E["default"],p);var w=E["default"]&&E["default"].locals?E["default"].locals:void 0}}]);
//# sourceMappingURL=247.js.map