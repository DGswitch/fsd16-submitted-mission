import{$a as ne,Fb as He,Gc as et,Rb as fe,V as ye,Ya as C,ed as Se,hc as ze,ic as Ye,oc as R,wd as rt,xb as We,yb as Ge}from"./chunk-7EAYY6PT.js";import{y as I}from"./chunk-VPAI5YFM.js";import{A as Je,H as Xe,I as Ze}from"./chunk-TB3UVYOQ.js";import{d as j,j as tt,m as K}from"./chunk-E25H5Y2I.js";import{q as qe,w as p,x as Qe,y as je}from"./chunk-5CNB4EIU.js";import{D as se,u as f,w as y,z as h}from"./chunk-IW23UAMS.js";import{T as $e,w as Ve}from"./chunk-27NXJJ7L.js";import{C as Ke,a as J,h as c,o as me,q as Fe}from"./chunk-UA6ADLWZ.js";import{c as rr,d as sr,f as F,h as o,i as d,n as i}from"./chunk-3KENBVE7.js";var Pe=rr(($t,le)=>{o();i();(function(t,e){"use strict";typeof define=="function"&&define.amd?define(e):typeof le=="object"&&le.exports?le.exports=e():t.log=e()})($t,function(){"use strict";var t=function(){},e="undefined",r=typeof self!==e&&typeof self.navigator!==e&&/Trident\/|MSIE /.test(self.navigator.userAgent),s=["trace","debug","info","warn","error"],n={},a=null;function u(m,T){var l=m[T];if(typeof l.bind=="function")return l.bind(m);try{return Function.prototype.bind.call(l,m)}catch{return function(){return Function.prototype.apply.apply(l,[m,arguments])}}}function S(){console.log&&(console.log.apply?console.log.apply(console,arguments):Function.prototype.apply.apply(console.log,[console,arguments])),console.trace&&console.trace()}function D(m){return m==="debug"&&(m="log"),typeof console===e?!1:m==="trace"&&r?S:console[m]!==void 0?u(console,m):console.log!==void 0?u(console,"log"):t}function A(){for(var m=this.getLevel(),T=0;T<s.length;T++){var l=s[T];this[l]=T<m?t:this.methodFactory(l,m,this.name)}if(this.log=this.debug,typeof console===e&&m<this.levels.SILENT)return"No console available for logging"}function k(m){return function(){typeof console!==e&&(A.call(this),this[m].apply(this,arguments))}}function v(m,T,l){return D(m)||k.apply(this,arguments)}function _(m,T){var l=this,te,ge,Q,b="loglevel";typeof m=="string"?b+=":"+m:typeof m=="symbol"&&(b=void 0);function Zt(E){var x=(s[E]||"silent").toUpperCase();if(!(typeof l===e||!b)){try{l.localStorage[b]=x;return}catch{}try{l.document.cookie=encodeURIComponent(b)+"="+x+";"}catch{}}}function Oe(){var E;if(!(typeof l===e||!b)){try{E=l.localStorage[b]}catch{}if(typeof E===e)try{var x=l.document.cookie,re=encodeURIComponent(b),Le=x.indexOf(re+"=");Le!==-1&&(E=/^([^;]+)/.exec(x.slice(Le+re.length+1))[1])}catch{}return l.levels[E]===void 0&&(E=void 0),E}}function er(){if(!(typeof l===e||!b)){try{l.localStorage.removeItem(b)}catch{}try{l.document.cookie=encodeURIComponent(b)+"=; expires=Thu, 01 Jan 1970 00:00:00 UTC"}catch{}}}function Y(E){var x=E;if(typeof x=="string"&&l.levels[x.toUpperCase()]!==void 0&&(x=l.levels[x.toUpperCase()]),typeof x=="number"&&x>=0&&x<=l.levels.SILENT)return x;throw new TypeError("log.setLevel() called with invalid level: "+E)}l.name=m,l.levels={TRACE:0,DEBUG:1,INFO:2,WARN:3,ERROR:4,SILENT:5},l.methodFactory=T||v,l.getLevel=function(){return Q??ge??te},l.setLevel=function(E,x){return Q=Y(E),x!==!1&&Zt(Q),A.call(l)},l.setDefaultLevel=function(E){ge=Y(E),Oe()||l.setLevel(E,!1)},l.resetLevel=function(){Q=null,er(),A.call(l)},l.enableAll=function(E){l.setLevel(l.levels.TRACE,E)},l.disableAll=function(E){l.setLevel(l.levels.SILENT,E)},l.rebuild=function(){if(a!==l&&(te=Y(a.getLevel())),A.call(l),a===l)for(var E in n)n[E].rebuild()},te=Y(a?a.getLevel():"WARN");var Be=Oe();Be!=null&&(Q=Y(Be)),A.call(l)}a=new _,a.getLogger=function(T){if(typeof T!="symbol"&&typeof T!="string"||T==="")throw new TypeError("You must supply a name when creating a logger.");var l=n[T];return l||(l=n[T]=new _(T,a.methodFactory)),l};var L=typeof self!==e?self.log:void 0;return a.noConflict=function(){return typeof self!==e&&self.log===a&&(self.log=L),a},a.getLoggers=function(){return n},a.default=a,a})});o();i();o();i();o();i();var P={};var st={...P,defaultExplorer:"arbiscan",getExplorerUrl:function(t){let e;switch(t){case"eip155:421614":e="sepolia.";break;case"eip155:42161":default:e=""}return{arbiscan:(r,s)=>{let n=Array.isArray(s)?s.join("/"):s,a={transaction:"tx",address:"address",token:"token",nft:"nft"}[r];return`https://${e}arbiscan.io/${a}/${n}`}}}};o();i();var nt={...P,defaultExplorer:"basescan",getExplorerUrl:function(t){let e;switch(t){case"eip155:84532":e="sepolia.";break;case"eip155:8453":default:e=""}return{basescan:(r,s)=>{let n=Array.isArray(s)?s.join("/"):s,a={transaction:"tx",address:"address",token:"token",nft:"nft"}[r];return`https://${e}basescan.org/${a}/${n}`}}}};o();i();var at={getExplorerUrl:function(){return{mempool:(t,e)=>`https://mempool.space/${{transaction:"tx",address:"address"}[t]}/${e}`}},defaultExplorer:"mempool"};o();i();var ot={...P,getExplorerUrl(t){let e;switch(t){case"eip155:11155111":e="sepolia.";break;case"eip155:1":default:e=""}return{etherscan:(r,s)=>{let n=Array.isArray(s)?s.join("/"):s,a={transaction:"tx",address:"address",token:"token",nft:"nft"}[r];return`https://${e}etherscan.io/${a}/${n}`}}},defaultExplorer:"etherscan"};o();i();var it={...P,getExplorerUrl:function(){return{monadexplorer:(t,e)=>{let r=Array.isArray(e)?e.join("/"):e;return`https://testnet.monadexplorer.com/${{transaction:"tx",address:"address",token:"token",nft:"nft"}[t]}/${r}`}}},defaultExplorer:"monadexplorer",betaTagOverride:"Testnet"};o();i();var ct={...P,getExplorerUrl:function(t){let e;switch(t){case"eip155:80002":e="amoy.";break;case"eip155:137":default:e=""}return{polygonscan:(r,s)=>{let n=Array.isArray(s)?s.join("/"):s,a={transaction:"tx",address:"address",token:"token",nft:"nft"}[r];return`https://${e}polygonscan.com/${a}/${n}`}}},defaultExplorer:"polygonscan"};o();i();var dt={getExplorerUrl:function(t){let e;switch(t){case"solana:103":e="devnet";break;case"solana:102":e="testnet";break;case"solana:101":e="mainnet-beta";break;case"solana:localnet":e="mainnet-beta";break}let r="";return["devnet","testnet"].includes(e)&&(r=`?cluster=${e}`),{"solana-beach":(s,n)=>`https://solanabeach.io/${s}/${n}${r}`,solscan:(s,n)=>`https://solscan.io/${{transaction:"tx",address:"account"}[s]}/${n}${r}`,"solana-explorer":(s,n)=>`https://explorer.solana.com/${s}/${n}${r}`,"solana-fm":(s,n)=>{let a={"mainnet-beta":"mainnet-qn1",testnet:"testnet-solana",devnet:"devnet-solana",localhost:"localhost"}[e];return`https://solana.fm/${{transaction:"tx",address:"address"}[s]}/${n}?cluster=${a}`},xray:(s,n)=>`https://xray.helius.xyz/${{transaction:"tx",address:"token"}[s]}/${n}${r}`}},defaultExplorer:"solscan"};o();i();var ut={getExplorerUrl:function(t){return{suiscan:(e,r)=>{let s;switch(t){case"sui:testnet":s="testnet";break;case"sui:mainnet":s="mainnet";break}let n={transaction:"tx",address:"account",token:"coin",nft:"object"}[e];return`https://suiscan.xyz/${s}/${n}/${r}`},suivision:(e,r)=>{let s;switch(t){case"sui:testnet":s="testnet.";break;case"sui:mainnet":s="";break}let n={transaction:"txblock",address:"account",token:"coin",nft:"object"}[e];return`https://${s}suivision.xyz/${n}/${r}`}}},defaultExplorer:"suivision"};var ar=new Ge({solana:dt,ethereum:ot,polygon:ct,monad:it,base:nt,arbitrum:st,bitcoin:at,sui:ut}),N=We(ar);o();i();o();i();var Rn=15,ae={version:1,addresses:[]},oe={version:1,addresses:[]},lt=20,or=()=>{let t={};return C.getAllNetworkIDs().forEach(e=>{let r=N.get(e).defaultExplorer;r&&(t[e]=r)}),t},he={version:1,explorers:or()},pt={"solana-beach":"Solana Beach",solscan:"Solscan","solana-explorer":"Solana Explorer","solana-fm":"Solana FM",xray:"XRAY",etherscan:"Etherscan",basescan:"Basescan",arbiscan:"Arbiscan",polygonscan:"Polygonscan",mempool:"Mempool",suivision:"SuiVision",suiscan:"Suiscan",monadexplorer:"Monad Explorer"},gt={version:1,apps:{}},ir={default:"",light:"1f3fb",medium_light:"1f3fc",medium:"1f3fd",medium_dark:"1f3fe",dark:"1f3ff"},Un={"":"","1f3fb":"\u{1F3FB}","1f3fc":"\u{1F3FC}","1f3fd":"\u{1F3FD}","1f3fe":"\u{1F3FE}","1f3ff":"\u{1F3FF}"},Mn={version:1,skinTone:ir.default},mt=Ke,yt=!0,ft=Ve({minutes:15}),ie=[{value:"en",displayValue:"English",isLocale:!1},{value:"es",displayValue:"Espa\xF1ol",isLocale:!1},{value:"de",displayValue:"Deutsch",isLocale:!1},{value:"fr",displayValue:"Fran\xE7ais",isLocale:!1},{value:"it",displayValue:"Italiano",isLocale:!1},{value:"zh-CN",displayValue:"\u4E2D\u6587(\u7B80\u4F53)",isLocale:!0},{value:"zh-TW",displayValue:"\u4E2D\u6587(\u7E41\u9AD4)",isLocale:!0},{value:"bn",displayValue:"\u09AC\u09BE\u0982\u09B2\u09BE",isLocale:!1},{value:"ja",displayValue:"\u65E5\u672C",isLocale:!1},{value:"ko",displayValue:"\uD55C\uAD6D\uC5B4",isLocale:!1},{value:"ru",displayValue:"P\u0443\u0441\u0441\u043A\u0438\u0439",isLocale:!1},{value:"hi",displayValue:"\u0939\u093F\u0902\u0926\u0940",isLocale:!1},{value:"id",displayValue:"Indonesia",isLocale:!1},{value:"ms",displayValue:"Melayu",isLocale:!1},{value:"th",displayValue:"\u0E44\u0E17\u0E22",isLocale:!1},{value:"vi",displayValue:"Ti\u1EBFng Vi\u1EC7t",isLocale:!1},{value:"pt",displayValue:"Portugu\xEAs",isLocale:!1},{value:"tr",displayValue:"T\xFCrk\xE7e",isLocale:!1},{value:"fil",displayValue:"Filipino",isLocale:!1},{value:"my",displayValue:"\u1019\u103C\u1014\u103A\u1019\u102C\u1018\u102C\u101E\u102C",isLocale:!1},{value:"am",displayValue:"\u12A0\u121B\u122D\u129B",isLocale:!1},{value:"ar",displayValue:"\u0627\u0644\u0639\u0631\u0628\u064A\u0629",isLocale:!1},{value:"gu",displayValue:"\u0A97\u0AC1\u0A9C\u0AB0\u0ABE\u0AA4\u0AC0",isLocale:!1},{value:"ha",displayValue:"Hausa",isLocale:!1},{value:"ig",displayValue:"\xC1s\u1EE5\u0300s\u1EE5\u0301 \xCCgb\xF2",isLocale:!1},{value:"pa",displayValue:"\u0A2A\u0A70\u0A1C\u0A3E\u0A2C\u0A40",isLocale:!1},{value:"sw",displayValue:"Kiswahili",isLocale:!1},{value:"ta",displayValue:"\u0BA4\u0BAE\u0BBF\u0BB4\u0BCD",isLocale:!1},{value:"te",displayValue:"\u0C24\u0C46\u0C32\u0C41\u0C17\u0C41",isLocale:!1},{value:"yo",displayValue:"\xC8d\xE8 Yor\xF9b\xE1",isLocale:!1}];o();i();var ce=({networkID:t,endpoint:e,param:r,explorerType:s})=>{let a=N.get(t).getExplorerUrl(t)[s??N.get(t).defaultExplorer];return a?a(e,r):""},St=t=>{if(!t)return;let{explorers:e}=t,r={};return C.getAllNetworkIDs().forEach(n=>{let a=C.getNetworkName(n),u=e[n];r[a]=u}),{...t,explorers:r}};o();i();o();i();var cr=t=>{switch(t){case"privateKey":return j.t("removeAccountWarningPrivateKey");case"seed":return j.t("removeAccountWarningSeed");case"ledger":return j.t("removeAccountWarningLedger");case"seedVault":return j.t("removeAccountWarningSeedVault");case"readOnly":return j.t("removeAccountWarningReadOnly")}};o();i();var dr=()=>{let t=[];return ie.forEach(e=>{t.push(e.value),e.isLocale&&t.push(e.value.substr(0,2))}),[...new Set(t)]},Ae=(t,e)=>t.substr(0,3)==="fil"?e==="fil":t.substr(0,2)==="zh"?t==="zh-TW"?e==="zh-TW":e==="zh-CN":e===t.substr(0,2),ur=t=>ie.find(e=>Ae(t,e.value))?.displayValue,lr=t=>ie.find(e=>Ae(t,e.value))?.value;o();i();var pr=(t,e)=>t.filter(s=>ht(e,s.title)||ht(e,s.tags?.join(" "))),ht=(t,e)=>{if(e===void 0)return!1;let r=t.toLowerCase();return e.toLowerCase().split(" ").map(s=>s.startsWith(r)||r.startsWith(s)&&e.toLowerCase().includes(r)).includes(!0)};o();i();async function gr(t){for(let r of t){let s=await r.get("networkSetting");if(s)return s.setting}let e=await qe.isFeatureEnabledAsync("enable-sui-testnet");return et(e).setting}o();i();o();i();o();i();o();i();var w="@phantom/settings",g={emojiSkinTone(){return[`${w}:emoji-skin-tone`]},isAnalyticsOptedOut(){return[`${w}:is-analytics-opted-out`]},solanaActionsEnabled(){return[`${w}:solana-actions-enabled`]},showWalletShortcuts(){return[`${w}:show-wallet-shortcuts`]},preferredExplorers(){return[`${w}:preferred-explorers`]},recentAddresses(){return[`${w}:recent-addresses`]},savedAddresses(){return[`${w}:saved-addresses`]},trustedApps(){return[`${w}:trusted-apps`]},metaMaskOverride(){return[`${w}:metamask-override`]},autoConfirm(t,e){return[w,"auto-confirm",t,e]},allAutoConfirm(t){return[w,"auto-confirm",t]},webViewDebugging(){return[`${w}:enable-webview-debugging:v1`]},selectedCurrency(){return[`${w}:selected-currency`]}};var Ee=c.enum(["ALWAYS_ASK","USE_PHANTOM","USE_METAMASK"]),At="metaMaskOverride";async function Et(t){let e=await t.get(At),r=Ee.safeParse(e);return r.success?r.data:Ee.enum.ALWAYS_ASK}function mr(){let t=p();return h({queryKey:g.metaMaskOverride(),refetchOnMount:"always",async queryFn(){return Et(t)}})}function yr(){let t=p(),e=f(),r=R();return y({async mutationFn(s){await vt(t,s),r.capture("metamaskOverrideSettingsChanged",{data:{setting:s}})},async onSuccess(){await e.invalidateQueries({queryKey:g.metaMaskOverride()})}})}async function vt(t,e){await t.set(At,e)}o();i();function fr(t){return G(e=>{let r=e.explorers[t]??N.get(t).defaultExplorer;return pt[r]})}function Sr(t,e){return G(r=>{let s=r.explorers[t];return ce({networkID:t,endpoint:"address",explorerType:s,param:e})})}function hr(t){return G(e=>{if(!t)return"";let r=t.networkID,s=e.explorers[r];return ce({networkID:r,endpoint:"transaction",explorerType:s,param:t.id})})}function G(t){let e=p(),r=g.preferredExplorers();return h({queryKey:r,queryFn:async()=>{let n=await e.get("userExplorerPreferenceV2");return n?{version:n.version,explorers:{...he.explorers,...n.explorers}}:he},select:t})}function Ar(){let t=p(),e=f();return y({mutationFn:async({preferredExplorers:n})=>{await t.set("userExplorerPreferenceV2",n)},onSuccess:()=>{e.invalidateQueries({queryKey:g.preferredExplorers()})}})}o();i();function Er(){let t=p(),e=g.showWalletShortcuts();return h({queryKey:e,queryFn:async()=>{let s=await t.get("showWalletShortcuts");return s!=null?s==="true":yt}})}function vr(){let t=p(),e=f();return y({mutationFn:async({showWalletShortcuts:n})=>{await t.set("showWalletShortcuts",n?"true":"false")},onSuccess:()=>{e.invalidateQueries({queryKey:g.showWalletShortcuts()})}})}o();i();var Dt=async(t,e)=>{let r=await t.get("solanaActionsEnabled");return r===null?e??!1:r};function Dr(t=!1){let e=p(),r=g.solanaActionsEnabled();return h({queryKey:r,queryFn:async()=>Dt(e,t)})}function Tr(){let t=p(),e=f();return y({mutationFn:async({enabled:n})=>{await t.set("solanaActionsEnabled",n)},onSuccess:()=>{e.invalidateQueries({queryKey:g.solanaActionsEnabled()})}})}o();i();var Pt=F(J());o();i();function Tt(){let{isSuccess:t,data:e}=Se(),r=p(),s=g.recentAddresses();return h({enabled:t,queryKey:s,queryFn:async()=>{let a=await r.get("userRecentAddresses");if(!e)throw new Error(fe);let u=e.enabledChainIDs;return a?Ct(a,u):ae}})}function xt(){let{isSuccess:t,data:e}=Se(),r=p(),s=g.savedAddresses();return h({enabled:t,queryKey:s,queryFn:async()=>{let a=await r.get("userSavedAddresses");if(!e)throw new Error(fe);let u=e.enabledChainIDs;return a?Ct(a,u):oe}})}var Ct=(t,e)=>({...t,addresses:t.addresses.filter(r=>e.includes(C.getChainID(r.chainID)))});o();i();function wt(){let t=p(),e=f();return y({mutationFn:async({recentAddresses:n})=>{await t.set("userRecentAddresses",n)},onSuccess:()=>{e.invalidateQueries({queryKey:g.recentAddresses()})}})}function bt(){let t=p(),e=f();return y({mutationFn:async({savedAddresses:n})=>{await t.set("userSavedAddresses",n)},onSuccess:()=>{e.invalidateQueries({queryKey:g.savedAddresses()})}})}var xr=()=>{let{data:t=[]}=rt(),{data:e=ae}=Tt(),{data:r=oe}=xt(),{mutate:s}=wt(),{mutate:n}=bt();return(0,Pt.useMemo)(()=>({recentAddresses:e,savedAddresses:r,addRecentAddress:({address:a,chainID:u,timestamp:S=Date.now()})=>br(t,e,r,s,{address:a,chainID:u,timestamp:S}),addSavedAddress:a=>Ir(t,e,r,s,n,a),editSavedAddress:(a,u)=>Pr(r,n,a,u),getExistingAccount:a=>wr(t,a),getSavedAddressLabel:(a,u)=>It(r.addresses,a,u),getKnownAddressLabel:(a,u)=>It([r.addresses,Cr(t)].flat(),a,u),isExistingAccountAddress:a=>ve(t,a),isRecentAddress:(a,u)=>kt(e,a,u),isSavedAddress:(a,u)=>De(r,a,u),removeRecentAddress:a=>_t(e,s,a),removeSavedAddress:a=>kr(r,n,a)}),[t,e,r,s,n])},Cr=t=>{let e=[];for(let r of t)e.push(...r.addresses.map(({address:s,networkID:n})=>({address:s,chainID:n,label:r.name})));return e},wr=(t,e)=>t[Ut(t,e)],ve=(t,e)=>Ut(t,e)>-1,kt=(t,e,r)=>H(t.addresses,{address:e,chainID:r})>-1,De=(t,e,r)=>H(t.addresses,{address:e,chainID:r})>-1,br=(t,e,r,s,{address:n,chainID:a,timestamp:u=Date.now()})=>{if(ve(t,n)||De(r,n,a)||kt(e,n,a))return;e.addresses.unshift({address:n,chainID:a,timestamp:u});let{addresses:S}=e;return e.addresses=S.slice(0,lt),s({recentAddresses:e}),e},Ir=(t,e,r,s,n,a)=>{let{address:u,chainID:S}=a;if(ve(t,u)||De(r,u,S))return;_t(e,s,{address:u,chainID:S,timestamp:0});let D={...r,addresses:[...r.addresses,a]};return n({savedAddresses:D}),D},Pr=(t,e,r,s)=>{let n=H(t.addresses,r);if(n<0)return;let a=[...t.addresses];a[n]=s;let u={...t,addresses:a};return e({savedAddresses:u}),u},_t=(t,e,r)=>{let s=H(t.addresses,r);if(s<0)return;let n=[...t.addresses];n.splice(s,1);let a={...t,addresses:n};return e({recentAddresses:a}),a},kr=(t,e,r)=>{let s=H(t.addresses,r);if(s<0)return;let n=[...t.addresses];n.splice(s,1);let a={...t,addresses:n};return e({savedAddresses:a}),a},It=(t,e,r)=>{let s=H(t,{address:e,chainID:r});if(!(s<0))return t[s].label},Rt=(t,e,r)=>C.isEVMNetworkID(r)?t.toLowerCase()===e.toLowerCase():t===e,Ut=(t,e)=>t.findIndex(r=>r.addresses.find(s=>Rt(s.address,e,s.networkID))),H=(t,e)=>t.findIndex(r=>{let s=e.chainID===r.chainID,n=Rt(e.address,r.address,e.chainID);return s&&n});o();i();o();i();async function q(t){return await t.get(xe)??gt}function Te(){let t=p();return h({queryKey:g.trustedApps(),refetchOnMount:"always",async queryFn(){return await q(t)}})}async function V(t,e){await t.set(xe,e)}function _r(){let t=p(),e=f();return y({async mutationFn({trustedApps:r}){await V(t,r)},async onSuccess(){await e.invalidateQueries({queryKey:g.trustedApps()})}})}var xe="userTrustedApps";o();i();var Rr=()=>{let t=p();return h({queryKey:["settings:apiEnvironment"],queryFn:async()=>{let e=await t.get("apiEnvironment");return e?(me(e),e):null},enabled:Fe})},Ur=()=>{let t=p(),e=Je(),r=f();return y({mutationFn:async s=>{await t.set("apiEnvironment",s),me(s),await Mr(e,r),await Nr(r)}})};async function Mr(t,e){await t.logOut(),await Promise.all([Xe(e),ze(e)]),await Promise.all([Ze(e),Ye(e)])}async function Nr(t){await t.invalidateQueries({queryKey:["settings:apiEnvironment"]})}o();i();function Or(){let t=p(),e=g.emojiSkinTone();return h({queryKey:e,queryFn:async()=>await t.get("emojiSkinTone")})}function Br(){let t=p(),e=f();return y({mutationFn:async({skinTone:n})=>{await t.set("emojiSkinTone",{version:1,skinTone:n})},onSuccess:()=>{e.invalidateQueries({queryKey:g.emojiSkinTone()})}})}o();i();var Mt=async t=>await t.get("isAnalyticsOptedOut")??mt;function Ce(){let t=p(),e=g.isAnalyticsOptedOut();return h({queryKey:e,queryFn:async()=>Mt(t)})}function Lr(){let t=p(),e=R(),r=f();return y({mutationFn:async({isAnalyticsOptedOut:a})=>{await t.set("isAnalyticsOptedOut",a),await e.setAnalyticsOptedOut(a)},onSuccess:()=>{r.invalidateQueries({queryKey:g.isAnalyticsOptedOut()})}})}o();i();var Fr=()=>{let t=p(),e=async()=>!!await t.get("balanceHiddenStatus"),{data:r}=h({queryKey:["balanceHiddenStatus"],queryFn:e});return r??!1},Kr=()=>{let t=p(),e=f(),r=async n=>await t.set("balanceHiddenStatus",n),{mutateAsync:s}=y({mutationFn:r,onMutate:async n=>{await e.cancelQueries({queryKey:["balanceHiddenStatus"]});let a=e.getQueryData(["balanceHiddenStatus"]);return e.setQueryData(["balanceHiddenStatus"],n),{previousIsBalanceHidden:a}},onError:(n,a,u)=>{e.setQueryData(["balanceHiddenStatus"],u?.previousIsBalanceHidden)},onSuccess:()=>{e.invalidateQueries({queryKey:["balanceHiddenStatus"]})}});return s};o();i();var Vr=()=>{let t=p(),e=async()=>await t.get("lockTimerMs")??ft;return h({queryKey:["lockTimerMs"],queryFn:e})},$r=()=>{let t=p(),e=f();return y({mutationFn:async({lockTimeInMs:s})=>(se.addBreadcrumb("account",`Lock timer updated to ${s}ms`,"debug"),await t.set("lockTimerMs",s)),onSuccess:()=>{e.invalidateQueries({queryKey:["lockTimerMs"]})}})};o();i();var Oi=c.boolean();o();i();var Nt=F(J());var Qr=()=>{let{data:t,isFetching:e}=Te(),{data:r,isFetching:s}=Ce(),{data:n,isFetching:a}=G(),u=e||s||a;return(0,Nt.useMemo)(()=>({data:{"Analytics Opt Out":r,"Preferred Explorers":St(n),"Trusted Apps":t},isFetching:u}),[r,u,n,t])};o();i();var Ot=async t=>{await t.invalidateQueries({queryKey:g.recentAddresses()}),await t.invalidateQueries({queryKey:g.savedAddresses()})};He(Ot);o();i();var de=7200,Bt=()=>({networks:{},maxSessionDuration:de}),jr=c.object({networks:c.record(ne,c.boolean()),sessionStartTime:c.number().optional(),maxSessionDuration:c.literal(de)}),Wr=c.record(c.string(),jr);function Lt(t){let{sessionStartTime:e=0,maxSessionDuration:r=de,networks:s={}}=t??{};return Object.values(s).some(a=>a===!0)&&e>Date.now()-r*1e3}async function Gr(t,e){let s={...await q(t)};for(let n of Object.keys(s.apps[e]))s.apps[e][n].autoConfirm&&delete s.apps[e][n].autoConfirm;await V(t,s)}async function we(t,e,r){let s=r.replace(/\/$/,""),n=await q(t),a=n?.apps?.[e]?.[s]??{},u=a?.autoConfirm??Bt();if(a?.autoConfirm){let S=Object.values(u.networks).some(A=>A===!0);Lt(a?.autoConfirm)===!1&&S&&(u=await Yr(a.autoConfirm),u=u??Bt())}return a.autoConfirm=u,await V(t,n),a.autoConfirm}function Hr(t,e){let r=p(),s=f(),n=e.replace(/\/$/,"");return{set:y({async mutationFn(a){let u=await we(r,t,n),S=await q(r);return S.apps[t][n]&&(S.apps[t][n].autoConfirm=a),await V(r,S),u},async onSuccess(){await s.invalidateQueries({queryKey:g.trustedApps()}),await s.invalidateQueries({queryKey:g.allAutoConfirm(t)})}}),remove:y({async mutationFn(){let a=await q(r);a.apps[t][e]?.autoConfirm&&delete a.apps[t][e].autoConfirm,await V(r,a)},async onSuccess(){await s.invalidateQueries({queryKey:g.autoConfirm(t,e)})}}),get:h({queryKey:g.autoConfirm(t,e),refetchOnMount:"always",async queryFn(){return await we(r,t,e)}})}}function zr(t){let e=p(),r=f();return{removeAll:y({async mutationFn(){return await Gr(e,t)},async onSuccess(){await r.invalidateQueries({queryKey:g.trustedApps()}),await r.resetQueries({queryKey:g.allAutoConfirm(t)})}})}}async function Yr(t){if(!t?.networks)return t;for(let e of Object.keys(t?.networks))t.networks[e]=!1;return t}o();i();var $=F(J()),Jr=({isTestnetMode:t,enabledAddressTypes:e,enableAddressTypes:r,disableAddressTypes:s})=>{let{t:n}=tt(),a=(0,$.useMemo)(()=>C.getAddressTypes(t?"bip122:000000000933ea01ad0ee984209779ba":"bip122:000000000019d6689c085ae165831e93").sort(Kt),[t]),u=(0,$.useMemo)(()=>a.filter(v=>e.includes(v)).sort(Kt),[a,e]),S=(0,$.useCallback)(v=>{let _=C.getChainIDs(v);for(let L of _)if(C[L].addressTypes.filter(l=>e.includes(l)).length<=1)return!1;return!0},[e]),D=R(),A=(0,$.useCallback)((v,_)=>{_?S(v)&&(s({addressTypes:[v]}),D.capture("settingsPreferredBitcoinAddressToggledOffByUser",{data:{toggle:{addressType:v}}})):(r({addressTypes:[v]}),D.capture("settingsPreferredBitcoinAddressToggledOnByUser",{data:{toggle:{addressType:v}}}))},[D,S,s,r]),k=(0,$.useMemo)(()=>({bip122_p2wpkh:{title:ye.getDisplayName("bip122_p2wpkh"),subtitle:n("settingsPreferredBitcoinAddressNativeSegwitExplainer")},bip122_p2tr:{title:ye.getDisplayName("bip122_p2tr"),subtitle:n("settingsPreferredBitcoinAddressTaprootExplainer")}}),[n]);return{availableBitcoinAddressTypes:a,enabledBitcoinAddressTypes:u,canDisableAddressType:S,handleAddressTypeEnablementChange:A,PREFERRED_BTC_ADDRESS_CONTENT:k}},Ft=["bip122_p2wpkh","bip122_p2tr","bip122_p2sh","bip122_p2pkh"],Kt=(t,e)=>Ft.indexOf(t)-Ft.indexOf(e);o();i();var Xr=K.USD.value,be=()=>{let{value:t,...e}=Qe("selectedCurrency"),r=t??Xr;return{...e,result:r,data:r}},Ie=()=>je("selectedCurrency");o();i();var ue=F(J());var qt=[K.USD,K.EUR],Zr=({beforeSelectCurrency:t=()=>Promise.resolve(),goBack:e})=>{let r=R(),{data:s}=be(),{run:n}=Ie(),[a,u]=(0,ue.useState)(""),S=$e(a,200);return{currencyRows:(0,ue.useMemo)(()=>Object.values(K).sort((A,k)=>{let v=qt.indexOf(A),_=qt.indexOf(k),L=v!==-1,m=_!==-1;return L&&m?v-_:L&&!m?-1:!L&&m?1:A.name.localeCompare(k.name)}).filter(A=>[A.name,A.symbol,A.abbreviation].some(v=>v.toLowerCase().includes(S.toLowerCase()))).map(A=>{let k=s===A.value,v=()=>{A.value!==s&&t(A).then(()=>{r.capture("settingsCurrencyUpdatedByUser",{data:{newCurrency:A.value,oldCurrency:s}}),n(A.value),e()})};return{key:`currency-${A.value}`,topLeft:`${A.name} (${A.symbol})`,type:"radio",active:k,onPress:v}}),[r,S,e,s,n,t]),searchQuery:a,setSearchQuery:u}};o();i();o();i();o();i();var Vt=es;function es(t){var e,r,s;if(t){if(Array.isArray(t)){for(e=[],r=t.length,s=0;s<r;s++){var n=t[s];n!=null&&e.push(n)}return e}if(typeof t=="object"){e={};var a=Object.keys(t);for(r=a.length,s=0;s<r;s++){var u=a[s],S=t[u];S!=null&&(e[u]=S)}return e}}}var Wt=F(Pe());o();i();var ts=c.object({chainType:c.union([c.literal("bip122_p2wpkh"),c.literal("bip122_p2tr")]),chainName:c.literal("bitcoin"),networkId:c.union([c.literal("128"),c.literal("239")])}),rs=c.object({chainType:c.literal("eip155"),chainName:c.literal("ethereum"),networkId:c.union([c.literal("1"),c.literal("5"),c.literal("11155111")])}),ss=c.object({chainType:c.literal("eip155"),chainName:c.literal("polygon"),networkId:c.union([c.literal("137"),c.literal("80002")])}),ns=c.object({chainType:c.literal("eip155"),chainName:c.literal("base"),networkId:c.union([c.literal("8453"),c.literal("84532")])}),as=c.object({chainType:c.literal("eip155"),chainName:c.literal("arbitrum"),networkId:c.union([c.literal("42161"),c.literal("421614")])}),os=c.object({chainType:c.literal("eip155"),chainName:c.literal("monad"),networkId:c.union([c.literal("143"),c.literal("10143"),c.literal("41454")])}),Qt=c.object({chainType:c.literal("solana"),chainName:c.literal("solana"),networkId:c.union([c.literal("mainnet"),c.literal("testnet"),c.literal("devnet"),c.literal("localnet")])}),is=c.object({chainType:c.literal("sui"),chainName:c.literal("sui"),networkId:c.union([c.literal("mainnet"),c.literal("testnet")])}),jt=c.union([ts,rs,ns,as,os,ss,Qt,is]);var ke=()=>["t","y","1","true","yes"].some(t=>d.DISABLE_ANALYTICS?.toLowerCase()===t)??!1;function _e(t){if(!t)return;let e=t.data??{},r=t.data?.asset??{};try{e=JSON.parse(JSON.stringify(e)),r=JSON.parse(JSON.stringify(r))}catch(n){Wt.default.error("Failed to parse analytics payload",n);return}let s={...e,...t.action?{action:t.action}:{},...r&&typeof r=="object"?r:{},...t.type?{type:t.type}:{}};if("chainID"in s&&!("chainType"in s)&&!("chainName"in s)&&!("networkId"in s)){let n=ne.safeParse(s.chainID);n.success&&Object.assign(s,Gt(n.data))}return Vt(s)}function Gt(t){let e=C.getChainDefinition(t);return jt.parse({chainType:e.addressTypes[0],chainName:e.id,networkId:e.networks[t].value.toString()})}o();i();o();i();var Re=d.RUDDERSTACK_DATAPLANE??d.VITE_RUDDERSTACK_DATAPLANE??"https://data.phantom.app",cs=d.RUDDERSTACK_KEY_EXT,ds=d.RUDDERSTACK_KEY_WEB;o();i();function Z(t,{action:e,data:r}){let s={action:e,data:r};return t.capture("actionApprovedByUser",s)}function ee(t,{action:e,data:r}){let s={action:e,data:{...r,chainId:r.chainId??r.networkId}};return t.capture("actionDeniedByUser",s)}function Ue(t,{action:e,data:r}){let s={type:"transaction",data:{...r,chainId:r.chainId??r.networkId},action:e};return(!s.data.ids||s.data.ids.length===0)&&se.captureError(new Error("No ids found in transactionSubmitted payload"),"provider"),t.capture("transactionSubmitted",s)}function us(t,{action:e,data:r}){let s={data:{...r,chainId:r.chainId??r.networkId},action:e};return t.capture("transactionStatus",s)}function Me(t,e){let r={type:"message",data:{...e,chainId:e.chainId??e.networkId}};return t.capture("transactionSubmitted",r)}var U=class{analytics;action;constructor(e,r){this.analytics=e,this.action=r}approved=e=>{Z(this.analytics,{action:this.action,data:{...e,chainId:e.chainId??e.networkId}})};denied=async e=>{ee(this.analytics,{action:this.action,data:{...e,chainId:e.chainId??e.networkId}})};submittedTransaction=async(e,r)=>{Ue(this.analytics,{action:this.action,data:{...r,ids:r.ids??[e],chainId:r.chainId??r.networkId}})};signedMessage=async e=>{Me(this.analytics,{...e,chainId:e.chainId??e.networkId})};transactionStatus=async(e,r)=>{r.ids||(r.ids=[e]),us(this.analytics,{action:this.action,data:{...r,chainId:r.chainId??r.networkId}})}};async function Ht(t,e,r){let{origin:s}=e;switch(t.method){case"eth_sendTransaction":{let[n]=t.params,a=I(n.chainId);return a?.chainType!=="eip155"?{success:!1,error:`Unsupported Ethereum chain ID (${n.chainId}) for method "${t.method}"`}:{success:!0,data:{...a,origin:s,method:t.method,gas:n.gas,maxFeePerGas:n.maxFeePerGas,maxPriorityFeePerGas:n.maxPriorityFeePerGas,ids:r}}}case"sol_signTransaction":{let n=I(e.chainId);return n?.chainType!=="solana"?{success:!1,error:`Unsupported Solana chain ID (${e.chainId}) for method "${t.method}"`}:{success:!0,data:{...n,origin:s,method:"signTransaction",ids:r}}}case"sol_signAndSendTransaction":{let n=I(e.chainId);return n?.chainType!=="solana"?{success:!1,error:`Unsupported Solana chain ID (${e.chainId}) for method "${t.method}"`}:{success:!0,data:{...n,origin:s,method:"signAndSendTransaction",ids:r}}}case"sol_signAndSendAllTransactions":{let n=I(e.chainId);return n?.chainType!=="solana"?{success:!1,error:`Unsupported Solana chain ID (${e.chainId}) for method "${t.method}"`}:{success:!0,data:{...n,origin:s,method:"signAndSendAllTransactions",ids:r}}}case"sol_signAllTransactions":{let n=I(e.chainId);return n?.chainType!=="solana"?{success:!1,error:`Unsupported Solana chain ID (${e.chainId}) for method "${t.method}"`}:{success:!0,data:{...n,origin:s,method:"signAllTransactions",ids:r}}}}}async function zt(t,e){let{origin:r}=e;switch(t.method){case"eth_sign":case"personal_sign":{let s=e.chainId,n=I(s);return n?.chainType!=="eip155"?{success:!1,error:`Unsupported Ethereum chain ID (${s}) for method "${t.method}"`}:{success:!0,data:{...n,method:t.method,origin:r}}}case"eth_signTypedData":{let[s]=t.params,n=e.chainId;for(let u of s)if(u.name==="chainId"){n=u.value;break}let a=I(n);return a?.chainType!=="eip155"?{success:!1,error:`Unsupported Ethereum chain ID (${n}) for method "${t.method}"`}:{success:!0,data:{...a,method:t.method,origin:r}}}case"eth_signTypedData_v3":{let[s,n]=t.params,a=n.domain.chainId??e.chainId,u=I(a);return u?.chainType!=="eip155"?{success:!1,error:`Unsupported Ethereum chain ID (${a}) for method "${t.method}"`}:{success:!0,data:{...u,method:t.method,origin:r}}}case"eth_signTypedData_v4":{let[s,n]=t.params,a=e.chainId;(typeof n.domain.chainId=="string"||typeof n.domain.chainId=="number")&&(a=n.domain.chainId);let u=I(a);return u?.chainType!=="eip155"?{success:!1,error:`Unsupported Ethereum chain ID (${a}) for method "${t.method}"`}:{success:!0,data:{...u,method:t.method,origin:r}}}case"sol_signIn":case"sol_signMessage":{let s=e.chainId,n=I(s);return n?.chainType!=="solana"?{success:!1,error:`Unsupported Solana chain ID (${s}) for method "${t.method}"`}:{success:!0,data:{...n,method:t.method==="sol_signIn"?"signIn":"signMessage",origin:r}}}}}o();i();o();i();var M=F(Pe());var ls=["enable-blocklist-metrics","enable-blocklist-blowfish-logonly","enable-force-upgrade"],O="[Analytics Log]",z=class{storage;constructor(e){this.storage=e}async capture(e,r){M.default.debug(O,"Capture Event:",e,_e(r))}async getFeatureFlags(){let{ENABLED_FLAGS:e,featureFlags:r,getFeatureFlagOverrides:s}=await import("./src-PDQAYPDE.js"),n=r.filter(D=>!D.startsWith("kill")&&!ls.includes(D)),a=Object.fromEntries(n.map(D=>[D,!0])),u=await s(this.storage),S=Object.fromEntries(e.map(D=>[D,!0]));return{...a,...S,...u}}async addUserProperties(e){M.default.debug(O,"User Properties:",JSON.stringify(e))}async identify(e,r){M.default.debug(O,"Identify, accountID:",e," traits:",r)}async getDeviceId(){return"mock-device-id"}setDeviceId(e){M.default.debug(O,`SetDeviceId: ${e}`)}async setAnalyticsOptedOut(e){M.default.debug(O,`SetAnalyticsOptedOut: ${e}`)}async setDisplayLanguage(e){M.default.debug(O,`SetDisplayLanguage: ${e}`)}screen(e,r){M.default.debug(O,`Screen: ${e}`,r)}page(e,r,s,n){M.default.debug(O,`Page: ${e}`,r,s,n)}rudderClient};var Yt=()=>Re,ps=({storage:t,rudderStackKey:e,createAnalytics:r})=>{if(!e)throw new Error("RUDDERSTACK_KEY_[*] env variables required.");let s=Yt();if(!s)throw new Error("[*]_RUDDERSTACK_DATAPLANE env variables required.");return ke()?new z(t):r(e,s)};o();i();o();i();var gs="burn",Jt=t=>new U(t,gs);o();i();var ms="send",Xt=t=>new U(t,ms);var Ne={};sr(Ne,{action:()=>pe,createDappAnalytics:()=>ys,userApprovedAction:()=>fs,userDeniedAction:()=>Ss});o();i();var pe="dapp",ys=t=>new U(t,pe);async function fs(t,e){return await Z(t,{action:pe,data:{...e,chainId:e.networkId}})}async function Ss(t,e){return await ee(t,{action:pe,data:{...e,chainId:e.networkId}})}var hs=t=>({send:Xt(t),burn:Jt(t)});o();i();async function B(){}var As=()=>({capture:B,getFeatureFlags:async()=>({}),addUserProperties:B,identify:B,getDeviceId:async()=>"",setDeviceId:B,setAnalyticsOptedOut:B,setDisplayLanguage:B,screen:B,page:B,rudderClient:{}});o();i();o();i();var Es=F(J());export{N as a,Rn as b,pt as c,ir as d,Un as e,Mn as f,yt as g,ft as h,ie as i,ce as j,cr as k,dr as l,Ae as m,ur as n,lr as o,pr as p,gr as q,q as r,Te as s,V as t,_r as u,xe as v,de as w,Lt as x,we as y,Hr as z,zr as A,Ee as B,Et as C,mr as D,yr as E,vt as F,Rr as G,Ur as H,Or as I,Br as J,Mt as K,Ce as L,Lr as M,Fr as N,Kr as O,Vr as P,$r as Q,fr as R,Sr as S,hr as T,G as U,Ar as V,Er as W,vr as X,Dt as Y,Dr as Z,Tr as _,xr as $,Qr as aa,Ot as ba,Jr as ca,be as da,Zr as ea,cs as fa,Ue as ga,Me as ha,U as ia,Ht as ja,zt as ka,_e as la,Gt as ma,ps as na,Ne as oa,hs as pa,As as qa};
//# sourceMappingURL=chunk-ISLSTDN4.js.map
