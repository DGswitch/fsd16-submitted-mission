(self.webpackChunkyoroi=self.webpackChunkyoroi||[]).push([[4080],{61888:(e,t,i)=>{"use strict";i.d(t,{Z:()=>o});var s=i(259),n=i(99226),a=i(48521);const o=(0,s.observer)((({code:e})=>(0,a.jsx)(n.Z,{sx:{backgroundColor:"ds.bg_color_contrast_min",borderRadius:"8px",color:"ds.text_gray_medium",padding:"16px",fontWeight:400,lineHeight:"22px",maxHeight:"360px",overflowY:"overlay",overflowX:"hidden",wordBreak:"break-word"},children:(0,a.jsx)("code",{children:e})})))},89497:(e,t,i)=>{"use strict";i.d(t,{Z:()=>j});var s=i(89400),n=i.n(s),a=i(56474),o=i.n(a),r=i(87672),l=i.n(r),d=i(67294),c=i(99095),u=i(259),g=i(99226),p=i(20847),h=i(19809),m=i(94184),x=i.n(m),b=i(71653),f=i(36094),w=i(38043),v=(i(63139),i(93379)),y=i.n(v),_=i(23549);y()(_.Z,{insert:"head",singleton:!1});const D=_.Z.locals||{};var M,C,S=i(48521);let j=(0,u.observer)((C=class extends d.Component{render(){var e,t,i;const{intl:s}=this.context,{isSubmitting:a,error:r,id:l}=this.props,d=x()(["removeWalletDialog",D.dialog]),c=x()(["confirmButton",D.removeButton,a?D.isSubmitting:null]),u=[{label:s.formatMessage(w.default.cancel),primary:!1,disabled:this.props.isSubmitting,...null!==(e=this.props.secondaryButton)&&void 0!==e?e:o()({})},{primary:!0,className:c,disabled:!this.props.isChecked||void 0,danger:null===(t=this.props.primaryButton.danger)||void 0===t||t,isSubmitting:this.props.isSubmitting,...null!==(i=this.props.primaryButton)&&void 0!==i?i:o()({})}];return(0,S.jsx)(f.ZP,{title:this.props.title,dialogActions:u,closeOnOverlayClick:!1,onClose:this.props.onCancel,className:d,closeButton:(0,S.jsx)(b.Z,{onClose:this.props.onCancel}),id:l,children:(0,S.jsxs)(g.Z,{maxWidth:"600px",children:[this.props.children,(0,S.jsx)(g.Z,{mb:"24px",ml:"3px",children:(0,S.jsx)(p.Z,{label:this.props.checkboxAcknowledge,control:(0,S.jsx)(h.Z,{onChange:this.props.toggleCheck,checked:this.props.isSubmitting||this.props.isChecked,sx:{marginRight:"8px",width:"16px",height:"16px",fontSize:"16px"}}),id:l+"-acknowledgeAction-checkbox",sx:{marginLeft:"-0px",color:"ds.text_gray_medium"}})}),r?(0,S.jsx)("p",{className:D.error,children:s.formatMessage(r,n()(r))}):null]})})}},l()(C,"contextTypes",{intl:c.intlShape.isRequired}),M=C))||M},54089:(e,t,i)=>{"use strict";i.d(t,{Z:()=>o});var s=i(84059),n=i(2734),a=i(48521);const o=({value:e,size:t,id:i="qr-code",includeMargin:o=!1})=>{const r=(0,n.Z)();return(0,a.jsx)(s.ZP,{value:e,bgColor:r.palette.ds.white_static,fgColor:r.palette.ds.black_static,size:t,includeMargin:o,id:i})}},74080:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>at});var s=i(87672),n=i.n(s),a=i(67294),o=i(259),r=i(89400),l=i.n(r),d=i(99095),c=(i(63139),i(54103)),u=i.n(c),g=i(94184),p=i.n(g),h=i(94535),m=i(52298),x=i(11634),b=i.n(x),f=i(93379),w=i.n(f),v=i(66138);w()(v.Z,{insert:"head",singleton:!1});const y=v.Z.locals||{};var _,D,M=i(52974),C=i(48521);const S=(0,d.defineMessages)({change:{id:"inline.editing.input.change.label",defaultMessage:"!!!change"},cancel:{id:"inline.editing.input.cancel.label",defaultMessage:"!!!cancel"},changesSaved:{id:"inline.editing.input.changesSaved",defaultMessage:"!!!Your changes have been saved"}});let j=(0,o.observer)((D=class extends a.Component{constructor(...e){super(...e),n()(this,"state",{isActive:!1}),n()(this,"validator",new m.Z({fields:{inputField:{value:this.props.inputFieldValue,validators:[({field:e})=>[this.props.isValid(e.value),this.props.validationErrorMessage]]}}},{options:{validateOnChange:!0,validationDebounceWait:M.Z.forms.FORM_VALIDATION_DEBOUNCE_WAIT},plugins:{vjf:b()()}})),n()(this,"submit",(()=>{this.validator.submit({onSuccess:async e=>{const{inputField:t}=l()(e).call(e);t!==this.props.inputFieldValue?(await this.props.onSubmit(t),this.props.onStopEditing()):this.props.onCancelEditing(),this.setState({isActive:!1})}})})),n()(this,"handleInputKeyDown",(e=>{13===e.which&&this.onBlur(),27===e.which&&this.onCancel()})),n()(this,"onFocus",(()=>{this.setState({isActive:!0}),this.props.onStartEditing()})),n()(this,"onBlur",(()=>{this.state.isActive&&(this.submit(),this.inputField.blur())})),n()(this,"onCancel",(()=>{this.validator.$("inputField").value=this.props.inputFieldValue,this.setState({isActive:!1}),this.props.onCancelEditing(),this.inputField.blur()})),n()(this,"inputField",void 0)}componentDidUpdate(){this.props.isActive&&this.inputField&&this.inputField.focus()}render(){const{validator:e}=this,{className:t,inputFieldLabel:i,isActive:s,successfullyUpdated:n,id:a}=this.props,{intl:o}=this.context,r=e.$("inputField"),l=p()([t,y.component,s?null:y.inactive,r.error&&y.error]),d=p()([n?"input_animateSuccess":null,s?null:"input_cursorPointer"]);return(0,C.jsxs)("div",{className:l,onBlur:this.onBlur,onClick:this.onFocus,role:"presentation","aria-hidden":!0,children:[(0,C.jsx)(h.Z,{className:d,type:"text",...u()(r).call(r),label:i,value:r.value,onChange:r.onChange,onKeyDown:e=>this.handleInputKeyDown(e),error:0===r.value.length||r.value.length>40?r.error:"",inputRef:e=>{this.inputField=e},id:a+"-editValue-input",onFocus:e=>{e.target.select()}}),n&&(0,C.jsx)("div",{className:y.savingResultLabel,children:o.formatMessage(S.changesSaved)})]})}},n()(D,"defaultProps",{className:void 0}),n()(D,"contextTypes",{intl:d.intlShape.isRequired}),_=D))||_;var P=i(38043),I=i(15139);w()(I.Z,{insert:"head",singleton:!1});const E=I.Z.locals||{};var k,Z,W=i(23972),A=i(99226);const R=(0,d.defineMessages)({name:{id:"wallet.settings.name.label",defaultMessage:"!!!Wallet name"},title:{id:"wallet.settings.wallet.basics",defaultMessage:"!!!Basics"}});let T=(0,o.observer)((Z=class extends a.Component{componentWillUnmount(){this.props.onCancelEditing()}render(){const{intl:e}=this.context,{walletName:t,error:i,onFieldValueChange:s,onStartEditing:n,onStopEditing:a,onCancelEditing:o,nameValidator:r,isSubmitting:d,isInvalid:c,lastUpdatedField:u}=this.props;return(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)(W.Z,{component:"div",variant:"body1",fontWeight:500,mb:"16px",color:"ds.text_gray_medium",children:e.formatMessage(R.title)}),(0,C.jsxs)(A.Z,{sx:{width:"506px"},children:[(0,C.jsx)(j,{className:"walletName",inputFieldLabel:e.formatMessage(R.name),inputFieldValue:t,isActive:!1,onStartEditing:()=>n("name"),onStopEditing:a,onCancelEditing:o,onSubmit:async e=>s("name",e),isValid:r,validationErrorMessage:e.formatMessage(P.default.invalidWalletName),successfullyUpdated:!d&&"name"===u&&!c,id:"settings:wallet:walletName"}),i&&(0,C.jsx)("div",{className:E.error,children:e.formatMessage(i,l()(i))})]})]})}},n()(Z,"defaultProps",{error:void 0}),n()(Z,"contextTypes",{intl:d.intlShape.isRequired}),k=Z))||k;var F,L,N=i(57474),O=i(69397);const B=(0,d.defineMessages)({passwordLastUpdated:{id:"wallet.settings.passwordLastUpdated",defaultMessage:"!!!Last updated"},unchangedPassword:{id:"wallet.settings.unchangedPassword",defaultMessage:"!!!Password unchanged since wallet creation"},title:{id:"wallet.settings.password.title",defaultMessage:"!!!Wallet password"},passwordDescription:{id:"wallet.settings.password.description",defaultMessage:"!!!Password is an additional security layer used to confirm transactions from this device. Password is stored locally, so you are only person who can change or restore it."},changePassword:{id:"wallet.settings.password.change",defaultMessage:"!!!Change password"}});let V=(0,o.observer)((L=class extends a.Component{render(){const{intl:e}=this.context;return(0,C.jsxs)(A.Z,{mt:"13px",children:[(0,C.jsx)(W.Z,{component:"div",variant:"body1",fontWeight:500,color:"grayscale.900",mb:"16px",children:e.formatMessage(B.title)}),(0,C.jsx)(W.Z,{component:"div",variant:"body1",color:"ds.text_gray_medium",mb:"16px",children:e.formatMessage(B.passwordDescription)}),(0,C.jsx)(O.Z,{onClick:this.props.openDialog,size:"flat",variant:"contained",color:"primary",id:"settings:wallet-changePassword-button",children:e.formatMessage(B.changePassword)})]})}},n()(L,"contextTypes",{intl:d.intlShape.isRequired}),F=L))||F;var z,Y;const q=(0,d.defineMessages)({titleLabel:{id:"wallet.settings.resync.label",defaultMessage:"!!!Resync wallet with the blockchain"},resyncExplanation:{id:"wallet.settings.resync.explanation",defaultMessage:"!!!If you are experiencing issues with your wallet, or think you have an incorrect balance or transaction history, you can delete the local data stored by Yoroi and resync with the blockchain."}});let U=(0,o.observer)((Y=class extends a.Component{render(){const{intl:e}=this.context,{openDialog:t}=this.props;return(0,C.jsxs)(A.Z,{sx:{pb:"20px",mt:"40px",pt:!1,borderTop:!1},children:[(0,C.jsx)(W.Z,{variant:"body1",fontWeight:500,mb:"16px",color:"ds.text_gray_medium",children:e.formatMessage(q.titleLabel)}),(0,C.jsx)(W.Z,{variant:"body1",color:"ds.text_gray_medium",mb:"16px",children:e.formatMessage(q.resyncExplanation)}),(0,C.jsx)(O.Z,{variant:"contained",size:"flat",className:"resyncButton",onClick:t,sx:{marginTop:!1,width:"fit-content"},id:"settings:wallet-resyncWallet-button",children:this.context.intl.formatMessage(P.default.resyncButtonLabel)})]})}},n()(Y,"contextTypes",{intl:d.intlShape.isRequired}),z=Y))||z;var K,H;const $=(0,d.defineMessages)({titleLabel:{id:"wallet.settings.remove.label",defaultMessage:"!!!Remove wallet"},removeExplanation:{id:"wallet.settings.remove.explanation",defaultMessage:"!!!Removing a wallet does not affect the wallet balance. Your wallet can be restored again at any time."}});let J=(0,o.observer)((H=class extends a.Component{render(){const{intl:e}=this.context,{openDialog:t}=this.props;return(0,C.jsxs)(A.Z,{sx:{pb:"20px",mt:"20px",pt:!1,borderTop:!1,borderColor:!1},children:[(0,C.jsx)(W.Z,{variant:"body1",fontWeight:500,mb:"16px",color:"grayscale.900",children:e.formatMessage($.titleLabel)}),(0,C.jsx)(W.Z,{variant:"body1",color:"ds.text_gray_medium",mb:"16px",children:e.formatMessage($.removeExplanation)}),(0,C.jsx)(O.Z,{variant:"contained",size:"flat",color:"error",className:"removeWallet",onClick:t,sx:{marginTop:!1,width:"fit-content"},id:"settings:wallet-removeWallet-button",children:`${this.context.intl.formatMessage(P.default.remove)} ${this.props.walletName}`})]})}},n()(H,"contextTypes",{intl:d.intlShape.isRequired}),K=H))||K;var Q,X;const G=(0,d.defineMessages)({titleLabel:{id:"wallet.settings.export.label",defaultMessage:"!!!Export wallet"},exportExplanation:{id:"wallet.settings.export.explanation",defaultMessage:"!!!This can be used to transfer a wallet between devices."}});let ee=(0,o.observer)((X=class extends a.Component{render(){const{intl:e}=this.context,{openDialog:t}=this.props;return(0,C.jsxs)(A.Z,{sx:{pb:"20px",mt:"20px",pt:!1,borderTop:!1,borderColor:!1},children:[(0,C.jsx)(W.Z,{component:"div",variant:"body1",fontWeight:500,mb:"16px",color:"grayscale.900",children:e.formatMessage(G.titleLabel)}),(0,C.jsx)(W.Z,{component:"div",variant:"body1",color:"ds.text_gray_medium",mb:"16px",children:e.formatMessage(G.exportExplanation)}),(0,C.jsx)(O.Z,{variant:"contained",size:"flat",className:"exportWallet",onClick:t,sx:{marginTop:!1,width:"fit-content"},id:"settings:wallet-exportWallet-button",children:`${this.context.intl.formatMessage(P.default.exportButtonLabel)}`})]})}},n()(X,"contextTypes",{intl:d.intlShape.isRequired}),Q=X))||Q;var te,ie,se,ne,ae,oe=i(5838),re=i.n(oe),le=i(89749),de=i.n(le),ce=(i(18293),i(22188)),ue=i(89497);const ge=(0,d.defineMessages)({warning2:{id:"wallet.settings.delete.warning2",defaultMessage:"!!!Please double-check you still have the means to restore access to this wallet. If you cannot, removing the wallet may result in irreversible loss of funds."},accept:{id:"wallet.settings.delete.accept",defaultMessage:"!!!I still have the means to restore this wallet"},cashbackWarning1:{id:"wallet.settings.delete.warning1.cashback",defaultMessage:"!!!Removing this wallet will not impact its balance, but as it is the rewards wallet, this may disrupt your cashback process. You can also use another wallet for connecting the cashback before removing this wallet."},cashbackWarning2:{id:"wallet.settings.delete.warning2.cashback",defaultMessage:"!!!This wallet can be restored again at any time, but double-check if you still have the means to restore access to it. If you cannot, removing the wallet may result in irreversible loss of funds."},cashbackAccept:{id:"wallet.settings.delete.accept.cashback",defaultMessage:"!!!I still have the means to restore this wallet and want to stop generating cashback rewards for this wallet."}});let pe=(0,o.observer)((ae=class extends a.Component{constructor(...e){super(...e),n()(this,"state",{warning1Text:null,warning2Text:null,acceptText:null}),re()(this,"isChecked",se,this),re()(this,"toggleCheck",ne,this),n()(this,"removeWalletRevamp",(async()=>this.props.stores.walletSettings.removeWallet({publicDeriverId:this.props.publicDeriverId})))}componentWillUnmount(){this.props.stores.walletSettings.removeWalletRequest.reset()}async componentDidMount(){const{wallets:e}=this.props.stores;await e.getCashbackWallet()===e.selected?this.setState({warning1Text:ge.cashbackWarning1,warning2Text:ge.cashbackWarning2,acceptText:ge.cashbackAccept}):this.setState({warning1Text:$.removeExplanation,warning2Text:ge.warning2,acceptText:ge.accept})}render(){const{intl:e}=this.context,t=this.props.stores.walletSettings,{warning1Text:i,warning2Text:s,acceptText:n}=this.state;return i&&s&&n?(0,C.jsxs)(ue.Z,{title:e.formatMessage($.titleLabel),checkboxAcknowledge:e.formatMessage(n),isChecked:this.isChecked,toggleCheck:this.toggleCheck,isSubmitting:t.removeWalletRequest.isExecuting,error:t.removeWalletRequest.error,onCancel:this.props.stores.uiDialogs.closeActiveDialog,primaryButton:{label:e.formatMessage(P.default.remove),onClick:this.removeWalletRevamp},secondaryButton:{onClick:this.props.stores.uiDialogs.closeActiveDialog},id:"removeWalletDialog",children:[(0,C.jsx)(W.Z,{varint:"body1",sx:{color:"ds.text_gray_medium"},children:e.formatMessage(i)}),(0,C.jsxs)(W.Z,{varint:"body1",sx:{color:"ds.text_gray_medium"},children:[" ",e.formatMessage(s)]})]}):null}},n()(ae,"contextTypes",{intl:d.intlShape.isRequired}),ie=ae,se=de()(ie.prototype,"isChecked",[ce.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),ne=de()(ie.prototype,"toggleCheck",[ce.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return()=>{this.props.stores.walletSettings.removeWalletRequest.isExecuting||(this.isChecked=!this.isChecked)}}}),te=ie))||te;var he,me,xe=i(59340),be=i.n(xe),fe=i(36094),we=i(61888),ve=i(71653),ye=i(54089),_e=i(5557),De=i(90948),Me=i(29861),Ce=i(18843);const Se=(0,d.defineMessages)({publicKeyExplanationLine1:{id:"wallet.settings.publicExport.explanationLine1",defaultMessage:"!!!The below you can find your wallet's <strong>public</strong> key information."},reason1:{id:"wallet.settings.publicExport.reason1",defaultMessage:"!!!Open your wallet in read-only mode in Yoroi Mobile to easily check your balance at any time"},reason2:{id:"wallet.settings.publicExport.reason2",defaultMessage:"!!!Share your key with tax software to automatically generate tax reports"}}),je=(0,De.ZP)(Me.ZP)((({theme:e})=>({paddingLeft:"8px",paddingBottom:"0px","::before":{content:'"â—"',marginRight:"0.4em",fontSize:"0.8em",color:e.palette.ds.text_gray_medium}})));let Pe=(0,o.observer)((me=class extends a.Component{constructor(...e){super(...e),n()(this,"renderQrCode",(e=>(0,C.jsx)(C.Fragment,{children:(0,C.jsx)(A.Z,{display:"flex",justifyContent:"center",marginBottom:"16px",children:(0,C.jsx)(A.Z,{padding:"16px",width:"184px",height:"184px",borderRadius:"8px",sx:{backgroundColor:"ds.white_static"},children:(0,C.jsx)(ye.Z,{value:be()(e),size:152})})})}))),n()(this,"renderKey",(e=>{const{intl:t}=this.context;return(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)(W.Z,{variant:"body1",fontWeight:500,color:"ds.text_gray_medium",children:t.formatMessage(P.default.keyLabel)}),(0,C.jsx)(we.Z,{code:e}),(0,C.jsx)("br",{})]})})),n()(this,"renderPath",(e=>{const{intl:t}=this.context;return(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)(W.Z,{variant:"body1",fontWeight:500,color:"ds.text_gray_medium",children:t.formatMessage(P.default.derivationPathLabel)}),(0,C.jsx)(A.Z,{fontFamily:"RobotoMono",children:(0,C.jsx)(W.Z,{variant:"body1",color:"ds.text_gray_low",children:(0,_e.FB)(e)})}),(0,C.jsx)("br",{})]})}))}render(){const{intl:e}=this.context,t={publicKeyHex:this.props.publicKeyHex,path:this.props.pathToPublic};return(0,C.jsx)(fe.ZP,{title:e.formatMessage(P.default.exportButtonLabel),closeOnOverlayClick:!1,onClose:this.props.onClose,closeButton:(0,C.jsx)(ve.Z,{}),className:"ExportWalletDialogContainer",children:(0,C.jsxs)(A.Z,{sx:{display:"flex",justifyContent:"center",flexDirection:"column"},children:[(0,C.jsxs)(A.Z,{marginBottom:"20px",children:[(0,C.jsx)(W.Z,{variant:"body1",mb:"16px",color:"ds.text_gray_medium",children:(0,C.jsx)(d.FormattedHTMLMessage,{...Se.publicKeyExplanationLine1})}),(0,C.jsx)(W.Z,{variant:"body1",mb:"16px",color:"ds.text_gray_medium",children:(0,C.jsx)(d.FormattedHTMLMessage,{...P.default.publicKeyExplanation})}),(0,C.jsx)(W.Z,{variant:"body1",color:"ds.text_gray_medium",children:e.formatMessage(P.default.whyUse)}),(0,C.jsxs)(Ce.Z,{disablePadding:!0,children:[(0,C.jsx)(je,{children:(0,C.jsx)(W.Z,{color:"ds.text_gray_medium",mb:"0px",children:e.formatMessage(Se.reason1)})},"1"),(0,C.jsx)(je,{children:(0,C.jsx)(W.Z,{color:"ds.text_gray_medium",mb:"0px",children:e.formatMessage(Se.reason2)})},"2")]})]}),this.renderQrCode(t),this.renderKey(t.publicKeyHex),this.renderPath(t.path)]})})}},n()(me,"contextTypes",{intl:d.intlShape.isRequired}),he=me))||he;var Ie,Ee;let ke=(0,o.observer)((Ee=class extends a.Component{render(){const{selected:e}=this.props.stores.wallets;return null==e?null:(0,C.jsx)(Pe,{onClose:this.props.stores.uiDialogs.closeActiveDialog,publicKeyHex:e.publicKey,pathToPublic:e.pathToPublic})}},n()(Ee,"contextTypes",{intl:d.intlShape.isRequired}),Ie=Ee))||Ie;var Ze,We,Ae,Re,Te;const Fe=(0,d.defineMessages)({warning:{id:"wallet.settings.resync.warning",defaultMessage:"!!!This will also cause failed transactions to disappear as they are not stored on the blockchain."}});let Le=(0,o.observer)((Te=class extends a.Component{constructor(...e){super(...e),re()(this,"isChecked",Ae,this),re()(this,"toggleCheck",Re,this)}componentWillUnmount(){this.props.stores.walletSettings.clearHistory.reset()}render(){const{intl:e}=this.context,t=this.props.stores.walletSettings;return(0,C.jsxs)(ue.Z,{title:e.formatMessage(q.titleLabel),checkboxAcknowledge:e.formatMessage(P.default.uriLandingDialogConfirmLabel),isChecked:this.isChecked,toggleCheck:this.toggleCheck,isSubmitting:t.clearHistory.isExecuting,error:t.clearHistory.error,primaryButton:{label:e.formatMessage(P.default.resyncButtonLabel),danger:!1,onClick:async()=>{await this.props.stores.walletSettings.resyncHistory({publicDeriverId:this.props.publicDeriverId}),this.props.stores.uiDialogs.closeActiveDialog()}},onCancel:this.props.stores.uiDialogs.closeActiveDialog,secondaryButton:{onClick:this.props.stores.uiDialogs.closeActiveDialog},id:"resyncWalletDialog",children:[(0,C.jsx)(W.Z,{variant:"body1",mb:"16px",color:"ds.text_gray_medium",children:e.formatMessage(q.resyncExplanation)}),(0,C.jsx)(W.Z,{variant:"body1",color:"ds.text_gray_medium",mb:"16px",children:e.formatMessage(Fe.warning)})]})}},n()(Te,"contextTypes",{intl:d.intlShape.isRequired}),We=Te,Ae=de()(We.prototype,"isChecked",[ce.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Re=de()(We.prototype,"toggleCheck",[ce.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return()=>{this.props.stores.walletSettings.clearHistory.isExecuting||(this.isChecked=!this.isChecked)}}}),Ze=We))||Ze;var Ne=i(10944),Oe=i(86902),Be=i.n(Oe),Ve=i(2991),ze=i.n(Ve),Ye=i(20116),qe=i.n(Ye),Ue=i(97096);w()(Ue.Z,{insert:"head",singleton:!1});const Ke=Ue.Z.locals||{};var He,$e;const Je=(0,d.defineMessages)({dialogTitleChangePassword:{id:"wallet.settings.changePassword.dialog.title.changePassword",defaultMessage:"!!!Change password"},currentPasswordLabel:{id:"wallet.settings.changePassword.dialog.currentPasswordLabel",defaultMessage:"!!!Current password"},currentPasswordFieldPlaceholder:{id:"wallet.settings.changePassword.dialog.currentPasswordFieldPlaceholder",defaultMessage:"!!!Type current password"}});let Qe=(0,o.observer)(($e=class extends a.Component{constructor(...e){var t,i;super(...e),n()(this,"form",new m.Z({fields:{currentPassword:{type:"password",label:this.context.intl.formatMessage(Je.currentPasswordLabel),placeholder:"",value:this.props.dialogData.currentPasswordValue},walletPassword:{type:"password",label:this.context.intl.formatMessage(P.default.newPasswordLabel),placeholder:"",value:this.props.dialogData.newPasswordValue,validators:[({field:e,form:t})=>{const i=t.$("repeatPassword");return i.value.length>0&&i.validate({showErrors:!0}),[(0,Ne.rz)(e.value),this.context.intl.formatMessage(P.default.invalidWalletPassword)]}]},repeatPassword:{type:"password",label:this.context.intl.formatMessage(P.default.repeatPasswordLabel),placeholder:"",value:this.props.dialogData.repeatedPasswordValue,validators:[({field:e,form:t})=>{const i=t.$("walletPassword").value;return 0===i.length?[!0]:[(0,Ne.EC)(i,e.value),this.context.intl.formatMessage(P.default.invalidRepeatPassword)]}]}}},{options:{showErrorsOnInit:qe()(t=ze()(i=Be()(this.props.dialogData)).call(i,(e=>this.props.dialogData[e]))).call(t,(e=>""!==e&&null!=e)).length>0,validateOnChange:!0,validationDebounceWait:M.Z.forms.FORM_VALIDATION_DEBOUNCE_WAIT},plugins:{vjf:b()()}})),n()(this,"submit",(()=>{this.form.submit({onSuccess:async e=>{const{currentPassword:t,walletPassword:i}=l()(e).call(e),s={oldPassword:t||null,newPassword:i};await this.props.onSave(s)},onError:()=>{}})})),n()(this,"handleDataChange",((e,t)=>{this.props.onDataChange({[e]:t})}))}render(){const{form:e}=this,{intl:t}=this.context,{onCancel:i,isSubmitting:s,dialogData:n,error:a}=this.props,o=p()(["changePasswordDialog",Ke.dialog]),r=p()([Ke.walletPasswordFields]),d=p()(["confirmButton"]),c=p()(["newPassword"]),g=e.$("currentPassword"),m=e.$("walletPassword"),x=e.$("repeatPassword"),b=m.value,f=x.value,w=s||!((0,Ne.rz)(b)&&(0,Ne.EC)(b,f)),v=[{label:t.formatMessage(P.default.save),onClick:this.submit,primary:!0,className:d,disabled:w,isSubmitting:this.props.isSubmitting}];return(0,C.jsxs)(fe.ZP,{title:t.formatMessage(Je.dialogTitleChangePassword),dialogActions:v,closeOnOverlayClick:!1,onClose:i,className:o,closeButton:(0,C.jsx)(ve.Z,{onClose:i}),id:"changePasswordDialog",children:[(0,C.jsx)("div",{className:Ke.walletPassword,children:(0,C.jsx)(h.Z,{type:"password",className:"currentPassword",value:n.currentPasswordValue,onChange:e=>this.handleDataChange("currentPasswordValue",e),...u()(g).call(g),error:g.error})}),(0,C.jsxs)("div",{className:r,children:[(0,C.jsx)(h.Z,{type:"password",className:c,value:n.newPasswordValue,onChange:e=>this.handleDataChange("newPasswordValue",e),...u()(m).call(m),done:m.isValid,error:m.error}),(0,C.jsx)(h.Z,{type:"password",className:"repeatedPassword",value:n.repeatedPasswordValue,onChange:e=>this.handleDataChange("repeatedPasswordValue",e),...u()(x).call(x),done:f&&x.isValid,error:x.error})]}),a?(0,C.jsx)("div",{className:Ke.error,id:"changePasswordDialog-errorMessage-text",children:t.formatMessage(a,l()(a))}):null]})}},n()($e,"contextTypes",{intl:d.intlShape.isRequired}),He=$e))||He;var Xe;let Ge=(0,o.observer)(Xe=class extends a.Component{render(){const{stores:e}=this.props,{uiDialogs:t,walletSettings:i}=e,{changeSigningKeyRequest:s}=i;return(0,C.jsx)(Qe,{dialogData:{currentPasswordValue:t.getActiveData("currentPasswordValue"),newPasswordValue:t.getActiveData("newPasswordValue"),repeatedPasswordValue:t.getActiveData("repeatedPasswordValue")},onSave:async t=>{const{oldPassword:i,newPassword:s}=t;await e.walletSettings.updateSigningPassword({publicDeriverId:this.props.publicDeriverId,oldPassword:i,newPassword:s})},onCancel:()=>{e.uiDialogs.closeActiveDialog(),s.reset()},onPasswordSwitchToggle:()=>{s.reset()},onDataChange:t=>{e.uiDialogs.updateDataForActiveDialog(t)},isSubmitting:s.isExecuting,error:s.error})}})||Xe;var et,tt,it=i(79667),st=i.n(it),nt=i(75941);let at=(0,o.observer)((tt=class extends a.Component{constructor(...e){super(...e),n()(this,"getDialog",(e=>{const{stores:t}=this.props,{isOpen:i}=this.props.stores.uiDialogs;return null!=e&&i(Ge)?(0,C.jsx)(Ge,{stores:t,publicDeriverId:e}):null!=e&&i(ke)?(0,C.jsx)(ke,{stores:t}):i(pe)?null==e?null:(0,C.jsx)(pe,{stores:t,publicDeriverId:e}):null!=e&&i(Le)?(0,C.jsx)(Le,{stores:t,publicDeriverId:e}):null}))}render(){const{intl:e}=this.context,{stores:t}=this.props,{walletSettings:i}=t,{renameModelRequest:s,lastUpdatedWalletField:n,walletFieldBeingEdited:a}=i,o=nt.Z.isDev(),{selected:r,selectedWalletName:l}=this.props.stores.wallets;if(null==r)return(0,C.jsxs)(C.Fragment,{children:[this.getDialog(void 0),(0,C.jsx)(N.Z,{})]});if(null==l)throw new Error("unexpected nullish wallet name");return(0,C.jsxs)("div",{id:"walletSettingsPage",children:[this.getDialog(r.publicDeriverId),(0,C.jsx)(W.Z,{component:"div",variant:"h5",fontWeight:500,mb:"24px",color:"ds.text_gray_medium",children:e.formatMessage(P.default.walletLabel)}),(0,C.jsx)(T,{error:s.error,walletName:r.name,isSubmitting:s.isExecuting,isInvalid:s.wasExecuted&&!1===s.result,lastUpdatedField:n,onFieldValueChange:async(e,i)=>{"name"===e&&await t.walletSettings.renameConceptualWallet({conceptualWalletId:r.conceptualWalletId,newName:i})},onStartEditing:e=>t.walletSettings.startEditingWalletField({field:e}),onStopEditing:()=>t.walletSettings.stopEditingWalletField(),onCancelEditing:()=>t.walletSettings.cancelEditingWalletField(),activeField:a,nameValidator:e=>(0,Ne.xl)(e)}),o&&(0,C.jsx)(st(),{}),"mnemonic"===r.type&&(0,C.jsx)(V,{openDialog:()=>t.uiDialogs.open({dialog:Ge})}),(0,C.jsx)(U,{openDialog:()=>t.uiDialogs.open({dialog:Le})}),(0,C.jsx)(ee,{openDialog:()=>t.uiDialogs.open({dialog:ke})}),(0,C.jsx)(J,{walletName:l,openDialog:()=>t.uiDialogs.open({dialog:pe})})]})}},n()(tt,"contextTypes",{intl:d.intlShape.isRequired}),et=tt))||et},97096:(e,t,i)=>{"use strict";i.d(t,{Z:()=>a});var s=i(23645),n=i.n(s)()((function(e){return e[1]}));n.push([e.id,".ChangeWalletPasswordDialog_dialog{font-weight:300}.ChangeWalletPasswordDialog_dialog .ChangeWalletPasswordDialog_walletPasswordFields{max-height:300px;overflow:hidden;transition:all 400ms ease}.ChangeWalletPasswordDialog_dialog .ChangeWalletPasswordDialog_error{color:var(--yoroi-comp-input-error);font-weight:400;font-size:14px;line-height:1.5em;letter-spacing:0.5px;text-align:center;margin-bottom:24px !important}.YoroiModern .ChangeWalletPasswordDialog_dialog .Dialog_actions,.YoroiRevamp .ChangeWalletPasswordDialog_dialog .Dialog_actions{margin-top:10px}\n",""]),n.locals={dialog:"ChangeWalletPasswordDialog_dialog",walletPasswordFields:"ChangeWalletPasswordDialog_walletPasswordFields",error:"ChangeWalletPasswordDialog_error"};const a=n},15139:(e,t,i)=>{"use strict";i.d(t,{Z:()=>a});var s=i(23645),n=i.n(s)()((function(e){return e[1]}));n.push([e.id,".WalletNameSetting_error{color:var(--yoroi-comp-input-error);font-weight:400;font-size:14px;line-height:1.5em;letter-spacing:0.5px;text-align:center}\n",""]),n.locals={error:"WalletNameSetting_error"};const a=n},23549:(e,t,i)=>{"use strict";i.d(t,{Z:()=>c});var s=i(23645),n=i.n(s),a=i(61667),o=i.n(a),r=i(37942),l=n()((function(e){return e[1]})),d=o()(r);l.push([e.id,".DangerousActionDialog_dialog{font-weight:300}.DangerousActionDialog_dialog p{font-weight:400;font-size:14px;line-height:19px;margin-bottom:20px}.DangerousActionDialog_dialog .DangerousActionDialog_checkbox{padding-bottom:16px}.DangerousActionDialog_dialog .DangerousActionDialog_checkbox p{font-size:1rem;margin-bottom:0}.DangerousActionDialog_dialog .DangerousActionDialog_error{color:var(--yoroi-comp-input-error);font-weight:400;font-size:14px;line-height:1.5em;letter-spacing:0.5px;text-align:center;margin-bottom:24px !important}.YoroiModern .DangerousActionDialog_dialog .Dialog_actions,.YoroiRevamp .DangerousActionDialog_dialog .Dialog_actions{margin-top:10px}.YoroiRevamp .DangerousActionDialog_dialog p{font-size:16px}.YoroiRevamp .DangerousActionDialog_dialog .DangerousActionDialog_checkbox{padding-bottom:0px}.DangerousActionDialog_isSubmitting{text-indent:-9999px}.DangerousActionDialog_isSubmitting:after{content:'';width:30px;height:30px;position:absolute;top:calc(50% - 15px);left:calc(50% - 15px);background:url("+d+") no-repeat center;background-size:30px}.DangerousActionDialog_isSubmitting:after{animation:loading-spin 1.5s linear;animation-iteration-count:infinite}\n",""]),l.locals={dialog:"DangerousActionDialog_dialog",checkbox:"DangerousActionDialog_checkbox",error:"DangerousActionDialog_error",isSubmitting:"DangerousActionDialog_isSubmitting"};const c=l},66138:(e,t,i)=>{"use strict";i.d(t,{Z:()=>a});var s=i(23645),n=i.n(s)()((function(e){return e[1]}));n.push([e.id,".InlineEditingInput_component{position:relative}.InlineEditingInput_component.InlineEditingInput_inactive:hover input{cursor:pointer}.InlineEditingInput_component input[disabled]{pointer-events:none}.InlineEditingInput_component .InlineEditingInput_button{transform:translateY(-4px);color:var(--yoroi-palette-gray-800);cursor:pointer;font-weight:300;font-size:16px;line-height:1.38;opacity:0.5;position:absolute;right:22px;text-transform:lowercase}.InlineEditingInput_component .InlineEditingInput_button:hover{opacity:1}.InlineEditingInput_component .InlineEditingInput_button.InlineEditingInput_error{right:50px}@keyframes InlineEditingInput_animateSavingResultLabel{0%{opacity:0.5}50%{opacity:0.5}100%{opacity:0}}.InlineEditingInput_component .InlineEditingInput_savingResultLabel{animation:InlineEditingInput_animateSavingResultLabel 3s;color:var(--yoroi-palette-gray-600);font-weight:300;font-size:14px;opacity:0;position:absolute;right:10px;text-align:right;top:50%;transform:translateY(-100%)}.YoroiClassic .InlineEditingInput_component .InlineEditingInput_button{bottom:35px}.YoroiModern .InlineEditingInput_component .InlineEditingInput_disabled,.YoroiRevamp .InlineEditingInput_component .InlineEditingInput_disabled{background-color:transparent}.YoroiModern .InlineEditingInput_component .InlineEditingInput_button,.YoroiRevamp .InlineEditingInput_component .InlineEditingInput_button{bottom:37px}.YoroiRevamp .InlineEditingInput_component .InlineEditingInput_error{display:none}.YoroiRevamp .InlineEditingInput_component .InlineEditingInput_button{top:40%}.YoroiRevamp .InlineEditingInput_component .InlineEditingInput_savingResultLabel{top:33%;right:15px;transform:unset}\n",""]),n.locals={component:"InlineEditingInput_component",inactive:"InlineEditingInput_inactive",button:"InlineEditingInput_button",error:"InlineEditingInput_error",savingResultLabel:"InlineEditingInput_savingResultLabel",animateSavingResultLabel:"InlineEditingInput_animateSavingResultLabel",disabled:"InlineEditingInput_disabled"};const a=n},52185:function(e,t,i){"use strict";var s=this&&this.__createBinding||(Object.create?function(e,t,i,s){void 0===s&&(s=i);var n=Object.getOwnPropertyDescriptor(t,i);n&&!("get"in n?!t.__esModule:n.writable||n.configurable)||(n={enumerable:!0,get:function(){return t[i]}}),Object.defineProperty(e,s,n)}:function(e,t,i,s){void 0===s&&(s=i),e[s]=t[i]}),n=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)"default"!==i&&Object.prototype.hasOwnProperty.call(e,i)&&s(t,e,i);return n(t,e),t},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Switch=void 0;const r=a(i(67294)),l=o(i(37337)),d=i(10763);t.Switch=(0,l.default)((e=>r.createElement(d.Switch,Object.assign({focusVisibleClassName:".Mui-focusVisible",disableRipple:!0},e))))((({theme:e})=>({width:51,height:31,padding:0,"& .MuiSwitch-switchBase":{padding:0,margin:3,transitionDuration:"300ms","&.Mui-checked":{transform:"translateX(20px)",color:"#fff","& + .MuiSwitch-track":{backgroundColor:e.palette.primary[500],opacity:1,border:0},"&.Mui-disabled + .MuiSwitch-track":{opacity:.5}},"&.Mui-focusVisible .MuiSwitch-thumb":{border:"6px solid #fff"},"&.Mui-disabled .MuiSwitch-thumb":{color:e.palette.grey[100]},"&.Mui-disabled + .MuiSwitch-track":{opacity:.7}},"& .MuiSwitch-thumb":{boxSizing:"border-box",width:"25px",height:"25px"},"& .MuiSwitch-track":{borderRadius:15.5,backgroundColor:e.palette.grayscale[100],opacity:1,transition:e.transitions.create(["background-color"],{duration:500})}})))},57053:function(e,t,i){"use strict";var s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.useStrings=t.messages=void 0;const n=s(i(67294)),a=i(99095),o=i(52057);t.messages=Object.freeze((0,a.defineMessages)({notifSettingsTitle:{id:"notifications.settings.title",defaultMessage:"!!!In-app notifications"},notifSettingsDesc:{id:"notifications.settings.description",defaultMessage:"!!!Allow display of in-app notifications for key transactions"}})),t.useStrings=()=>{const{intl:e}=(0,o.useIntl)();return n.default.useRef({notifSettingsTitle:e.formatMessage(t.messages.notifSettingsTitle),notifSettingsDesc:e.formatMessage(t.messages.notifSettingsDesc)}).current}},79667:function(e,t,i){"use strict";var s=this&&this.__createBinding||(Object.create?function(e,t,i,s){void 0===s&&(s=i);var n=Object.getOwnPropertyDescriptor(t,i);n&&!("get"in n?!t.__esModule:n.writable||n.configurable)||(n={enumerable:!0,get:function(){return t[i]}}),Object.defineProperty(e,s,n)}:function(e,t,i,s){void 0===s&&(s=i),e[s]=t[i]}),n=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)"default"!==i&&Object.prototype.hasOwnProperty.call(e,i)&&s(t,e,i);return n(t,e),t},o=this&&this.__awaiter||function(e,t,i,s){return new(i||(i=Promise))((function(n,a){function o(e){try{l(s.next(e))}catch(e){a(e)}}function r(e){try{l(s.throw(e))}catch(e){a(e)}}function l(e){var t;e.done?n(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(o,r)}l((s=s.apply(e,t||[])).next())}))},r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const l=a(i(67294)),d=i(10763),c=i(57053),u=i(52185),g=r(i(79562)),p=i(6951);t.default=()=>{const e=(0,c.useStrings)(),[t,i]=l.useState(!0),[s,n]=l.useState(""),a=new g.default;function r(){return o(this,arguments,void 0,(function*(e=!1){const t=yield a.getNotificationsSetting(),i=JSON.parse(t||"{}");if(e){const e=yield a.getSelectedWalletId();return n(e),void 0===i[e]||i[e]}return i}))}return l.useEffect((()=>{!function(){o(this,void 0,void 0,(function*(){const e=yield r(!0);i(e)}))}()}),[]),l.createElement(d.Box,{mb:"40px"},l.createElement(d.Box,null,l.createElement(d.Typography,{variant:"body1",fontWeight:500,color:"ds.text_gray_medium"},e.notifSettingsTitle)),l.createElement(d.FormControlLabel,{label:e.notifSettingsDesc,control:l.createElement(d.Box,{sx:{alignSelf:"flex-start"}},l.createElement(u.Switch,{checked:t,onChange:e=>o(void 0,void 0,void 0,(function*(){const t=e.target.checked;i(t),function(e){o(this,void 0,void 0,(function*(){const t=yield r();a.setNotificationsSetting(JSON.stringify(Object.assign(Object.assign({},t),{[s]:e})))}))}(t),p.ampli.settingsInAppNotificationsStatusUpdated({status:e.target.checked?"enabled":"disabled"})}))})),labelPlacement:"top",sx:{mt:"16px",marginLeft:"0px",color:"ds.text_gray_medium",gap:"16px"}}))}}}]);