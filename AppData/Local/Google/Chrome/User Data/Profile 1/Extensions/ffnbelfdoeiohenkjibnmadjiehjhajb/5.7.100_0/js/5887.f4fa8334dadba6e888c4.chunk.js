/*! For license information please see 5887.f4fa8334dadba6e888c4.chunk.js.LICENSE.txt */
(self.webpackChunkyoroi=self.webpackChunkyoroi||[]).push([[5887],{72882:(e,t,n)=>{"use strict";n.d(t,{Z:()=>v});var l=n(2991),o=n.n(l),a=n(62462),r=n.n(a),s=n(99095),i=n(259),c=n(90948),d=n(99226),p=n(26447),u=n(23972),m=n(48643),g=n(93379),h=n.n(g),x=n(25813);h()(x.Z,{insert:"head",singleton:!1});const f=x.Z.locals||{};var y=n(48521);const _=(0,c.ZP)(d.Z)((({theme:e})=>({"& svg":{"& path":{fill:e.palette.ds.bg_color_max},"& rect":{fill:e.palette.ds.text_primary_min}}}))),v=(0,s.injectIntl)((0,i.observer)((function(e){const{intl:t,steps:n,currentStep:l,setCurrentStep:a,sx:s}=e,i=r()(n).call(n,(e=>e.stepId===l));if(-1===i)throw new Error("Step to found. Should never happen");return(0,y.jsx)(p.Z,{sx:{flexDirection:"row",...s},className:f.stackContainer,children:o()(n).call(n,(({stepId:e,message:n},l)=>{const o=i===l,r=l<i;let s="ds.text_gray_min",c="pointer";return o?s="primary.600":r&&(s="primary.300"),l>i&&(c="not-allowed"),(0,y.jsxs)(p.Z,{sx:{flexDirection:"row",alignItems:"center",justifyContent:"center"},onClick:()=>{r&&a(e)},children:[(0,y.jsx)(d.Z,{component:"button",sx:{width:"24px",height:"24px",display:"flex",alignItems:"center",justifyContent:"center",mr:"8px",...r?{}:{borderWidth:"2.5px",borderStyle:"solid"},bgcolor:o?"ds.text_primary_medium":"unset",borderRadius:"50%",transition:"color 300ms ease",cursor:c,borderColor:o?"ds.text_primary_medium":s},children:r?(0,y.jsx)(_,{children:(0,y.jsx)(m.r,{})}):(0,y.jsx)(u.Z,{component:"div",variant:"body2",fontWeight:500,color:o?"ds.bg_color_max":s,lineHeight:"27px",children:l+1})}),(0,y.jsx)(u.Z,{component:"div",sx:{cursor:c},variant:"body1",color:o?"ds.text_primary_medium":s,fontWeight:500,children:t.formatMessage(n)})]},e)}))})})))},45887:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>Ue});var l=n(86902),o=n.n(l),a=n(2991),r=n.n(a),s=n(67294),i=n(99095),c=n(90948),d=n(99226),p=n(23972),u=n(259),m=n(56474),g=n.n(m);const h=g()({SELECT_WALLET_TYPE:"SELECT_WALLET_TYPE",ENTER_RECOVERY_PHRASE:"ENTER_RECOVERY_PHRASE",ADD_WALLET_DETAILS:"ADD_WALLET_DETAILS"});var x=n(65593),f=n(26447),y=n(25823);const _=n.p+"49ec44ff9018785cff8284c28198882f.svg",v=n.p+"996c15f9aaa37113941695a2826bbb0e.svg";var b=n(8998),w=n(93379),W=n.n(w),j=n(55807);W()(j.Z,{insert:"head",singleton:!1});const I=j.Z.locals||{};var E=n(38043),S=n(48521);const R=(0,i.defineMessages)({fifteenWords:{id:"wallet.restore.type.fifteen",defaultMessage:"!!!15-word recovery phrase"},twentyfourWords:{id:"wallet.restore.type.twentyfour",defaultMessage:"!!!24-word recovery phrase"}}),C=(0,i.injectIntl)((0,u.observer)((function(e){const{onNext:t,goBack:n,intl:l}=e;return(0,S.jsx)(f.Z,{alignItems:"center",justifyContent:"center",children:(0,S.jsxs)(f.Z,{direction:"column",alignItems:"center",justifyContent:"center",maxWidth:"648px",children:[(0,S.jsxs)(d.Z,{className:I.container,id:"selectWalletTypeStepBox",children:[(0,S.jsx)(b.Z,{onClick:()=>t({type:"cip1852",extra:void 0,length:15}),imageSrc:_,label:l.formatMessage(R.fifteenWords),id:"fifteenWordsButton"}),(0,S.jsx)(b.Z,{onClick:()=>t({type:"cip1852",extra:void 0,length:24}),imageSrc:v,label:l.formatMessage(R.twentyfourWords),id:"twentyfourWordsButton"})]}),(0,S.jsx)(d.Z,{mt:"74px",children:(0,S.jsx)(y.Z,{stepActions:[{label:l.formatMessage(E.default.backButtonLabel),disabled:!1,onClick:n,type:"secondary"}]})})]})})})));var Z=n(72882),T=n(54103),A=n.n(T),D=n(77149),L=n.n(D),P=n(89400),k=n.n(P),M=n(11128),N=n.n(M),B=n(44494),O=n.n(B),H=n(87672),V=n.n(H),F=n(96486),Y=n(11634),z=n.n(Y),K=n(72913),$=(n(63139),n(52298)),U=n(52974),G=n(25843),q=n.n(G),X=n(29828),J=n.n(X),Q=n(20116),ee=n.n(Q),te=n(33442),ne=n(79332),le=n(53640);function oe({options:e,error:t=null,maxVisibleOptions:n=5,noResultsMessage:l,id:o,onChange:a,onFocus:i,value:c,autoFocus:u,type:m,name:g,placeholder:h,isVerified:x,inputRef:f,prevFieldRef:y,nextFieldRef:_}){var v;const[b,w]=(0,s.useState)(c||""),W=(null!==(v=null==b?void 0:b.length)&&void 0!==v?v:0)>0,{getCachedOptions:j}=function(e){const t={};return{getCachedOptions:n=>n?(t[n]||(t[n]=ee()(e).call(e,(e=>{var t,l;return J()(t=e.toLowerCase()).call(t,null!==(l=null==n?void 0:n.toLowerCase())&&void 0!==l?l:"")}))),t[n]):[]}}(e),I=W?j(b):[],E=W&&0===I.length,{isOpen:R,getMenuProps:C,getInputProps:Z,getComboboxProps:T,highlightedIndex:A,getItemProps:D,closeMenu:L}=(0,te.Kb)({inputValue:b,defaultHighlightedIndex:0,selectedItem:"",items:I,stateReducer:(e,t)=>{const{changes:n,type:l}=t;switch(l){case te.Kb.stateChangeTypes.InputKeyDownEnter:case te.Kb.stateChangeTypes.ItemClick:case te.Kb.stateChangeTypes.InputChange:return{...n,isOpen:!0};default:return n}},onStateChange:({inputValue:e,type:t,selectedItem:n})=>{var l,o;const r=null!==(l=null==e?void 0:q()(e).call(e))&&void 0!==l?l:"",s=null!==(o=null==b?void 0:q()(b).call(b))&&void 0!==o?o:"";if(t===te.Kb.stateChangeTypes.InputBlur){var i;const e=null!==(i=I[-1!==A?A:0])&&void 0!==i?i:"",t=!n&&!Boolean(r),l=Boolean(s)&&Boolean(e);if(t&&l)return a(e),w(e),void L()}switch(t){case te.Kb.stateChangeTypes.InputChange:0===r.length&&(L(),a(r)),w(r);break;case te.Kb.stateChangeTypes.InputKeyDownEnter:case te.Kb.stateChangeTypes.ItemClick:case te.Kb.stateChangeTypes.InputBlur:(n||Boolean(r))&&(a(n||r),w(n||r),L())}}});return(0,S.jsxs)(ie,{error:Boolean(t),onKeyDownCapture:e=>{const{target:t,code:n,shiftKey:l}=e,o=0===(null==b?void 0:b.length);var a;"Tab"===n&&E&&!l&&e.preventDefault(),"Space"===n&&o&&e.preventDefault(),"Enter"!==n&&"Space"!==n||!R||E||(t.blur(),_&&_.focus()),("Backspace"===n||"ArrowLeft"===n)&&o&&y&&(e.preventDefault(),y.focus(),y.setSelectionRange(0,null===(a=y.value)||void 0===a?void 0:a.length))},children:[(0,S.jsx)(se,{isVerified:x,onClick:()=>!R,error:E,isOpen:R,children:(0,S.jsx)(d.Z,{...T(),children:(0,S.jsx)(ne.Z,{inputRef:f,placeholder:h,disableUnderline:!0,fullWidth:!0,autoFocus:u,error:Boolean(t),id:null!=o?o:"autocomplete-combobox",value:c,onBlur:a,onFocus:i,...Z({type:m,name:g,autoFocus:u})})})}),(0,S.jsx)(re,{component:"ul",...C(),isOpen:!0,sx:{maxHeight:44*n+"px",color:"ds.gray_900",borderRadius:"8px",width:"120px","&::-webkit-scrollbar":{display:"none"}},children:R&&(0,S.jsx)(S.Fragment,{children:0===I.length?(0,S.jsx)(p.Z,{color:"ds.text_gray_medium",sx:{padding:"16px",bgcolor:"ds.bg_color_max"},children:l}):r()(I).call(I,((e,t)=>{const n=null!=b?e.replace(b.toLowerCase(),""):e;return(0,S.jsxs)(d.Z,{sx:{padding:"16px",backgroundColor:A===t?"ds.bg_color_contrast_min":"ds.bg_color_contrast_high",cursor:"pointer"},...D({item:e,index:t}),children:[(0,S.jsx)(p.Z,{component:"span",color:"ds.text_gray_medium",style:{fontWeight:"bold"},children:null==b?void 0:b.toLowerCase()}),(0,S.jsx)(p.Z,{component:"span",color:"ds.text_gray_medium",children:n})]},`${e}${t}`)}))})})]})}const ae=oe;oe.defaultProps={error:!1,autoFocus:!1,maxVisibleOptions:5,noResultsMessage:""};const re=(0,c.ZP)(d.Z)((({theme:e,isOpen:t})=>({width:"100%",margin:0,borderTop:0,position:"absolute",zIndex:1e3,left:0,top:"100%",maxHeight:"30rem",overflowY:"auto",overflowX:"hidden",outline:"0",transition:"opacity .1s ease",borderRadius:0,boxShadow:t?e.palette.ds.light_shadow_dropdown_words:"unset"}))),se=(0,c.ZP)(d.Z)((({theme:e,error:t,isVerified:n})=>`\n  width: 100%;\n  background-color: ${e.palette.ds.bg_color_max};\n  height: 40px;\n  align-content: baseline;\n  display: inline-flex;\n  flex-wrap: wrap;\n  position: relative;\n  cursor: text;\n  margin-bottom: 0;\n  border-radius: 8px;\n  marginBottom: '2px';\n\n  & input {\n    background-color: transparent;\n    color: ${e.palette.primary[600]};\n    font-size: 1rem;\n    padding: 8px;\n    letter-spacing: 0;\n    text-align: center;\n    border: 2px solid ${t?e.palette.ds.sys_magenta_500:e.palette.ds.primary_300};\n    border-radius: 8px;\n    height: 40px;\n    box-sizing: border-box;\n\n    &:focus {\n      border-color: ${t?e.palette.ds.sys_magenta_500:e.palette.ds.el_primary_medium};\n    }\n\n    ${t?"":`&:not([value=""]):not(:focus) {\n        border-color: transparent;\n        border: 0;\n        color: ${n&&e.palette.ds.black_static};\n        background: ${n?e.palette.ds.el_secondary:e.palette.ds.primary_100};\n      }`}\n  }\n`)),ie=(0,c.ZP)(le.Z)({margin:0,padding:0});var ce,de,pe=n(7305),ue=n(16628),me=n(69397),ge=n(75941),he=n(6951);const xe=(0,i.defineMessages)({title:{id:"wallet.restore.dialog.title.label",defaultMessage:"!!!Restore wallet"},titleVerify:{id:"wallet.restore.dialog.title.verify.label",defaultMessage:"!!!Verify Yoroi wallet"},importButtonLabel:{id:"wallet.restore.dialog.restore.wallet.button.label",defaultMessage:"!!!Restore wallet"},verifyButtonLabel:{id:"wallet.restore.dialog.verify.wallet.button.label",defaultMessage:"!!!Verify wallet"},clearAll:{id:"wallet.restore.clearAll",defaultMessage:"!!!Clear all"},verified:{id:"wallet.restore.thirdStep.verifiedRecoveryPhrase",defaultMessage:"!!!The recovery phrase is verified"},incorrectRecoveryPhrase:{id:"wallet.restore.thirdStep.incorrectRecoveryPhrase",defaultMessage:"!!!Incorrect recovery phrase. Please make sure you have written it correctly"}});let fe=(0,u.observer)((de=class extends s.Component{constructor(...e){var t;super(...e),V()(this,"state",{mounted:!1}),V()(this,"getInitRecoveryPhrase",(()=>{var e;return this.props.initialRecoveryPhrase?this.props.initialRecoveryPhrase.split(" "):O()(e=new Array(this.props.numberOfMnemonics)).call(e,"")})),V()(this,"inputRefs",[]),V()(this,"form",new $.Z({fields:{recoveryPhrase:r()(t=this.getInitRecoveryPhrase()).call(t,((e,t)=>({value:e,label:""})))}},{hooks:{onReset:e=>{e.name="restore-"+N()(),e.reset()}},name:"restore-"+N()(),options:{showErrorsOnInit:!1,validateOnChange:!0,validationDebounceWait:U.Z.forms.FORM_VALIDATION_DEBOUNCE_WAIT},plugins:{vjf:z()()}})),V()(this,"submit",(()=>{this.form.submit({onSuccess:async e=>{const{recoveryPhrase:t}=k()(e).call(e),n=r()(t).call(t,(e=>e.value));await this.props.onSubmit((0,F.join)(n," "))},onError:()=>{}})}))}componentDidMount(){this.setState({mounted:!0}),ge.Z.isDev()&&console.log(this.state.mounted)}render(){const{intl:e}=this.context,{isValidMnemonic:t,numberOfMnemonics:n}=this.props,{form:l}=this,{recoveryPhrase:o}=k()(l).call(l),a=o.length===n&&!L()(o).call(o,(e=>!e.value)),s=a&&t(o),i=e.formatMessage(xe.incorrectRecoveryPhrase),c=L()(o).call(o,(e=>Boolean(e.value))),u=c?"ds.text_primary_medium":"ds.text_primary_min";return s&&!l.submitted&&this.submit(),(0,S.jsxs)(d.Z,{children:[(0,S.jsx)(f.Z,{gap:"8px",p:"16px 0px",flexDirection:"row",flexWrap:"wrap",alignItems:"center",justifyContent:"center",children:null==o?void 0:r()(o).call(o,((n,a)=>{const r=l.$(`recoveryPhrase[${a}].value`),i=A()(r).call(r),c=0===a,u=a===o.length-1;return(0,S.jsx)(f.Z,{children:(0,S.jsxs)(d.Z,{sx:{whiteSpace:"nowrap",textOverflow:"ellipsis",display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"flex-start",width:"120px",height:"40px",gap:"4px"},variant:"body1",children:[(0,S.jsxs)(p.Z,{component:"div",variant:"body1",color:"ds.text_primary_medium",width:"24px",children:[a+1,"."]}),(0,S.jsx)(ae,{inputRef:e=>{this.inputRefs[a]=e},prevFieldRef:c?null:this.inputRefs[a-1],nextFieldRef:u?null:this.inputRefs[a+1],options:K,isVerified:s,maxSelections:1,maxVisibleOptions:5,noResultsMessage:e.formatMessage(E.default.recoveryPhraseNoResults),...i,onFocus:e=>{var t;return e.target.setSelectionRange(0,null===(t=e.target.value)||void 0===t?void 0:t.length)},onChange:e=>{if(i.onChange(e),e&&a===o.length-1){const e=t(k()(l).call(l).recoveryPhrase);he.ampli.restoreWalletEnterPhraseStepStatus({recovery_prhase_status:e})}}})]})},l.name+"-word-"+a)}))}),!s&&(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)(ue.Z,{in:!s,children:(0,S.jsx)(me.Z,{variant:"outlined",color:"primary",onClick:l.onReset,disabled:!c,sx:{border:0,height:"32px",fontSize:"14px",lineHeight:"15px","&.MuiButton-sizeMedium":{px:"20px",py:"9px"},minWidth:0,minHeight:0,"&:hover":{border:0},"&.Mui-disabled":{border:0}},id:"clearAllButton",children:(0,S.jsx)(p.Z,{variant:"button2",color:u,children:e.formatMessage(xe.clearAll)})})}),(0,S.jsx)(ue.Z,{in:!s&&a,children:(0,S.jsx)(p.Z,{component:"div",variant:"body2",color:"ds.sys_magenta_500",id:"mnemonicErrorText",children:i})})]}),(0,S.jsx)(ue.Z,{in:s,children:(0,S.jsxs)(f.Z,{gap:"10px",direction:"row",mt:"12px",alignItems:"center",children:[(0,S.jsx)(pe.r,{}),(0,S.jsx)(p.Z,{component:"div",variant:"body1",fontWeight:500,id:"validPhraseMessage",color:"ds.text_gray_medium",children:e.formatMessage(xe.verified)})]})})]})}},V()(de,"defaultProps",{error:void 0,initialRecoveryPhrase:""}),V()(de,"contextTypes",{intl:i.intlShape.isRequired}),ce=de))||ce;var ye=n(64666),_e=n(54799),ve=n(52065),be=n(21023),we=n(28336),We=n(19562),je=n(11145),Ie=n(62817),Ee=(n(55343),n(78265));W()(Ee.Z,{insert:"head",singleton:!1});const Se=Ee.Z.locals||{};var Re,Ce,Ze=n(87351);const Te=(0,c.ZP)(d.Z)((({theme:e})=>({"& svg":{"& path":{fill:e.palette.ds.el_gray_medium}}})));let Ae=(0,u.observer)((Ce=class extends s.Component{constructor(...e){super(...e),V()(this,"renderAmountDisplay",(e=>{if(null==e.amount)return(0,S.jsx)("div",{className:Se.isLoading});const t=e.amount.getDefaultEntry(),n=this.props.getTokenInfo(t),l=t.amount.shiftedBy(-n.Metadata.numberOfDecimals);let o;if(e.shouldHideBalance)o=(0,S.jsx)("span",{children:Ie.G});else{const[e,t]=(0,we.splitAmount)(l,n.Metadata.numberOfDecimals);o=(0,S.jsxs)(S.Fragment,{children:[e,t]})}return(0,S.jsxs)(S.Fragment,{children:[o," ",(0,we.truncateToken)((0,ve.getTokenName)(n)),this.props.isRefreshing&&(0,S.jsx)("div",{className:Se.isSyncing})]})})),V()(this,"generateNameElem",(e=>{if(e.length<=we.maxNameLengthBeforeTruncation)return e;const t=(0,we.truncateLongName)(e);return(0,S.jsx)(be.Z,{title:(0,S.jsx)(p.Z,{component:"div",variant:"body3",children:e}),children:(0,S.jsx)(p.Z,{component:"div",variant:"body-2-medium",children:t})})}))}render(){const{shouldHideBalance:e,onUpdateHideBalance:t,walletAmount:n,conceptualWalletName:l}=this.props,[o,a]=this.props.plate?(0,Ze.ed)(this.props.plate):[];return(0,S.jsxs)("div",{className:Se.wrapper,children:[(0,S.jsxs)("div",{className:Se.plateAndName,children:[a,(0,S.jsxs)("div",{className:Se.content,children:[(0,S.jsx)(p.Z,{className:Se.name,id:"walletInfo-walletName-text",color:"ds.text_gray_medium",fontWeight:"500",children:this.generateNameElem(l)}),(0,S.jsx)("div",{className:Se.type,children:(0,S.jsx)(p.Z,{className:Se.plate,id:"walletInfo-walletPlate-text",color:"ds.text_gray_medium",children:o})})]})]}),(0,S.jsxs)("div",{className:Se.amountAndHideIcon,children:[(0,S.jsx)(p.Z,{className:Se.amount,color:"ds.text_gray_medium",id:"walletInfo-amount-text",children:this.renderAmountDisplay({shouldHideBalance:e,amount:n})}),(0,S.jsx)("button",{type:"button",className:Se.toggleButton,onClick:t,children:e?(0,S.jsxs)(Te,{children:[(0,S.jsx)(je.r,{})," "]}):(0,S.jsx)(Te,{children:(0,S.jsx)(We.r,{})})})]})]})}},V()(Ce,"contextTypes",{infoText:void 0}),Re=Ce))||Re;var De=n(42133);const Le=(0,i.defineMessages)({dialogTitle:{id:"wallet.restore.dialog.existingWallet.dialogTitle",defaultMessage:"!!!Wallet already exists"},title:{id:"wallet.restore.dialog.existingWallet.title",defaultMessage:"!!!This wallet already exists on your device, You can open it or go back and restore another wallet."},openWallet:{id:"wallet.restore.dialog.walletExist.openWallet",defaultMessage:"!!!Open Wallet"}}),Pe=s.forwardRef(((e,t)=>(0,S.jsx)(ue.Z,{timeout:500,ref:t,...e}))),ke=(0,i.injectIntl)((0,u.observer)((function(e){const{open:t,onClose:n,onNext:l,intl:o,duplicatedWalletData:a}=e;return(0,S.jsxs)(ye.Z,{open:t,onClose:n,TransitionComponent:Pe,id:"duplicatedWalletDialog-dialog",sx:{backgroundColor:"ds.bg_color_max",display:"flex",justifyContent:"center",alignItems:"center","& .MuiPaper-root":{maxWidth:"unset"}},children:[(0,S.jsx)(_e.Z,{"aria-label":"close",onClick:n,sx:e=>({position:"absolute",right:16,top:16,"& svg":{"& path":{fill:e.palette.ds.el_gray_medium}}}),children:(0,S.jsx)(De.r,{})}),(0,S.jsxs)(d.Z,{sx:{width:"648px",backgroundColor:"ds.bg_color_max",borderRadius:"8px",boxShadow:"0px 13px 20px -1px rgba(0, 0, 0, 0.15)",border:"1px solid grey.200",padding:"24px",display:"flex",justifyContent:"center",flexDirection:"column",gap:"24px"},children:[(0,S.jsx)(d.Z,{children:(0,S.jsx)(p.Z,{component:"div",sx:{fontWeight:"500",textTransform:"uppercase",textAlign:"center"},color:"ds.text_gray_medium",id:"duplicatedWalletDialog-dialogTitle-text",children:o.formatMessage(Le.dialogTitle)})}),(0,S.jsxs)(d.Z,{sx:{flex:1,mb:"24px"},children:[(0,S.jsx)(p.Z,{component:"div",textAlign:"left",variant:"body1",fontWeight:"400",mb:"16px",color:"ds.text_gray_medium",children:o.formatMessage(Le.title)}),(0,S.jsx)(d.Z,{component:"ul",sx:{listStyle:"outside",mt:"16px"},children:(0,S.jsx)(d.Z,{sx:{display:"flex",flexFlow:"row",gap:"8px"},children:(0,S.jsx)(Ae,{plate:a.plate,conceptualWalletName:a.conceptualWalletName,walletAmount:a.balance,onUpdateHideBalance:a.updateHideBalance,shouldHideBalance:a.shouldHideBalance,getTokenInfo:(0,ve.genLookupOrFail)(a.tokenInfo),isRefreshing:!1})})})]}),(0,S.jsxs)(f.Z,{direction:"row",alignItems:"center",justifyContent:"space-between",gap:"24px",children:[(0,S.jsx)(me.Z,{variant:"outlined",color:"primary",disableRipple:!1,onClick:n,style:{width:"100%",height:"48px",fontSize:"16px",borderWidth:2},id:"duplicatedWalletDialog-cancel-button",children:o.formatMessage(E.default.cancel)}),(0,S.jsx)(me.Z,{variant:"contained",color:"primary",disableRipple:!1,onClick:l,style:{width:"100%",height:"48px",fontSize:"16px"},id:"duplicatedWalletDialog-openWallet-button",children:o.formatMessage(Le.openWallet)})]})]})]})}))),Me=g()({LEARN_ABOUT_RECOVERY_PHRASE:"LEARN_ABOUT_RECOVER_PHRASE",SAVE_RECOVERY_PHRASE:"SAVE_RECOVERY_PHRASE",DUPLICATED_WALLET:"DUPLICATED_WALLET"});var Ne=n(90649);const Be=(0,i.defineMessages)({description:{id:"wallet.restore.thirdStep.description",defaultMessage:"!!!Add the <strong>recovery phrase</strong> you received upon your wallet creation process to <strong>restore</strong> your <strong>wallet</strong> in Yoroi."}}),Oe=(0,i.injectIntl)((0,u.observer)((function(e){const[t,n]=(0,s.useState)(!1),[l,o]=(0,s.useState)(null),{intl:a,setCurrentStep:c,mode:u,checkValidPhrase:m,onSubmit:g,openDuplicatedWallet:x,isDialogOpen:_,closeDialog:v,openDialog:b,duplicatedWalletData:w,initialRecoveryPhrase:W}=e,j=_(ke),I=()=>c(h.SELECT_WALLET_TYPE),{length:R}=null!=u?u:(0,Ne.fail)("No mnemonic length is selected!");return(0,S.jsxs)(f.Z,{alignItems:"center",justifyContent:"center",id:"enterRecoveryPhraseStepComponent",children:[(0,S.jsxs)(f.Z,{direction:"column",alignItems:"left",justifyContent:"center",maxWidth:15===R?"636px":"760px",children:[(0,S.jsx)(p.Z,{component:"div",mb:"16px",color:"ds.text_gray_medium",children:(0,S.jsx)(i.FormattedHTMLMessage,{...Be.description})}),(0,S.jsx)(fe,{numberOfMnemonics:R,isValidMnemonic:function(e){const t=r()(e).call(e,(e=>e.value)).join(" ");return m(t)},onSubmit:async function(e){const t=await g(e);Boolean(t)?(o(t),b(ke)):n(!0)},initialRecoveryPhrase:W}),(0,S.jsx)(d.Z,{mt:"10px",children:(0,S.jsx)(y.Z,{stepActions:[{label:a.formatMessage(E.default.backButtonLabel),disabled:!1,onClick:I,type:"secondary"},{label:a.formatMessage(E.default.nextButtonLabel),disabled:!t,onClick:()=>c(h.ADD_WALLET_DETAILS),type:"primary"}]})})]}),w&&(0,S.jsx)(ke,{duplicatedWalletData:w,open:j,onClose:function(){I(),v(Me.DUPLICATED_WALLET)},onNext:()=>x(l)})]})})));var He=n(47650);var Ve=n(5227);const Fe={recoveryPhrase:"",walletName:"",walletPassword:"",plates:[],duplicatedWallet:null};var Ye=n(22188),ze=n(71954);const Ke=(0,i.defineMessages)({title:{id:"wallet.restore.title",defaultMessage:"!!!Restore existing wallet"},firstStep:{id:"wallet.restore.firstStep",defaultMessage:"!!!Select wallet type"},secondStep:{id:"wallet.restore.secondStep",defaultMessage:"!!!Enter recovery phrase"},thirdStep:{id:"wallet.restore.thirdStep",defaultMessage:"!!!Add wallet details"}}),$e=(0,c.ZP)(d.Z)((({theme:e})=>({"& svg":{"& defs":{"& linearGradient":{"& stop":{"stop-color":e.palette.ds.el_primary_medium}}}}}))),Ue=(0,i.injectIntl)((0,u.observer)((function(e){var t;const{intl:n,stores:l,restoreWallet:a,isDialogOpen:i,openDialog:c,closeDialog:u}=e,{walletRestore:m,profile:g,wallets:f,tokenInfoStore:y}=l,[_,v]=(0,s.useState)(h.SELECT_WALLET_TYPE),[b,w]=(0,s.useState)(null),{recoveryPhrase:W,duplicatedWallet:j,setRestoreWalletData:I,resetRestoreWalletData:E}=function(){const[e,t]=(0,s.useState)(Fe);return{...e,setRestoreWalletData:e=>{t((t=>({...t,...e})))},resetRestoreWalletData:()=>t(Fe)}}(),R={isDialogOpen:i,openDialog:c,closeDialog:e=>{u(),function(e){localStorage.setItem((e=>`dialog__${e}`)(e),"true")}(e)}};function T(e){l.app.goToRoute(e)}const A={[h.SELECT_WALLET_TYPE]:{stepId:h.SELECT_WALLET_TYPE,message:Ke.firstStep,component:(0,S.jsx)(C,{onNext:e=>{E(),(0,Ye.runInAction)((()=>{w(e),v(h.ENTER_RECOVERY_PHRASE)})),he.ampli.restoreWalletEnterPhraseStepViewed({recovery_phrase_lenght:15===e.length?"15":"24"})},goBack:()=>{E(),T({route:Ve.ROUTES.WALLETS.ADD})}})},[h.ENTER_RECOVERY_PHRASE]:{stepId:h.ENTER_RECOVERY_PHRASE,message:Ke.secondStep,component:(0,S.jsx)(Oe,{mode:b,initialRecoveryPhrase:W,duplicatedWalletData:j?{plate:j.plate,conceptualWalletName:j.name,balance:j.balance,shouldHideBalance:g.shouldHideBalance,tokenInfo:y.tokenInfo,updateHideBalance:()=>l.profile.updateHideBalance()}:null,isDialogOpen:i,openDialog:c,closeDialog:u,setCurrentStep:e=>{v(e),he.ampli.restoreWalletDetailsStepViewed()},checkValidPhrase:e=>{if(!b)throw new Error("unexpected nullish restore mode");return m.isValidMnemonic({mnemonic:e,mode:b})},openDuplicatedWallet:e=>{E(),f.setActiveWallet({publicDeriverId:e}),T({route:Ve.ROUTES.WALLETS.TRANSACTIONS})},onSubmit:async e=>{const t=f.wallets,n=m.selectedAccount,{selectedNetwork:l}=g;if(!l)throw new Error("unexpectedly missing selected network");const o=await(0,ze.px)(t,e,n,l);return I({duplicatedWallet:o,recoveryPhrase:e}),null==o?void 0:o.publicDeriverId}})},[h.ADD_WALLET_DETAILS]:{stepId:h.ADD_WALLET_DETAILS,message:Ke.thirdStep,component:(0,S.jsx)(He.Z,{isRecovery:!0,prevStep:()=>v(h.ENTER_RECOVERY_PHRASE),recoveryPhrase:W.split(" "),selectedNetwork:(0,Ne.forceNonNull)(g.selectedNetwork),onSubmit:(e,t)=>{if(!W)throw new Error("Recovery phrase must be generated first");if(!g.selectedNetwork)throw new Error("Network must be selected to create a wallet. Should never happen");a({walletName:e,walletPassword:t,recoveryPhrase:W}),he.ampli.restoreWalletDetailsSettled()},...R})}},D=r()(t=o()(A)).call(t,(e=>({stepId:A[e].stepId,message:A[e].message}))),L=A[_].component;return(0,S.jsxs)(d.Z,{children:[(0,S.jsxs)(d.Z,{sx:{display:"flex",alignItems:"center",justifyContent:"center",flexDirection:"column"},children:[(0,S.jsx)(d.Z,{sx:{width:"56px",height:"48px",mb:"38px"},children:(0,S.jsx)($e,{children:(0,S.jsx)(x.r,{})})}),(0,S.jsx)(p.Z,{component:"div",variant:"h3",fontWeight:500,id:"restoreTitle",color:"ds.text_gray_medium",children:n.formatMessage(Ke.title)})]}),(0,S.jsx)(Z.Z,{currentStep:_,setCurrentStep:v,steps:D}),L]})})))},25813:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var l=n(23645),o=n.n(l)()((function(e){return e[1]}));o.push([e.id,".Stepper_stackContainer{align-items:center;justify-content:center;gap:24px;margin-top:24px;margin-bottom:48px}.Stepper_stackStep{width:24px;height:24px;display:flex;align-items:center;justify-content:center;margin-right:8px;border-width:2.5px;border-style:solid;border-radius:50%;transition:color 300ms ease}\n",""]),o.locals={stackContainer:"Stepper_stackContainer",stackStep:"Stepper_stackStep"};const a=o},78265:(e,t,n)=>{"use strict";n.d(t,{Z:()=>d});var l=n(23645),o=n.n(l),a=n(61667),r=n.n(a),s=n(93594),i=o()((function(e){return e[1]})),c=r()(s);i.push([e.id,".WalletInfo_wrapper{display:flex;align-items:center;flex-flow:row;width:100%;gap:16px}.WalletInfo_plateAndName{display:flex;align-items:center;justify-content:flex-start}.WalletInfo_content{display:flex;flex-direction:column;align-items:flex-start;margin-left:12px;color:var(--yoroi-palette-gray-600);font-size:14px;line-height:19px}.WalletInfo_name{font-weight:500;font-size:14px;line-height:22px;margin-right:4px;display:flex;align-items:center}.WalletInfo_icon{width:40px;height:40px}.WalletInfo_plate{font-weight:400;font-size:12px;line-height:20px}.WalletInfo_isLoading,.WalletInfo_amount .WalletInfo_isSyncing{position:relative;display:inline-block;margin-left:15px;margin-bottom:4px}.WalletInfo_toggleButton{margin-left:8px}.WalletInfo_toggleButton:hover{cursor:pointer}.WalletInfo_amount{font-weight:500;font-size:14px;line-height:22px}.WalletInfo_amount .WalletInfo_isLoading,.WalletInfo_amount .WalletInfo_isSyncing{margin-left:9px;margin-bottom:8px;text-indent:-9999px}.WalletInfo_amount .WalletInfo_isLoading:after,.WalletInfo_amount .WalletInfo_isSyncing:after{content:'';width:14px;height:14px;position:absolute;top:calc(50% - 7px);left:calc(50% - 7px);background:url("+c+") no-repeat center;background-size:14px}.WalletInfo_amount .WalletInfo_isLoading:after,.WalletInfo_amount .WalletInfo_isSyncing:after{animation:loading-spin 1.5s linear;animation-iteration-count:infinite}.WalletInfo_amount .WalletInfo_isSyncing{margin-bottom:4px}.WalletInfo_amount+.WalletInfo_amount{margin-left:24px}.WalletInfo_amountAndHideIcon{display:flex;min-height:38px;align-items:flex-start;justify-content:flex-start}.WalletInfo_amountLabel{font-weight:400;display:block;font-size:12px;line-height:20px;color:var(--yoroi-palette-gray-600)}\n",""]),i.locals={wrapper:"WalletInfo_wrapper",plateAndName:"WalletInfo_plateAndName",content:"WalletInfo_content",name:"WalletInfo_name",icon:"WalletInfo_icon",plate:"WalletInfo_plate",isLoading:"WalletInfo_isLoading",amount:"WalletInfo_amount",isSyncing:"WalletInfo_isSyncing",toggleButton:"WalletInfo_toggleButton",amountAndHideIcon:"WalletInfo_amountAndHideIcon",amountLabel:"WalletInfo_amountLabel"};const d=i},55807:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var l=n(23645),o=n.n(l)()((function(e){return e[1]}));o.push([e.id,".SelectWalletTypeStep_container{display:flex;align-items:center;justify-content:center;flex-direction:row;gap:24px}\n",""]),o.locals={container:"SelectWalletTypeStep_container"};const a=o}}]);