(self.webpackChunkyoroi=self.webpackChunkyoroi||[]).push([[3720],{43720:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>Q});var o=t(87672),s=t.n(o),l=t(67294),n=t(259),i=t(99095),a=t(89400),c=t.n(a),p=t(54103),d=t.n(p),x=t(86902),h=t.n(x),u=t(2991),m=t.n(u),g=t(20116),v=t.n(g),b=t(94184),f=t.n(b),E=t(9745),w=t(23972),y=t(99226),S=t(52298),I=(t(63139),t(93379)),R=t.n(I),Z=t(89422);R()(Z.Z,{insert:"head",singleton:!1});const _=Z.Z.locals||{};var P,j,k=t(38043),T=(t(36572),t(50857)),C=t(48521);const O=(0,i.defineMessages)({title:{id:"wallet.settings.blockchain.explorer.title",defaultMessage:"!!!Explorer settings"}});let M=(0,n.observer)((j=class extends l.Component{constructor(...e){super(...e),s()(this,"selectExplorer",(async e=>{await this.props.onSelectExplorer({explorerId:e})})),s()(this,"form",new S.Z({fields:{explorerId:{label:this.context.intl.formatMessage(k.default.blockchainExplorer),value:this.props.selectedExplorer.selected.ExplorerId}}}))}render(){var e,r;const{isSubmitting:t,error:o}=this.props,{intl:s}=this.context,{form:l}=this,n=l.$("explorerId"),i=f()([_.component,"explorer"]),a=v()(e=m()(r=this.props.explorers).call(r,(e=>({value:e,label:e.Name})))).call(e,(e=>0!==h()(e.value.Endpoints).length));return(0,C.jsxs)("div",{className:i,children:[(0,C.jsx)(w.Z,{component:"div",variant:"body1",fontWeight:500,mb:"16px",color:"ds.text_gray_medium",children:s.formatMessage(O.title)}),(0,C.jsxs)(y.Z,{sx:{width:"506px"},children:[(0,C.jsx)(E.Z,{disabled:t,labelId:"explorer-select",...d()(n).call(n),value:this.props.selectedExplorer.selected.ExplorerId,onChange:this.selectExplorer,renderValue:()=>(0,C.jsx)(w.Z,{component:"div",variant:"body1",color:"ds.text_gray_medium",children:this.props.selectedExplorer.selected.Name}),children:m()(a).call(a,(e=>(0,C.jsx)(T.C,{value:e.value.ExplorerId,id:"selectExplorer-"+e.value.Name+"-menuItem",children:e.label},e.value.ExplorerId)))}),o&&(0,C.jsx)("div",{className:_.error,children:s.formatMessage(o,c()(o))})]})]})}},s()(j,"defaultProps",{error:void 0}),s()(j,"contextTypes",{intl:i.intlShape.isRequired}),P=j))||P;var L,N,U,q,F=t(5838),z=t.n(F),H=t(89749),Y=t.n(H),W=(t(18293),t(69397)),$=t(22188);let B=(0,n.observer)((q=class extends l.Component{constructor(...e){super(...e),z()(this,"hasPressed",U,this)}render(){const{intl:e}=this.context,r=this.props.isFirefox&&this.hasPressed;return(0,C.jsxs)(y.Z,{sx:{pb:"24px",pt:!1,borderTop:!1,borderColor:!1},children:[(0,C.jsx)(w.Z,{component:"div",variant:"body1",fontWeight:500,mb:"12px",color:"ds.text_gray_medium",children:e.formatMessage(k.default.uriSchemeLabel)}),(0,C.jsx)(w.Z,{component:"div",variant:"body1",color:"ds.text_gray_medium",children:e.formatMessage(k.default.uriExplanationRevamp)}),(0,C.jsx)(W.Z,{className:"allowButton",variant:"contained",onClick:()=>{this.props.registerUriScheme(),(0,$.runInAction)((()=>{this.hasPressed=!0}))},disabled:r,sx:{width:"fit-content",marginTop:"40px","&.MuiButton-sizeMedium":{p:"13px 24px"}},id:"settings:blockchain-allowPaymentURL-button",children:e.formatMessage(k.default.allowLabel)})]})}},s()(q,"contextTypes",{intl:i.intlShape.isRequired}),N=q,U=Y()(N.prototype,"hasPressed",[$.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),L=N))||L;var A,D,V=t(60963),G=t(75941),J=t(57474),K=t(62343);let Q=(0,n.observer)((D=class extends l.Component{render(){var e,r;const{stores:t}=this.props,{selected:o}=t.wallets;if(null==o)return(0,C.jsx)(J.Z,{});const{intl:s}=this.context,l=t.explorers.setSelectedExplorerRequest.isExecuting,n=o.isCardanoHaskell&&G.Z.canRegisterProtocol()?(0,C.jsx)(B,{registerUriScheme:()=>(0,V.Z)(),isFirefox:G.Z.isFirefox()}):null;return(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)(w.Z,{component:"div",variant:"h5",fontWeight:500,mb:"24px",color:"ds.text_gray_medium",children:s.formatMessage(K.F.blockchain)}),(0,C.jsx)(M,{onSelectExplorer:({explorerId:e})=>t.explorers.setSelectedExplorer({explorerId:e,networkId:o.networkId}),isSubmitting:l,explorers:null!==(e=this.props.stores.explorers.allExplorers.get(o.networkId))&&void 0!==e?e:(()=>{throw new Error("No explorer for wallet network")})(),selectedExplorer:null!==(r=t.explorers.selectedExplorer.get(o.networkId))&&void 0!==r?r:(()=>{throw new Error("No explorer for wallet network")})(),error:t.explorers.setSelectedExplorerRequest.error}),n]})}},s()(D,"contextTypes",{intl:i.intlShape.isRequired}),A=D))||A},60963:(e,r,t)=>{"use strict";t.d(r,{Z:()=>i});var o=t(5227),s=t(13469),l=t(75941);const n={PROTOCOL:"web+cardano",URL:"main_window.html#"+o.ROUTES.SEND_FROM_URI.ROOT+"?q=%s",TITLE:"Yoroi"},i=()=>{if(l.Z.canRegisterProtocol()){try{navigator.unregisterProtocolHandler(n.PROTOCOL,n.URL)}catch(e){s.Yd.error(`uri-protocols:unregisterProtocols ${(0,s.n)(e)}`)}try{navigator.registerProtocolHandler(n.PROTOCOL,n.URL,n.TITLE)}catch(e){s.Yd.error(`uri-protocols:registerProtocols ${(0,s.n)(e)}`)}}else s.Yd.error("uri-protocols:registerProtocols cannot use registerProtocolHandler on this page")}},89422:(e,r,t)=>{"use strict";t.d(r,{Z:()=>l});var o=t(23645),s=t.n(o)()((function(e){return e[1]}));s.push([e.id,".ExplorerSettings_component{margin-bottom:20px}.ExplorerSettings_component h1{color:var(--yoroi-support-settings-text);font-weight:500;font-size:16px;line-height:1.38;margin-bottom:10px;padding-top:10px}.ExplorerSettings_error{color:var(--yoroi-comp-input-error);font-weight:400;font-size:14px;line-height:1.5em;letter-spacing:0.5px;text-align:center}\n",""]),s.locals={component:"ExplorerSettings_component",error:"ExplorerSettings_error"};const l=s}}]);