(self.webpackChunkyoroi=self.webpackChunkyoroi||[]).push([[1659],{99716:(e,t,o)=>{"use strict";o.d(t,{r:()=>p});var r,a,s,n,l,i=o(67294);function d(){return d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var r in o)Object.prototype.hasOwnProperty.call(o,r)&&(e[r]=o[r])}return e},d.apply(this,arguments)}function p(e){return i.createElement("svg",d({width:200,height:200,viewBox:"0 0 200 200",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),r||(r=i.createElement("path",{d:"M41.075 21.726l7.482-4.227a14.322 14.322 0 013.34-1.19c2.005-.66 4.41-.264 7.082 1.19l92.461 52.84C158.388 74.301 164 85.001 164 94.117l-.267 73.579c0 5.549-2.138 9.115-5.211 10.436l-8.552 4.36-6.814-9.908-84.578-48.349c-6.947-3.963-12.56-14.663-12.56-23.778l.268-70.937-5.21-7.794z",fill:"url(#invalid-uri_inline_svg__paint0_linear_17_4115)"})),a||(a=i.createElement("path",{opacity:.8,fillRule:"evenodd",clipRule:"evenodd",d:"M36.255 31.133c.032-9.212 5.716-13.427 12.695-9.414l92.672 53.275c6.979 4.012 12.611 14.732 12.58 23.944l-.255 74.13c-.032 9.211-5.715 13.426-12.694 9.414l-92.672-53.275c-6.98-4.013-12.612-14.732-12.58-23.944l.254-74.13z",fill:"#52FCFF"})),s||(s=i.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M95.1 68.365c18.86 11.298 34.147 35.559 34.148 54.189 0 18.632-15.288 24.578-34.147 13.282-18.858-11.297-34.147-35.559-34.147-54.19S76.243 57.07 95.1 68.366z",fill:"#FF1351"})),n||(n=i.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M108.522 122.499c.569.963.854 1.867.854 2.71 0 .844-.285 1.375-.854 1.594-.57.22-1.281.071-2.136-.444-.854-.516-1.594-1.243-2.221-2.185l-11.19-17.806-11.192 4.303c-.626.185-1.337.038-2.135-.443-.798-.482-1.508-1.192-2.135-2.134-.626-.94-.94-1.832-.94-2.676 0-.844.314-1.386.94-1.627l11.105-4.356L77.513 81.68c-.626-.996-.94-1.917-.94-2.761 0-.844.314-1.358.94-1.543.627-.185 1.337-.036 2.135.444.798.481 1.51 1.193 2.135 2.133L92.975 97.76l11.19-4.305c.627-.184 1.367-.018 2.221.497.855.515 1.566 1.226 2.136 2.132.569.906.854 1.782.854 2.625 0 .844-.285 1.404-.854 1.68l-11.19 4.304 11.19 17.806z",fill:"#fff"})),l||(l=i.createElement("defs",null,i.createElement("linearGradient",{id:"invalid-uri_inline_svg__paint0_linear_17_4115",x1:41.075,y1:182.492,x2:164,y2:182.492,gradientUnits:"userSpaceOnUse"},i.createElement("stop",{stopColor:"#17D1AA"}),i.createElement("stop",{offset:.15,stopColor:"#1ACBAF"}),i.createElement("stop",{offset:.37,stopColor:"#21B8BC"}),i.createElement("stop",{offset:.62,stopColor:"#2E9BD3"}),i.createElement("stop",{offset:.89,stopColor:"#3F71F1"}),i.createElement("stop",{offset:1,stopColor:"#475FFF"})))))}o.p},82764:(e,t,o)=>{"use strict";o.d(t,{Z:()=>m});var r=o(87672),a=o.n(r),s=o(67294),n=o(259),l=o(93379),i=o.n(l),d=o(27156);i()(d.Z,{insert:"head",singleton:!1});const p=d.Z.locals||{};var c,h,u=o(99226),g=o(48521);let m=(0,n.observer)((h=class extends s.Component{render(){const{children:e}=this.props;return(0,g.jsx)(u.Z,{className:p.component,children:e})}},a()(h,"defaultProps",{children:void 0}),c=h))||c},93838:(e,t,o)=>{"use strict";o.d(t,{Z:()=>v});var r=o(87672),a=o.n(r),s=o(67294),n=o(259),l=o(99095),i=o(38043),d=o(99226),p=o(23972),c=o(93379),h=o.n(c),u=o(1234);h()(u.Z,{insert:"head",singleton:!1});const g=u.Z.locals||{};var m,f,x=o(48521);let v=(0,n.observer)((f=class extends s.Component{render(){const{intl:e}=this.context,{children:t}=this.props;return(0,x.jsxs)(d.Z,{sx:{backgroundColor:"ds.sys_yellow_100",borderRadius:"8px",mb:"24px",p:"24px"},className:g.component,children:[(0,x.jsxs)("div",{className:g.header,children:[(0,x.jsx)("div",{className:g.headerIcon}),(0,x.jsx)(p.Z,{color:"ds.sys_orange_500",className:g.headerText,children:e.formatMessage(i.default.attentionHeaderText)})]}),(0,x.jsx)("div",{className:g.warning,children:t})]})}},a()(f,"contextTypes",{intl:l.intlShape.isRequired}),m=f))||m},70988:(e,t,o)=>{"use strict";o.d(t,{Z:()=>b});var r,a,s=o(54103),n=o.n(s),l=o(87672),i=o.n(l),d=o(67294),p=o(259),c=o(99095),h=o(52298),u=o(11634),g=o.n(u),m=o(38043),f=o(52974),x=o(94535),v=o(99226),_=o(23972),w=o(48521);let b=(0,p.observer)((a=class extends d.Component{constructor(...e){super(...e),i()(this,"form",new h.Z({fields:{[this.props.fieldName]:{type:"password",onChange:this.props.onChange,label:this.props.placeholder,placeholder:"",value:this.props.initValues||"",validators:[({field:e})=>[this.props.passwordMatches(e.value),this.context.intl.formatMessage(m.default.invalidRepeatPassword)],({field:e})=>[this.props.allowEmptyInput||e.value.length>=0,this.context.intl.formatMessage(m.default.fieldIsRequired)],({field:e})=>[this.props.validCheck(e.value),this.context.intl.formatMessage(m.default.invalidWalletPassword)]]}}},{options:{validateOnChange:!0,validationDebounceWait:f.Z.forms.FORM_VALIDATION_DEBOUNCE_WAIT},plugins:{vjf:g()()}}))}componentDidMount(){this.props.setForm(this.form)}render(){const{form:e}=this,t=e.$(this.props.fieldName);return(0,w.jsxs)(v.Z,{children:[(0,w.jsx)(_.Z,{variant:"body1",color:"ds.text_gray_medium",children:this.props.disclaimer}),(0,w.jsx)(x.Z,{className:this.props.fieldName,...n()(t).call(t),disabled:this.props.disabled,error:t.error,done:this.props.done})]})}},i()(a,"defaultProps",{initValues:void 0,disclaimer:void 0,onChange:void 0,done:void 0}),i()(a,"contextTypes",{intl:c.intlShape.isRequired}),r=a))||r},58201:(e,t,o)=>{"use strict";o.d(t,{Z:()=>u});var r,a,s=o(87672),n=o.n(s),l=o(67294),i=o(259),d=o(99095),p=(o(52298),o(38043)),c=o(70988),h=o(48521);let u=(0,i.observer)((a=class extends l.Component{render(){const{intl:e}=this.context;return(0,h.jsx)(c.Z,{setForm:this.props.setForm,disabled:this.props.isSubmitting,passwordMatches:e=>!0,fieldName:"walletPassword",validCheck:e=>!0,placeholder:e.formatMessage(p.default.passwordLabel),allowEmptyInput:!1,initValues:this.props.initValues})}},n()(a,"defaultProps",{initValues:void 0}),n()(a,"contextTypes",{intl:d.intlShape.isRequired}),r=a))||r},30597:(e,t,o)=>{"use strict";o.d(t,{Z:()=>N});var r,a,s,n,l=o(36384),i=o.n(l),d=o(2991),p=o.n(d),c=o(87672),h=o.n(c),u=o(67294),g=o(259),m=o(95667),f=o(55688),x=o(34074),v=o.n(x),_=o(89400),w=o.n(_),b=o(5838),y=o.n(b),j=o(89749),k=o.n(j),C=(o(18293),o(22188)),E=o(99095),S=(o(52298),o(52227)),Z=o(23496),M=o(94687),F=o(82164),B=o(36094),I=o(69051),T=o(58201),D=o(38043),A=(o(63139),o(45918)),P=o(52065),R=o(84174),L=o(48521);let W=(0,g.observer)((n=class extends u.Component{constructor(...e){super(...e),y()(this,"spendingPasswordForm",s,this),h()(this,"submit",(async()=>{const{stores:e}=this.props,t=e.wallets.selected;if(null==t)throw new Error("TransferSendPage no wallet selected");const o=this.props.transactionRequest.result;null!=o&&(null==this.spendingPasswordForm?("trezor"===t.type&&await e.substores.ada.trezorSend.sendUsingTrezor({params:{signRequest:o},wallet:t}),"ledger"===t.type&&await e.substores.ada.ledgerSend.sendUsingLedgerWallet({params:{signRequest:o},wallet:t}),null==e.wallets.sendMoneyRequest.error&&this.props.onSubmit.trigger()):this.spendingPasswordForm.submit({onSuccess:async r=>{const{walletPassword:a}=w()(r).call(r);await e.substores.ada.mnemonicSend.sendMoney({signRequest:o,password:a,wallet:t}),null==e.wallets.sendMoneyRequest.error&&this.props.onSubmit.trigger()},onError:()=>{}}))})),h()(this,"getSpinner",(()=>{const{intl:e}=this.context;return(0,L.jsx)(B.ZP,{title:e.formatMessage(D.default.processingLabel),closeOnOverlayClick:!1,children:(0,L.jsx)(S.Z,{children:(0,L.jsx)(F.Z,{children:(0,L.jsx)(I.default,{})})})})})),h()(this,"getContent",(e=>{var t;const o=this.props.stores.wallets.selected;if(null==o)throw new Error("TransferSendPage no wallet selected");const r="mnemonic"===o.type?(0,L.jsx)(T.Z,{setForm:e=>this.setSpendingPasswordForm(e),isSubmitting:this.props.stores.wallets.sendMoneyRequest.isExecuting}):null,{intl:a}=this.context;return(0,L.jsx)(Z.Z,{header:this.props.header,form:r,selectedExplorer:null!==(t=this.props.stores.explorers.selectedExplorer.get(o.networkId))&&void 0!==t?t:(()=>{throw new Error("No explorer for wallet network")})(),transferTx:this.props.toTransferTx(e),getTokenInfo:(0,P.genLookupOrFail)(this.props.stores.tokenInfoStore.tokenInfo),onSubmit:{label:this.props.onSubmit.label,trigger:this.submit},isSubmitting:this.props.stores.wallets.sendMoneyRequest.isExecuting,onCancel:this.props.onClose,error:this.props.stores.wallets.sendMoneyRequest.error,dialogTitle:a.formatMessage(D.default.walletSendConfirmationDialogTitle),getCurrentPrice:this.props.stores.coinPriceStore.getCurrentPrice,unitOfAccountSetting:this.props.stores.profile.unitOfAccount,addressLookup:(0,A.iL)(o.networkId,a,void 0,this.props.stores.addresses.addressSubgroupMap),addressToDisplayString:e=>(0,m.addressToDisplayString)(e,(0,R.getNetworkById)(o.networkId))})}))}setSpendingPasswordForm(e){this.spendingPasswordForm=e}componentWillUnmount(){const{stores:e}=this.props;e.wallets.sendMoneyRequest.reset(),this.props.transactionRequest.reset(),e.substores.ada.ledgerSend.cancel(),e.substores.ada.trezorSend.cancel()}render(){return null!=this.props.transactionRequest.error?(0,L.jsx)(M.Z,{error:this.props.transactionRequest.error,onCancel:this.props.onClose.trigger}):null==this.props.transactionRequest.result?this.getSpinner():this.getContent(this.props.transactionRequest.result)}},h()(n,"contextTypes",{intl:E.intlShape.isRequired}),h()(n,"defaultProps",{header:void 0}),a=n,s=k()(a.prototype,"spendingPasswordForm",[C.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),k()(a.prototype,"setSpendingPasswordForm",[C.action],v()(a.prototype,"setSpendingPasswordForm"),a.prototype),r=a))||r;var z,O;let N=(0,g.observer)((O=class extends u.Component{componentDidMount(){const e=this.props.stores.wallets.selected;if(null==e)throw new Error("UnmangleTxDialogContainer no wallet selected");const t=(0,f.v)((t=>{var o,r;const a=null!==(o=null===(r=this.props.stores.addresses.addressSubgroupMap.get(t))||void 0===r?void 0:r.all)&&void 0!==o?o:[],s=p()(a).call(a,(t=>(0,m.getAddressPayload)(t.address,(0,R.getNetworkById)(e.networkId))));return new(i())(s)}),e.networkId);this.props.stores.transactionBuilderStore.initializeTx({publicDeriver:e,filter:e=>t(e)})}render(){const{stores:e}=this.props,{intl:t}=this.context,o=this.props.stores.transactionBuilderStore;return(0,L.jsx)(W,{stores:e,onClose:{trigger:this.props.onClose,label:t.formatMessage(D.default.cancel)},onSubmit:{trigger:()=>{},label:t.formatMessage(D.default.confirm)},transactionRequest:{error:o.setupSelfTx.error,result:o.tentativeTx,reset:this.props.stores.transactionBuilderStore.reset},toTransferTx:e=>({recoveredBalance:e.totalInput(),fee:e.fee(),senders:e.uniqueSenderAddresses(),receivers:e.receivers(!1)})})}},h()(O,"contextTypes",{intl:E.intlShape.isRequired}),z=O))||z},94687:(e,t,o)=>{"use strict";o.d(t,{Z:()=>g});var r,a,s=o(87672),n=o.n(s),l=o(67294),i=o(259),d=o(99095),p=(o(63139),o(95416)),c=o(38043),h=o(21131),u=o(48521);let g=(0,i.observer)((a=class extends l.Component{render(){const{intl:e}=this.context,{error:t,onCancel:o}=this.props;return(0,u.jsx)(p.Z,{title:e.formatMessage(new h.GenerateTransferTxError),backButtonLabel:e.formatMessage(c.default.cancel),onCancel:o,error:t})}},n()(a,"defaultProps",{error:void 0}),n()(a,"contextTypes",{intl:d.intlShape.isRequired}),r=a))||r},21659:(e,t,o)=>{"use strict";o.r(t),o.d(t,{default:()=>Ma});var r,a,s,n,l,i,d,p,c,h=o(87672),u=o.n(h),g=o(259),m=o(30381),f=o.n(m),x=o(67294),v=o(99095),_=o(55343),w=o(19896),b=o(35450),y=o(7965),j=o(2734),k=o(26447),C=o(23972),E=o(38043);function S(){return S=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var r in o)Object.prototype.hasOwnProperty.call(o,r)&&(e[r]=o[r])}return e},S.apply(this,arguments)}function Z(e){return x.createElement("svg",S({width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),r||(r=x.createElement("path",{d:"M19.945 7.987c.014.176.014.35.014.525C19.959 13.849 15.834 20 8.296 20c-2.323 0-4.48-.663-6.296-1.813.33.037.647.05.99.05a8.293 8.293 0 005.09-1.725 4.148 4.148 0 01-2.372-.795 4.049 4.049 0 01-1.462-2.005c.253.037.508.062.775.062.367 0 .736-.05 1.08-.137a4.11 4.11 0 01-2.363-1.403 3.999 3.999 0 01-.925-2.56v-.05c.547.3 1.18.487 1.852.513a4.055 4.055 0 01-1.343-1.455 3.983 3.983 0 01-.484-1.907c0-.75.202-1.438.557-2.037a11.629 11.629 0 003.771 2.997 11.8 11.8 0 004.682 1.228 4.522 4.522 0 01-.101-.925c0-.53.105-1.056.311-1.546a4.03 4.03 0 01.889-1.31c.38-.375.832-.672 1.33-.875A4.151 4.151 0 0115.846 4c1.18 0 2.246.487 2.995 1.275a8.173 8.173 0 002.601-.975 4.041 4.041 0 01-1.802 2.225A8.315 8.315 0 0022 5.9a8.725 8.725 0 01-2.055 2.087z",fill:"#000"})))}function M(){return M=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var r in o)Object.prototype.hasOwnProperty.call(o,r)&&(e[r]=o[r])}return e},M.apply(this,arguments)}function F(e){return x.createElement("svg",M({width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),a||(a=x.createElement("path",{d:"M20.65 4.105L2.934 10.622c-1.21.463-1.202 1.107-.222 1.393l4.549 1.354 10.523-6.334c.498-.289.953-.133.579.183l-8.527 7.34h-.002l.002.001-.313 4.473c.46 0 .662-.202.92-.439l2.21-2.05 4.595 3.239c.847.445 1.456.216 1.666-.749l3.017-13.561c.309-1.18-.473-1.716-1.281-1.367z",fill:"#000"})))}function B(){return B=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var r in o)Object.prototype.hasOwnProperty.call(o,r)&&(e[r]=o[r])}return e},B.apply(this,arguments)}function I(e){return x.createElement("svg",B({width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),s||(s=x.createElement("path",{d:"M12 2C6.477 2 2 6.504 2 12.06c0 5.021 3.656 9.182 8.438 9.94v-7.03h-2.54v-2.91h2.54V9.844c0-2.524 1.493-3.915 3.776-3.915 1.094 0 2.24.196 2.24.196V8.6H15.19c-1.24 0-1.628.777-1.628 1.573v1.886h2.771l-.443 2.91h-2.328v7.03C18.344 21.244 22 17.082 22 12.06 22 6.504 17.523 2 12 2z",fill:"#000"})))}function T(){return T=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var r in o)Object.prototype.hasOwnProperty.call(o,r)&&(e[r]=o[r])}return e},T.apply(this,arguments)}function D(e){return x.createElement("svg",T({width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),n||(n=x.createElement("path",{d:"M21.593 6.358a2.733 2.733 0 00-.645-1.196 2.473 2.473 0 00-1.116-.694C18.267 4.008 12.007 4 12.007 4s-6.26-.007-7.826.432a2.528 2.528 0 00-1.114.705 2.79 2.79 0 00-.65 1.199C2.004 8.012 2 11.489 2 11.489s-.004 3.494.406 5.154c.23.917.904 1.642 1.761 1.89 1.581.46 7.825.467 7.825.467s6.26.008 7.825-.431a2.48 2.48 0 001.117-.693c.31-.33.534-.743.65-1.195.413-1.675.416-5.151.416-5.151s.02-3.495-.407-5.172zM10.004 14.71l.005-6.423 5.204 3.217-5.209 3.207z",fill:"#000"})))}function A(){return A=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var r in o)Object.prototype.hasOwnProperty.call(o,r)&&(e[r]=o[r])}return e},A.apply(this,arguments)}function P(e){return x.createElement("svg",A({width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),l||(l=x.createElement("path",{d:"M4.265 3L3 6.262V19.59h4.5v1.553l2.53.857 2.392-2.41h3.657L21 14.627V3H4.265zm15.047 10.776l-2.813 2.837H12l-2.39 2.41v-2.41H5.812V4.7h13.5v9.075zM16.5 7.963v4.962h-1.687V7.963H16.5zm-4.5 0v4.962h-1.687V7.963H12z",fill:"#000"})))}function R(){return R=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var r in o)Object.prototype.hasOwnProperty.call(o,r)&&(e[r]=o[r])}return e},R.apply(this,arguments)}function L(e){return x.createElement("svg",R({width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),i||(i=x.createElement("path",{d:"M14.833 4a9.68 9.68 0 00-.529 1.062 15.12 15.12 0 00-4.572 0A9.66 9.66 0 009.203 4 16.362 16.362 0 005.08 5.256C2.74 8.524 1.678 12.493 2.085 16.45a16.784 16.784 0 005.062 2.502c.415-.53.785-1.093 1.108-1.68a9.775 9.775 0 01-1.707-.803c.148-.095.288-.202.419-.318a11.965 11.965 0 005.051 1.115c1.75 0 3.476-.381 5.052-1.115.14.116.279.222.419.318-.544.319-1.115.59-1.707.812.309.601.67 1.176 1.078 1.719a16.623 16.623 0 005.051-2.502c.418-3.958-.645-7.93-2.995-11.194A16.442 16.442 0 0014.833 4zM8.704 14.19a1.962 1.962 0 01-1.3-.615 1.838 1.838 0 01-.497-1.317c-.02-.485.158-.958.493-1.319.336-.36.803-.58 1.304-.613.5.033.968.253 1.304.613.335.361.512.834.493 1.32.02.484-.158.957-.493 1.318-.336.36-.804.58-1.304.613zm6.628 0a1.962 1.962 0 01-1.3-.615 1.838 1.838 0 01-.496-1.317c-.02-.485.157-.958.493-1.319.335-.36.803-.58 1.303-.613.502.03.971.25 1.307.61.336.362.512.837.49 1.322a1.82 1.82 0 01-.49 1.322c-.336.36-.805.58-1.306.61z",fill:"#000"})))}function W(){return W=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var r in o)Object.prototype.hasOwnProperty.call(o,r)&&(e[r]=o[r])}return e},W.apply(this,arguments)}function z(e){return x.createElement("svg",W({width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),d||(d=x.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 2C6.477 2 2 6.59 2 12.253c0 4.53 2.864 8.373 6.839 9.73.5.093.68-.223.68-.494 0-.244-.007-.89-.01-1.744-2.783.619-3.37-1.375-3.37-1.375-.453-1.185-1.11-1.5-1.11-1.5-.907-.637.07-.622.07-.622 1.004.072 1.53 1.057 1.53 1.057.892 1.566 2.342 1.114 2.91.852.09-.663.352-1.116.636-1.372-2.22-.258-4.554-1.137-4.554-5.068 0-1.117.39-2.034 1.027-2.75-.101-.26-.447-1.303.1-2.713 0 0 .839-.277 2.748 1.05A9.384 9.384 0 0112 6.957a9.357 9.357 0 012.502.345c1.912-1.327 2.75-1.05 2.75-1.05.546 1.411.203 2.455.099 2.715.642.715 1.027 1.631 1.027 2.75 0 3.94-2.336 4.805-4.564 5.06.356.316.676.94.676 1.897 0 1.371-.012 2.477-.012 2.814 0 .274.179.593.69.492 3.972-1.359 6.833-5.2 6.833-9.728C22 6.59 17.523 2 12 2z",fill:"#000"})))}function O(){return O=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var r in o)Object.prototype.hasOwnProperty.call(o,r)&&(e[r]=o[r])}return e},O.apply(this,arguments)}function N(e){return x.createElement("svg",O({width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),p||(p=x.createElement("path",{d:"M16.444 2a5.588 5.588 0 00-3.945 1.585l-.01.01-1.697 1.698a1 1 0 001.415 1.414l1.69-1.693A3.588 3.588 0 0116.428 4c.942.008 1.846.39 2.515 1.063A3.653 3.653 0 0120 7.606a3.655 3.655 0 01-1.009 2.555l-2.756 2.776a3.574 3.574 0 01-4.273.62c-.38-.21-.778-.64-1.16-1.153a1 1 0 10-1.605 1.192c.41.552 1.021 1.284 1.8 1.712a5.582 5.582 0 006.657-.962l2.763-2.783.012-.012a5.654 5.654 0 001.57-3.963 5.653 5.653 0 00-1.638-3.934A5.589 5.589 0 0016.444 2z",fill:"#000"})),c||(c=x.createElement("path",{d:"M10.713 8.014a5.576 5.576 0 00-4.367 1.64l-2.763 2.783-.012.012a5.655 5.655 0 00-1.57 3.963 5.654 5.654 0 001.638 3.934A5.589 5.589 0 007.556 22a5.588 5.588 0 003.945-1.585l.01-.01 1.697-1.698a1 1 0 10-1.416-1.414l-1.69 1.693A3.588 3.588 0 017.574 20a3.589 3.589 0 01-2.516-1.063A3.653 3.653 0 014 16.394 3.655 3.655 0 015.01 13.84l2.756-2.776a3.575 3.575 0 014.273-.62c.38.21.778.64 1.16 1.153a1 1 0 001.605-1.192c-.41-.551-1.021-1.284-1.8-1.712a5.58 5.58 0 00-2.29-.678z",fill:"#000"})))}o.p,o.p,o.p,o.p,o.p,o.p,o.p,o.p;var U=o(73891);const G=(0,b.Z)(w.Z)({display:"flex",alignItems:"center"}),H=(0,b.Z)(U.Z)((({theme:e})=>({marginRight:"5px",color:"inherit","& svg":{"& path":{fill:e.palette.ds.el_gray_medium}}})));var q,$,Y=o(21023),V=o(90948);function K(){return K=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var r in o)Object.prototype.hasOwnProperty.call(o,r)&&(e[r]=o[r])}return e},K.apply(this,arguments)}function Q(e){return x.createElement("svg",K({width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),q||(q=x.createElement("path",{d:"M12 7a1 1 0 100 2h.01a1 1 0 100-2H12zM12 10a1 1 0 00-1 1v5a1 1 0 102 0v-5a1 1 0 00-1-1z",fill:"#000"})),$||($=x.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M2 12C2 6.477 6.477 2 12 2s10 4.477 10 10-4.477 10-10 10S2 17.523 2 12zm10-8a8 8 0 100 16 8 8 0 000-16z",fill:"#000"})))}o.p;var J=o(48521);const X=({href:e,children:t})=>(0,J.jsx)(H,{href:e,target:"_blank",rel:"noreferrer noopener",sx:{display:"inline-flex",alignItems:"center",justifyContent:"center"},children:t}),ee=({socialLinks:e,websiteUrl:t,color:o})=>{const r=null==e?void 0:e.tw,a=null==e?void 0:e.tg,s=null==e?void 0:e.fb,n=null==e?void 0:e.yt,l=null==e?void 0:e.tc,i=null==e?void 0:e.di,d=null==e?void 0:e.gh;return(0,J.jsxs)(G,{color:o,children:[null!=r?(0,J.jsx)(X,{href:`https://twitter.com/${r}`,children:(0,J.jsx)(Z,{})}):null,null!=a?(0,J.jsx)(X,{href:`https://t.me/${a}`,children:(0,J.jsx)(F,{})}):null,null!=s?(0,J.jsx)(X,{href:`https://fb.me/${s}`,children:(0,J.jsx)(I,{})}):null,null!=n?(0,J.jsx)(X,{href:`https://youtube.com/${n}`,children:(0,J.jsx)(D,{})}):null,null!=l?(0,J.jsx)(X,{href:`https://twitch.com/${l}`,children:(0,J.jsx)(P,{})}):null,null!=i?(0,J.jsx)(X,{href:`https://discord.gg/${i}`,children:(0,J.jsx)(L,{})}):null,null!=d?(0,J.jsx)(X,{href:`https://github.com/${d}`,children:(0,J.jsx)(z,{})}):null,null!=t?(0,J.jsx)(X,{href:t,children:(0,J.jsx)(N,{})}):null]})},te=({message:e,placement:t})=>(0,J.jsx)(Y.Z,{title:(0,J.jsx)(C.Z,{component:"div",variant:"body2",children:e}),arrow:!0,placement:t||"right",children:(0,J.jsx)(oe,{display:"inline-flex",children:(0,J.jsx)(Q,{})})});te.defaultProps={placement:"right"};const oe=(0,V.ZP)(w.Z)((({theme:e})=>({"& svg":{"& path":{fill:e.palette.ds.el_gray_medium}}})));var re=o(77766),ae=o.n(re),se=o(32366),ne=o.n(se),le=o(66932);const ie=e=>{const t=(0,le.KT)(e,36,{padding:0});return`data:image/svg+xml;utf8,${encodeURIComponent(t)}`},de=e=>((e,t)=>ne()(e).call(e,((e,o)=>{var r;return{...e,[o[t]]:ae()(r=e[o[t]]||[]).call(r,o)}}),{}))(e,"poolName");var pe=o(99226),ce=o(69397),he=o(905),ue=o(50579),ge=o(57500),me=o(88322);const fe=({poolTransition:e,intl:t,delegateToSpecificPool:o,poolId:r,poolName:a,stores:s,socialMediaInfo:n})=>{const{openTxReviewModal:l,startLoadingTxReview:i,walletType:d,isHardwareWallet:p,stakeKeyDeposit:c,primaryTokenInfo:h,showTxResultModal:u,stakingRewards:g}=(0,ge.useTxReviewModal)(),m=(0,le.KT)(r,36,{padding:0}),f=`data:image/svg+xml;utf8,${encodeURIComponent(m)}`;if(null!=e&&e.shouldShowTransitionFunnel)return(0,J.jsx)(we,{variant:"danger",onClick:()=>{var t,r;return o(null!==(t=null===(r=e.suggestedPool)||void 0===r?void 0:r.hash)&&void 0!==t?t:"")},children:t.formatMessage(E.default.updatePool)});const x=async()=>{const e=s.wallets.selectedOrFail;s.substores.ada.delegationTransaction.setShouldDeregister(!0);const o=await s.substores.ada.delegationTransaction.createWithdrawalTxForWallet({wallet:e});l({modalView:"transactionReview",submitTx:e=>v(e),operations:{components:[{component:(0,J.jsx)(xe,{intl:t,avatarGenerated:f,poolName:a,stakeKeyDeposit:`${new he.Z(c).shiftedBy(-h.decimals).toString()} ${h.name}`,stakingRewards:`${(0,me.asQuantity)(g)} ${h.name}`,socialMediaInfo:n}),duplicated:!1}],kind:"undelegate"},unsignedTx:o.unsignedTx})},v=async e=>{const t=s.wallets.selected,o=s.substores.ada.delegationTransaction.createWithdrawalTx.result;if(null!=o)try{i(),p?("trezor"===d&&await s.substores.ada.trezorSend.sendUsingTrezor({params:{signRequest:o},wallet:t,onFail:()=>u(ue.TransactionResult.FAIL),onSuccess:()=>u(ue.TransactionResult.SUCCESS)}),"ledger"===d&&await s.substores.ada.ledgerSend.sendUsingLedgerWallet({params:{signRequest:o},wallet:t,onFail:()=>{u(ue.TransactionResult.FAIL)},onSuccess:()=>{u(ue.TransactionResult.SUCCESS)}})):(await s.substores.ada.mnemonicSend.sendMoney({signRequest:o,password:e,wallet:t}),u(ue.TransactionResult.SUCCESS))}catch(e){u(ue.TransactionResult.FAIL)}};return(0,J.jsx)(be,{variant:"tertiary",color:"primary",onClick:x,disabled:!x,sx:{lineHeight:"21px","&.MuiButton-sizeMedium":{height:"unset",p:"9px 15px"}},children:t.formatMessage(E.default.undelegateLabel)})},xe=({stakeKeyDeposit:e,avatarGenerated:t,poolName:o,intl:r,socialMediaInfo:a,stakingRewards:s})=>{const{socialLinks:n,websiteUrl:l}=null!=a?a:{},i=_e(n,l),d=null!=l?l:i[0];return(0,J.jsxs)(k.Z,{gap:"8px",children:[(0,J.jsxs)(k.Z,{direction:"row",justifyContent:"space-between",children:[(0,J.jsx)(C.Z,{color:"ds.text_gray_low",children:r.formatMessage(E.default.undelegatePool)}),(0,J.jsxs)(k.Z,{direction:"row",spacing:1,alignItems:"center",children:[(0,J.jsx)(pe.Z,{sx:{width:"24px",height:"24px",borderRadius:"50%",display:"inline-block"},component:"img",src:t}),d&&(0,J.jsx)(H,{href:d,target:"_blank",rel:"noreferrer noopener",children:(0,J.jsx)(C.Z,{color:"ds.text_gray_medium",children:o})})]})]}),(0,J.jsxs)(k.Z,{direction:"row",justifyContent:"space-between",children:[(0,J.jsx)(C.Z,{color:"ds.text_gray_low",children:r.formatMessage(E.default.deregisteringStakingKey)}),(0,J.jsx)(C.Z,{color:"ds.text_gray_medium",children:e})]}),(0,J.jsxs)(k.Z,{direction:"row",justifyContent:"space-between",children:[(0,J.jsx)(C.Z,{color:"ds.text_gray_low",children:r.formatMessage(E.default.totalRewardsLabel)}),(0,J.jsx)(C.Z,{color:"ds.text_gray_medium",children:s})]})]})},ve=(e,t)=>{const o={twitter:"https://twitter.com/",telegram:"https://t.me/",facebook:"https://fb.me/",youtube:"https://youtube.com/",twitch:"https://twitch.com/",discord:"https://discord.gg/",github:"https://github.com/"}[e];return o?`${o}${t}`:""},_e=(e,t)=>{const o=[];return null!=e&&e.tw&&o.push(ve("twitter",e.tw)),null!=e&&e.tg&&o.push(ve("telegram",e.tg)),null!=e&&e.fb&&o.push(ve("facebook",e.fb)),null!=e&&e.yt&&o.push(ve("youtube",e.yt)),null!=e&&e.tc&&o.push(ve("twitch",e.tc)),null!=e&&e.di&&o.push(ve("discord",e.di)),null!=e&&e.gh&&o.push(ve("github",e.gh)),t&&o.push(t),o},we=(0,V.ZP)(ce.Z)((({theme:e})=>({minWidth:"auto",width:"140px",marginLeft:"auto",background:e.palette.ds.sys_magenta_500,color:"white",height:"40px",padding:"0px !important",fontSize:"14px","&:hover":{backgroundColor:e.palette.ds.sys_magenta_500,color:"white"}}))),be=(0,V.ZP)(ce.Z)({minWidth:"auto",width:"unset",marginLeft:"auto"});var ye=o(28336),je=o(75723);const ke=(0,v.injectIntl)((0,g.observer)((function({delegatedPool:e,intl:t,poolTransition:o,delegateToSpecificPool:r,stores:a}){const{id:s,name:n,ticker:l,poolSize:i,share:d,avatar:p,roa:c,socialLinks:h,websiteUrl:u}=e||{},g=(0,j.Z)(),m=ie(s);return(0,J.jsxs)(Ce,{sx:{border:"1px solid",borderColor:"grayscale.200",bgcolor:"ds.bg_color_max",paddingBottom:"24px"},children:[(0,J.jsxs)(k.Z,{direction:"row",px:4,py:2,alignItems:"center",children:[(0,J.jsx)(C.Z,{component:"div",variant:"h5",color:g.palette.ds.text_gray_medium,fontWeight:500,children:t.formatMessage(E.default.stakePoolDelegated)}),(0,J.jsx)(fe,{poolId:s,poolName:n,poolTransition:o,intl:t,delegateToSpecificPool:r,stores:a,socialMediaInfo:{socialLinks:h,websiteUrl:u}})]}),(0,J.jsx)(w.Z,{sx:{borderBottom:"1px solid",borderBottomColor:"grayscale.200",display:"flex",alignItems:"center",justifyContent:"space-between"}}),(0,J.jsxs)(Ee,{sx:{paddingBottom:0},children:[(0,J.jsx)(Se,{children:null!=p?(0,J.jsx)(Ze,{src:p,alt:"stake pool logo"}):(0,J.jsx)(Ze,{src:m,alt:"stake pool logo"})}),(0,J.jsxs)(w.Z,{marginLeft:"16px",sx:{display:"flex",alignItems:"flex-start",gap:"10px"},children:[(0,J.jsxs)(C.Z,{component:"div",color:g.palette.ds.text_primary_medium,variant:"body1",fontWeight:"medium",mb:"3px",children:[null!=l?`[${l}]`:""," ",null!=n?n:(0,ye.truncateAddress)((0,je.poolIdHexToBech32)(s))]}),(0,J.jsx)(ee,{color:"grayscale.500",websiteUrl:u,socialLinks:h}),(0,J.jsx)("br",{})]})]}),(0,J.jsxs)(Ee,{justifyContent:"space-between",sx:{paddingBottom:"25px"},children:[null!=c?(0,J.jsxs)(w.Z,{sx:{display:"flex",flexFlow:"column"},children:[(0,J.jsx)(C.Z,{component:"div",variant:"caption1",color:g.palette.ds.text_gray_low,sx:{textTransform:"uppercase"},children:t.formatMessage(E.default.roa30d)}),(0,J.jsxs)(C.Z,{as:"span",fontWeight:500,color:g.palette.ds.text_gray_medium,variant:"h2",children:[c," %"]})]}):null,null!=i&&(0,J.jsxs)(w.Z,{sx:{display:"flex",flexFlow:"column"},children:[(0,J.jsx)(C.Z,{component:"div",variant:"caption1",color:g.palette.ds.text_gray_low,sx:{textTransform:"uppercase"},children:t.formatMessage(E.default.poolSize)}),(0,J.jsx)(C.Z,{as:"span",fontWeight:500,color:g.palette.ds.text_gray_medium,variant:"h2",children:i})]}),null!=d&&(0,J.jsxs)(w.Z,{sx:{display:"flex",flexFlow:"column"},children:[(0,J.jsx)(C.Z,{component:"div",variant:"caption1",color:g.palette.ds.text_gray_low,sx:{textTransform:"uppercase"},children:t.formatMessage(E.default.poolSaturation)}),(0,J.jsxs)(C.Z,{as:"span",fontWeight:500,color:g.palette.ds.text_gray_medium,variant:"h2",children:[d," %"]})]})]})]})}))),Ce=(0,b.Z)(w.Z)({borderRadius:"8px",display:"flex",flexDirection:"column",justifyContent:"flex-end"}),Ee=(0,b.Z)(w.Z)({display:"flex",padding:24}),Se=(0,b.Z)(w.Z)({width:"40px",height:"40px",minWidth:"40px",marginRight:"12px",borderRadius:"20px",overflow:"hidden"}),Ze=(0,b.Z)("img")((({theme:e})=>({width:"100%",background:e.palette.ds.primary_100,objectFit:"scale-down"})));var Me=o(66489);function Fe({percentage:e,days:t,currentEpoch:o,startEpochDate:r,endEpochDate:a}){return(0,J.jsx)(w.Z,{children:(0,J.jsxs)(k.Z,{direction:"row",spacing:2,justifyContent:"flex-start",children:[(0,J.jsx)(Te,{value:e,days:t}),(0,J.jsxs)(k.Z,{direction:"column",flexGrow:"1",children:[(0,J.jsx)(Be,{label:"Current Epoch",value:o}),(0,J.jsxs)(k.Z,{direction:"row",spacing:3,mt:"50px",justifyContent:"space-between",children:[(0,J.jsx)(Ie,{label:"Epoch started at",value:r}),(0,J.jsx)(Ie,{label:"Epoch ends at",value:a})]})]})]})})}const Be=({label:e,value:t})=>(0,J.jsx)(w.Z,{children:(0,J.jsxs)(C.Z,{component:"div",fontWeight:"500",color:"primary.600",children:[e,": ",t]})}),Ie=({label:e,value:t})=>(0,J.jsxs)(w.Z,{children:[(0,J.jsx)(C.Z,{component:"div",style:{textTransform:"uppercase"},variant:"caption",mb:"4px",color:"grayscale.600",children:e}),(0,J.jsx)(C.Z,{component:"div",color:"grayscale.900",children:t})]}),Te=({value:e,days:t})=>(0,J.jsxs)(w.Z,{mr:"8px",position:"relative",display:"flex",justifyContent:"center",children:[(0,J.jsx)(Me.Z,{size:120,thickness:7,variant:"determinate",value:e,sx:{color:"primary.600",animationDuration:"550ms",position:"absolute",zIndex:1}}),(0,J.jsx)(Me.Z,{size:120,thickness:7,variant:"determinate",sx:{color:"ds.gray_100"},value:100}),(0,J.jsxs)(w.Z,{position:"absolute",sx:{top:"30%",left:"50%",transform:"translate(-50%)",textAlign:"center"},children:[(0,J.jsxs)(C.Z,{component:"div",variant:"h4",color:"grayscale.900",children:[e,"%"]}),(0,J.jsxs)(C.Z,{component:"div",variant:"caption1",fontSize:"12px",color:"grayscale.600",children:[t," days"]})]})]}),De=(0,v.injectIntl)((0,g.observer)((function({epochProgress:e,intl:t}){const o=f()(e.endEpochDateTime).diff(f()(),"days");return(0,J.jsxs)(Ae,{sx:{border:"1px solid",borderColor:"grayscale.200",bgcolor:"ds.bg_color_max"},children:[(0,J.jsx)(w.Z,{sx:{padding:"15px 24px",borderBottom:"1px solid",borderColor:"grayscale.200"},children:(0,J.jsx)(C.Z,{component:"div",variant:"h5",color:"ds.text_gray_medium",fontWeight:500,children:t.formatMessage(E.default.epochProgress)})}),(0,J.jsx)(w.Z,{sx:{padding:"24px"},children:(0,J.jsx)(Fe,{percentage:e.percentage,days:o,currentEpoch:e.currentEpoch,startEpochDate:e.startEpochDate,endEpochDate:e.endEpochDate})})]})}))),Ae=(0,b.Z)(w.Z)({borderRadius:"8px",flex:"1 1 100%",display:"flex",flexDirection:"column"});var Pe=o(36094),Re=o(71653),Le=o(93379),We=o.n(Le),ze=o(8422);We()(ze.Z,{insert:"head",singleton:!1});const Oe=ze.Z.locals||{};var Ne,Ue,Ge=o(69051),He=o(62817),qe=o(52065);const $e=(0,v.defineMessages)({overviewContent:{id:"wallet.staking.overviewContent",defaultMessage:"!!!Your rewards are automatically staked. You don’t need to withdraw it everytime because you pay a transaction fee."},availableTotalRewards:{id:"wallet.staking.availableTotalRewards",defaultMessage:"!!!Available Total Rewards"},availableTotalRewardsHelper:{id:"wallet.staking.availableTotalRewardsHelper",defaultMessage:"!!!If the Reward amount is different than expected, see possible reasons of that on our {faqLink}."},FAQPage:{id:"wallet.staking.FAQPage",defaultMessage:"!!!FAQ page"}});let Ye=(0,g.observer)((Ue=class extends x.Component{constructor(...e){super(...e),u()(this,"formatTokenEntry",(e=>{const t=this.props.getTokenInfo(e),o=e.amount.shiftedBy(-t.Metadata.numberOfDecimals).toFormat(t.Metadata.numberOfDecimals).split("."),r=this.props.shouldHideBalance?He.G:(0,J.jsxs)(J.Fragment,{children:[o[0],(0,J.jsxs)("span",{children:[".",o[1]," "]})]});return(0,J.jsxs)(J.Fragment,{children:[(0,J.jsxs)("span",{children:[r," "]}),(0,ye.truncateToken)((0,qe.getTokenName)(t))]})})),u()(this,"renderAmount",(e=>null==e?(0,J.jsx)("div",{className:Oe.loadingSpinner,children:(0,J.jsx)(Ge.default,{small:!0})}):this.formatTokenEntry(e.getDefaultEntry()))),u()(this,"renderAmountWithUnitOfAccount",(e=>{if(null==e)return null;const t=this.props.unitOfAccount(e.getDefaultEntry());return t?this.props.shouldHideBalance?`${He.G}  ${t.currency}`:`${t.amount} ${t.currency}`:null}))}render(){const{intl:e}=this.context,{withdrawRewards:t,onClose:o,totalRewards:r}=this.props,a=[{label:e.formatMessage(E.default.backButtonLabel),onClick:()=>o(),disabled:!1},{label:e.formatMessage(E.default.withdrawLabel),primary:!0,onClick:()=>null==t?void 0:t(),disabled:null==t}],s=(0,J.jsx)(U.Z,{href:"https://emurgohelpdesk.zendesk.com",target:"_blank",rel:"noreferrer noopener",sx:{color:"inherit",textDecoration:"underline"},children:e.formatMessage($e.FAQPage)});return(0,J.jsxs)(Pe.ZP,{title:this.context.intl.formatMessage(E.default.overview),dialogActions:a,closeOnOverlayClick:!1,closeButton:(0,J.jsx)(Re.Z,{onClose:o}),onClose:o,children:[(0,J.jsx)(C.Z,{component:"div",color:"var(--yoroi-palette-gray-900)",children:e.formatMessage($e.overviewContent)}),(0,J.jsxs)(w.Z,{display:"flex",alignItems:"center",py:"50px",children:[(0,J.jsxs)(w.Z,{display:"flex",alignItems:"center",flex:"1",children:[(0,J.jsx)(C.Z,{component:"div",mr:"6px",children:e.formatMessage($e.availableTotalRewards)}),(0,J.jsx)(te,{message:(0,J.jsx)(v.FormattedMessage,{...$e.availableTotalRewardsHelper,values:{faqLink:s}})})]}),(0,J.jsxs)(w.Z,{flex:"1",children:[(0,J.jsx)(C.Z,{component:"div",variant:"h1",fontWeight:"400",color:"var(--yoroi-palette-gray-900)",children:this.renderAmount(r)}),(0,J.jsx)(C.Z,{component:"div",variant:"body1",color:"var(--yoroi-palette-gray-900)",children:this.renderAmountWithUnitOfAccount(r)})]})]})]})}},u()(Ue,"contextTypes",{intl:v.intlShape.isRequired}),Ne=Ue))||Ne;var Ve=o(26295),Ke=o.n(Ve),Qe=o(2991),Je=o.n(Qe),Xe=o(20116),et=o.n(Xe),tt=o(99716),ot=o(91356),rt=o(82164),at=o(86532),st=o(61250),nt=o(63083);const lt=()=>(0,J.jsx)("svg",{width:"14",height:"8",viewBox:"0 0 14 8",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,J.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M0.292893 0.292893C0.683417 -0.0976311 1.31658 -0.0976311 1.70711 0.292893L7 5.58579L12.2929 0.292893C12.6834 -0.0976311 13.3166 -0.0976311 13.7071 0.292893C14.0976 0.683417 14.0976 1.31658 13.7071 1.70711L7.70711 7.70711C7.31658 8.09763 6.68342 8.09763 6.29289 7.70711L0.292893 1.70711C-0.0976311 1.31658 -0.0976311 0.683417 0.292893 0.292893Z",fill:"#6B7384"})}),it=(0,b.Z)((e=>(0,J.jsx)(at.Z,{TransitionProps:{timeout:{exit:500}},disableGutters:!0,elevation:0,square:!0,...e})))((({theme:e})=>({backgroundColor:e.palette.ds.bg_color_max,borderBottom:e.palette.ds.bg_color_max,"&:not(:last-child)":{borderBottom:0},"&:before":{display:"none"},paddingBottom:"16px",marginBottom:"16px"}))),dt=(0,b.Z)((e=>(0,J.jsx)(st.Z,{expandIcon:(0,J.jsx)(lt,{}),...e})))((()=>({padding:0,alignItems:"flex-start",".MuiAccordionSummary-expandIconWrapper":{width:"24px",height:"24px",display:"flex",alignItems:"center",justifyContent:"center"},".MuiAccordionSummary-content":{margin:0},"& .MuiAccordionSummary-expandIconWrapper.Mui-expanded":{transform:"rotate(180deg)"},"& .MuiCollapse-vertical":{transitionDuration:"0.5s"}}))),pt=(0,b.Z)(nt.Z)((()=>({marginTop:"24px",padding:0}))),ct=({poolId:e,poolName:t,poolAvatar:o,historyList:r})=>{const a=ie(e||t);return(0,J.jsxs)(it,{children:[(0,J.jsx)(dt,{"aria-controls":e+"-content",id:e||t+"-header",children:(0,J.jsxs)(w.Z,{children:[(0,J.jsx)(w.Z,{display:"block",children:(0,J.jsx)(C.Z,{component:"div",color:"ds.text_gray_low",children:"Stake Pool"})}),(0,J.jsxs)(w.Z,{display:"flex",children:[(0,J.jsx)(ht,{children:(0,J.jsx)(ut,{src:null!=o?o:a,alt:"stake pool logo"})}),(0,J.jsx)(C.Z,{component:"div",children:t})]})]})}),(0,J.jsx)(pt,{children:(0,J.jsx)(k.Z,{spacing:"22px",children:Je()(r).call(r,(({type:e,date:t,balance:o},r)=>(0,J.jsxs)(w.Z,{display:"flex",justifyContent:"space-between",alignItems:"center",children:[(0,J.jsxs)(w.Z,{children:[(0,J.jsx)(C.Z,{component:"div",mb:"2px",color:"ds.text_gray_low",children:e}),(0,J.jsx)(C.Z,{component:"div",variant:"body2",color:"ds.text_gray_low",children:t})]}),(0,J.jsxs)(C.Z,{component:"div",fontWeight:500,variant:"body2",color:"ds.text_gray_medium",children:["+ ",o]})]},r)))})})]})};(0,v.injectIntl)((function({graphData:e,onOpenRewardList:t,intl:o}){var r;const a=e.items,s=(0,x.useMemo)((()=>de(a)),[]);return(0,J.jsxs)(w.Z,{children:[(0,J.jsx)(C.Z,{as:"button",variant:"body2",color:"var(--yoroi-palette-gray-600)",display:"block",marginLeft:"auto",onClick:t,children:o.formatMessage(E.default.openRewardHistory)}),e.error&&(0,J.jsxs)("div",{children:[(0,J.jsx)("center",{children:(0,J.jsx)(tt.r,{})}),(0,J.jsx)(ot.Z,{error:e.error})]}),null==a?(0,J.jsx)(rt.Z,{children:(0,J.jsx)(Ge.default,{})}):Je()(r=Ke()(null!=s?s:{})).call(r,(([e,t])=>(0,J.jsx)(ct,{poolId:t.poolId,poolName:e,poolAvatar:t.poolAvatar,historyList:Je()(t).call(t,(e=>({type:"Received",date:e.date,balance:e.primary})))},e)))]})}));const ht=(0,b.Z)(w.Z)({width:"24px",height:"24px",minWidth:"24px",marginRight:"12px",borderRadius:"20px",overflow:"hidden"}),ut=(0,b.Z)("img")({width:"100%",background:"white",objectFit:"scale-down"});o(63139);const gt=(0,v.defineMessages)({epoch:{id:"wallet.staking.rewards.rewardHistory.epochNum",defaultMessage:"!!!Epoch {number}"}}),mt=(0,v.injectIntl)((0,g.observer)((function({graphData:e,onClose:t,intl:o}){var r,a,s;const n=e.rewardsGraphData.items,l=null!==(r=null==n?void 0:et()(a=n.perEpochRewards).call(a,(e=>Boolean(e.primary))))&&void 0!==r?r:[],i=(0,x.useMemo)((()=>de(l)),[]),{palette:d}=(0,j.Z)();return(0,J.jsx)(Pe.ZP,{title:o.formatMessage(E.default.rewardHistory),closeOnOverlayClick:!1,closeButton:(0,J.jsx)(Re.Z,{onClose:t}),onClose:t,styleContentOverride:{background:d.ds.bg_color_max},children:(0,J.jsxs)(pe.Z,{maxWidth:"600px",children:[(0,J.jsxs)(C.Z,{component:"div",mb:"24px",variant:"body1",fontWeight:500,color:"ds.text_gray_medium",children:[o.formatMessage(E.default.rewardsListLabel)," (",l.length,")"]}),(0,J.jsxs)(pe.Z,{children:[e.rewardsGraphData.error&&!e.rewardsGraphData.items&&(0,J.jsxs)("div",{children:[(0,J.jsx)("center",{children:(0,J.jsx)(tt.r,{})}),(0,J.jsx)(ot.Z,{error:e.rewardsGraphData.error})]}),null==l?(0,J.jsx)(rt.Z,{children:(0,J.jsx)(Ge.default,{})}):Je()(s=Ke()(null!=i?i:{})).call(s,(([e,t])=>(0,J.jsx)(ct,{poolId:t.poolId,poolName:e||"-",poolAvatar:t.poolAvatar,historyList:Je()(t).call(t,(e=>({type:o.formatMessage(gt.epoch,{number:e.name}),date:e.date,balance:e.primary,currency:e.currency})))},e)))]})]})})})));var ft,xt,vt,_t,wt;function bt(){return bt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var r in o)Object.prototype.hasOwnProperty.call(o,r)&&(e[r]=o[r])}return e},bt.apply(this,arguments)}function yt(e){return x.createElement("svg",bt({width:40,height:40,viewBox:"0 0 40 40",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),ft||(ft=x.createElement("rect",{width:40,height:40,rx:20,fill:"#E4E8F7"})),xt||(xt=x.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M27 17a7 7 0 10-14 0 7 7 0 0014 0zm-12 0a5 5 0 1110 0 5 5 0 01-10 0z",fill:"#3154CB"})),vt||(vt=x.createElement("path",{d:"M13.832 23.555a1 1 0 00-1.664-1.11l-1.992 2.99a.996.996 0 00-.063 1.026.993.993 0 00.574.489.996.996 0 00.328.05h2.867l1.216 2.433a.993.993 0 00.846.566 1.002 1.002 0 00.897-.457l1.991-2.987a1 1 0 00-1.664-1.11l-1.044 1.567-.719-1.438a1.004 1.004 0 00-.926-.574h-1.61l.963-1.445zM26.445 22.168a1 1 0 00-.277 1.387L27.132 25h-1.61a1.004 1.004 0 00-.925.571l-.72 1.44-1.045-1.566a1 1 0 00-1.664 1.11l1.99 2.986a.997.997 0 001.304.346.996.996 0 00.44-.454L26.118 27h2.867a.996.996 0 00.903-.539.995.995 0 00-.063-1.027l-1.993-2.989a1 1 0 00-1.387-.277z",fill:"#3154CB"})))}function jt(){return jt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var r in o)Object.prototype.hasOwnProperty.call(o,r)&&(e[r]=o[r])}return e},jt.apply(this,arguments)}function kt(e){return x.createElement("svg",jt({width:40,height:40,viewBox:"0 0 40 40",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),_t||(_t=x.createElement("rect",{width:40,height:40,rx:20,fill:"#E4F7F3"})),wt||(wt=x.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M17 11a7 7 0 00-2.25 13.63c.8.907 1.83 1.604 3 2a7 7 0 107.5-11.261 7.008 7.008 0 00-3-2A6.983 6.983 0 0017 11zm4.372 4.19a5 5 0 00-5.283 7.924 7.003 7.003 0 015.283-7.924zM13 20c0 .38.03.752.088 1.114a5 5 0 015.283-7.924A7.003 7.003 0 0013 20zm15 2a5 5 0 11-10 0 5 5 0 0110 0z",fill:"#0CDDB3"})))}o.p,o.p;var Ct=o(41511),Et=o.n(Ct),St=o(3649),Zt=o.n(St),Mt=o(29009),Ft=o(94831),Bt=o(3023),It=o(75358),Tt=o(21738),Dt=o(53237);const At="14px",Pt=e=>{const{hideYAxis:t,data:o,xAxisLabel:r,yAxisLabel:a,primaryBarLabel:s,epochTitle:n,stakepoolNameTitle:l}=e,i=(0,j.Z)(),d=({active:e,payload:t,label:o})=>{if(e&&null!=t&&0!==t.length){var r;const{poolName:e}=t[0].payload,a=[[n,o],[s,t[0].value],e?[l,e]:[]];return(0,J.jsx)(pe.Z,{sx:{padding:"8px 12px 8px 8px",bgcolor:i.palette.ds.gray_900,color:"ds.bg_color_max",lineHeight:"14px",borderRadius:"4px"},children:Je()(r=et()(a).call(a,(e=>null!==e&&e.length>0))).call(r,(([e,t],o)=>(0,J.jsxs)(k.Z,{direction:"row",mb:"2px",children:[(0,J.jsxs)(C.Z,{component:"div",width:2===o?"100px":"content",mr:"3px",variant:"caption1",children:[e,":"]}),(0,J.jsx)(C.Z,{component:"div",sx:{wordWrap:"break-word",maxWidth:"300px"},variant:"caption1",fontWeight:"bold",children:t})]})))})}return null},p=(0,J.jsx)(d,{});return(0,J.jsx)(Mt.h,{width:"100%",height:210,children:(0,J.jsxs)(Ft.v,{data:Zt()(o).call(o,-10),height:200,margin:{top:0,right:0,left:56,bottom:0},children:[(0,J.jsx)(Bt.K,{tick:{fill:i.palette.ds.text_gray_low,fontSize:At,lineHeight:16},dataKey:"name",height:50,label:{value:r,position:"insideBottom",fontSize:"12px",fill:i.palette.ds.text_gray_low,offset:10},padding:{left:24,right:24},stroke:i.palette.ds.gray_200,tickLine:!1}),(0,J.jsx)(It.B,{tickFormatter:e=>t?"∗∗∗ ":e,padding:{top:12},tick:{fill:i.palette.ds.text_gray_low,fontSize:At,lineHeight:16},stroke:i.palette.ds.gray_200,tickLine:!1,label:{value:a,position:"insideLeft",offset:15,dy:50,angle:-90,fill:i.palette.ds.text_gray_low,textAnchor:"middle",fontSize:"12px",fontWeight:400}}),(0,J.jsx)(Tt.u,{content:p,cursor:!1}),(0,J.jsx)(Dt.$,{name:s,maxBarSize:10,radius:[4,4,0,0],dataKey:"primary",stackId:"a",fill:i.palette.ds.el_primary_medium})]})})},Rt=((0,b.Z)((e=>(0,J.jsx)(at.Z,{TransitionProps:{timeout:{exit:500}},disableGutters:!0,elevation:0,square:!0,...e})))((()=>({borderBottom:"1px solid var(--yoroi-palette-gray-50)","&:not(:last-child)":{borderBottom:0},"&:before":{display:"none"},paddingBottom:"16px",marginBottom:"16px"}))),(0,b.Z)(nt.Z)((()=>({marginTop:"24px",padding:0}))),(0,b.Z)("img")({width:"100%",background:"white",objectFit:"scale-down"}),(0,b.Z)(w.Z)({width:"24px",height:"24px",minWidth:"24px",marginRight:"12px",borderRadius:"20px",overflow:"hidden"}),()=>(0,J.jsx)("svg",{width:"14",height:"8",viewBox:"0 0 14 8",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,J.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M0.292893 0.292893C0.683417 -0.0976311 1.31658 -0.0976311 1.70711 0.292893L7 5.58579L12.2929 0.292893C12.6834 -0.0976311 13.3166 -0.0976311 13.7071 0.292893C14.0976 0.683417 14.0976 1.31658 13.7071 1.70711L7.70711 7.70711C7.31658 8.09763 6.68342 8.09763 6.29289 7.70711L0.292893 1.70711C-0.0976311 1.31658 -0.0976311 0.683417 0.292893 0.292893Z",fill:"#6B7384"})}));(0,b.Z)((e=>(0,J.jsx)(st.Z,{expandIcon:(0,J.jsx)(Rt,{}),...e})))((()=>({padding:0,".MuiAccordionSummary-content":{margin:0},"& .MuiAccordionSummary-expandIconWrapper.Mui-expanded":{transform:"rotate(180deg)"},"& .MuiCollapse-vertical":{transitionDuration:"0.5s"}})));const Lt=(0,v.injectIntl)((function({graphData:e,onOpenRewardList:t,intl:o}){var r;const{rewardsGraphData:a}=e,s=null===(r=a.items)||void 0===r?void 0:r.perEpochRewards,n=o.formatMessage(E.default.rewardHistory);return(0,J.jsxs)(w.Z,{p:"24px",sx:{display:"flex",flexFlow:"column",justifyContent:"space-between"},children:[(0,J.jsxs)(w.Z,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",width:"100%"},children:[(0,J.jsx)(C.Z,{component:"div",variant:"body1",fontWeight:500,color:"ds.text_gray_medium",children:n}),(0,J.jsx)(ce.Z,{variant:"tertiary",color:"primary",size:"medium",onClick:t,sx:{lineHeight:"21px"},children:n})]}),a.error&&!a.items&&(0,J.jsxs)("div",{children:[(0,J.jsx)("center",{children:(0,J.jsx)(tt.r,{})}),(0,J.jsx)(ot.Z,{error:a.error})]}),Et()(s)?(0,J.jsx)(w.Z,{ml:"-50px",children:(0,J.jsx)(Pt,{epochTitle:o.formatMessage(E.default.epochLabel),stakepoolNameTitle:o.formatMessage(E.default.stakepoolNameLabel),xAxisLabel:o.formatMessage(E.default.epochs),yAxisLabel:o.formatMessage(E.default.rewardValue),primaryBarLabel:o.formatMessage(E.default.rewardsLabel),data:s,hideYAxis:a.hideYAxis})}):(0,J.jsx)(rt.Z,{children:(0,J.jsx)(Ge.default,{})})]})}));var Wt=o(90649),zt=o(5227);const Ot=(0,v.defineMessages)({title:{id:"governance.participateDialog.title",defaultMessage:"!!!Withdraw warning"},contentInfo:{id:"governance.participateDialog.contentInfo",defaultMessage:"!!!To withdraw your rewards, you need to participate in the Cardano Governance. Your rewards will continue to accumulate, but you are only able to withdraw it once you join the Governance process."},buttonText:{id:"governance.participateDialog.buttonText",defaultMessage:"!!!Participate on governance"}}),Nt=({onClose:e,stores:t,intl:o})=>(0,J.jsxs)(Pe.ZP,{onClose:e,title:o.formatMessage(Ot.title),styleOverride:{width:"648px",height:"240px",padding:0},styleContentOverride:{padding:0},closeOnOverlayClick:!0,closeButton:(0,J.jsx)(Re.Z,{}),children:[(0,J.jsx)(C.Z,{variant:"body1",mb:2,mx:"24px",color:"ds.text_gray_medium",children:o.formatMessage(Ot.contentInfo)}),(0,J.jsx)(Ut,{variant:"contained",color:"primary",width:"100%",onClick:()=>{e(),t.app.goToRoute({route:zt.ROUTES.Governance.ROOT})},sx:{marginTop:"12px"},children:o.formatMessage(Ot.buttonText)})]}),Ut=(0,V.ZP)(ce.Z)((({_theme:e,_color:t})=>({width:"100%",fontSize:"16px",marginLeft:"24px",marginRight:"24px",maxWidth:"600px"})));var Gt=o(6951);const Ht=(0,g.observer)((({label:e,govStatusFetched:t,stores:o,isDisabled:r})=>{var a;const{openTxReviewModal:s,walletType:n,isHardwareWallet:l,stopLoadingTxReview:i,startLoadingTxReview:d,showTxResultModal:p}=(0,ge.useTxReviewModal)(),c=null!==(null===(a=o.delegation.governanceStatus)||void 0===a?void 0:a.drepDelegation),h=o.wallets.selected,u=o.delegation.isStakeRegistered(h.publicDeriverId),g=async e=>{const t=o.wallets.selected,r=o.substores.ada.delegationTransaction.createWithdrawalTx.result;if(null!=r)try{d(),l?("trezor"===n&&await o.substores.ada.trezorSend.sendUsingTrezor({params:{signRequest:r},wallet:t,onFail:()=>{p(ue.TransactionResult.FAIL)}}),"ledger"===n&&await o.substores.ada.ledgerSend.sendUsingLedgerWallet({params:{signRequest:r},wallet:t,onFail:()=>{p(ue.TransactionResult.FAIL)}})):await o.substores.ada.mnemonicSend.sendMoney({signRequest:r,password:e,wallet:t}),i(),p(ue.TransactionResult.SUCCESS)}catch(e){i(),p(ue.TransactionResult.FAIL)}};return(0,J.jsx)(ce.Z,{variant:"primary",sx:{"&.MuiButton-sizeMedium":{height:"unset",p:"9px 20px"}},onClick:u&&t?async()=>{if(c)return Gt.ampli.claimAdaPageViewed(),(async()=>{const e=o.wallets.selectedOrFail;o.substores.ada.delegationTransaction.setShouldDeregister(!1);const t=await o.substores.ada.delegationTransaction.createWithdrawalTxForWallet({wallet:e});s({modalView:"transactionReview",submitTx:e=>g(e),operations:{components:[{component:(0,J.jsx)(qt,{}),duplicated:!1}],kind:"withdraw"},unsignedTx:t.unsignedTx})})();o.uiDialogs.open({dialog:Nt})}:void 0,disabled:r,children:e})})),qt=()=>(0,J.jsx)(k.Z,{direction:"column",spacing:2,children:(0,J.jsxs)(k.Z,{direction:"row",justifyContent:"space-between",children:[(0,J.jsx)(C.Z,{color:"ds.text_gray_low",children:"Staking"}),(0,J.jsx)(C.Z,{color:"ds.text_gray_medium",children:"Rewards withdrawal"})]})}),$t=(0,b.Z)(w.Z)((({theme:e})=>({"& svg":{"& rect":{fill:e.palette.ds.primary_100},"& path":{fill:e.palette.ds.primary_600}}}))),Yt=(0,b.Z)(w.Z)((({theme:e})=>({"& svg":{"& rect":{fill:e.palette.ds.secondary_100},"& path":{fill:e.palette.ds.secondary_600}}}))),Vt=(0,v.defineMessages)({summary:{id:"wallet.staking.summary",defaultMessage:"!!!Rewards Summary"},dialogSummaryDescription:{id:"wallet.staking.dialogSummaryDescription",defaultMessage:"!!!Your rewards are automatically staked. You don’t need to withdraw it everytime because you pay a transaction fee."}}),Kt=(0,v.injectIntl)((0,g.observer)((function({totalRewards:e,totalDelegated:t,getTokenInfo:o,onOverviewClick:r,shouldHideBalance:a,onOpenRewardList:s,unitOfAccount:n,graphData:l,intl:i,govStatusFetched:d,stores:p}){const c=e=>(0,Wt.maybe)(e,(e=>(e=>{const t=o(e),r=e.amount.shiftedBy(-t.Metadata.numberOfDecimals).toFormat(t.Metadata.numberOfDecimals).split("."),s=a?(0,J.jsx)(J.Fragment,{children:He.G}):(0,J.jsxs)(J.Fragment,{children:[r[0],(0,J.jsxs)("span",{children:[".",r[1]," "]})]});return(0,J.jsxs)(J.Fragment,{children:[(0,J.jsxs)("span",{children:[s," "]}),(0,ye.truncateToken)((0,qe.getTokenName)(t))]})})(e.getDefaultEntry()))),h=e=>{const t=(0,Wt.maybe)(e,(e=>n(e.getDefaultEntry())));return(0,Wt.maybe)(t,(e=>`${a?He.G:e.amount} ${e.currency}`))};return(0,J.jsxs)(Qt,{sx:{border:"1px solid",borderColor:"grayscale.200",bgcolor:"ds.bg_color_max"},children:[(0,J.jsxs)(w.Z,{sx:{padding:"15px 24px",borderBottom:"1px solid",borderColor:"grayscale.200",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,J.jsx)(C.Z,{component:"div",variant:"h5",color:"ds.text_gray_medium",fontWeight:500,children:i.formatMessage(Vt.summary)}),(0,J.jsx)(Ht,{label:i.formatMessage(E.default.withdrawLabel),govStatusFetched:d,stores:p,intl:i,isDisabled:(u=e,null!==(g=(0,Wt.maybe)(u,(e=>{var t,o,r;return null===(t=e.getDefaultEntry())||void 0===t||null===(o=t.amount)||void 0===o||null===(r=o.isZero)||void 0===r?void 0:r.call(o)})))&&void 0!==g&&g)})]}),(0,J.jsxs)(w.Z,{sx:{display:"flex"},children:[(0,J.jsxs)(Jt,{sx:{borderColor:"grayscale.200"},children:[(0,J.jsx)($t,{children:(0,J.jsx)(yt,{})}),(0,J.jsx)(Xt,{children:(0,J.jsx)(C.Z,{component:"div",variant:"caption1",color:"grayscale.600",sx:{textTransform:"uppercase"},children:i.formatMessage(E.default.totalRewardsLabel)})}),(0,J.jsxs)(Xt,{children:[(0,J.jsx)(C.Z,{component:"div",variant:"h2",color:"ds.text_gray_medium",fontWeight:500,children:c(e)}),(0,J.jsx)(C.Z,{component:"div",variant:"body1",color:"grayscale.600",fontWeight:500,children:h(e)})]})]}),(0,J.jsxs)(Jt,{sx:{borderColor:"grayscale.200"},children:[(0,J.jsx)(Yt,{children:(0,J.jsx)(kt,{})}),(0,J.jsx)(Xt,{children:(0,J.jsx)(C.Z,{component:"div",variant:"caption1",color:"grayscale.600",marginBottom:"4px",sx:{textTransform:"uppercase"},children:i.formatMessage(E.default.totalDelegated)})}),(0,J.jsxs)(Xt,{children:[t?(0,J.jsx)(C.Z,{component:"div",variant:"h2",fontWeight:"500",color:"ds.text_gray_medium",children:c(t)}):(0,J.jsx)("div",{className:Oe.loadingSpinner,children:(0,J.jsx)(Ge.default,{small:!0})}),(0,J.jsx)(C.Z,{component:"div",variant:"body1",color:"grayscale.600",fontWeight:500,children:h(t)})]})]})]}),(0,J.jsx)(Lt,{onOpenRewardList:s,graphData:l})]});var u,g}))),Qt=(0,b.Z)(w.Z)({borderRadius:"8px",flex:"1 1 48.5%",maxWidth:"48.5%"}),Jt=(0,b.Z)(w.Z)({width:"100%",padding:24,margin:"0",display:"flex",flexFlow:"column",borderStyle:"solid",borderBottomWidth:"1px",gap:8,"&:not(:first-child)":{borderLeftWidth:"1px"}}),Xt=(0,b.Z)(w.Z)({});(0,b.Z)(ce.Z)({marginLeft:"auto",minWidth:"auto",width:"auto"});var eo=o(59340),to=o.n(eo),oo=o(84174);const ro=e=>{const t={defaultNetworkId:e.networkId,defaultIdentifier:e.defaultTokenId},o=(0,oo.getNetworkById)(e.networkId),r=e.delegationRequests.rewardHistory.result;if(null==r)return null;let a=0;const s=[],n=[];let l=new _.a([],t);const i=(0,oo.isCardanoHaskell)(o)?(0,oo.getCardanoHaskellBaseConfig)(o)[1].StartAt:0,d=(()=>{if((0,oo.isCardanoHaskell)(o))return e.currentEpoch-1;throw new Error("generateRewardGraphData can't compute endEpoch for rewards")})(),p=t=>{const o=e.getLocalPoolInfo(e.networkId,t);return null==o||null==o.info||null==o.info.ticker||null==o.info.name?t:`[${o.info.ticker}] ${o.info.name}`},c=t=>{var o;const r=null===(o=e.tokenInfo.get(t.networkId.toString()))||void 0===o?void 0:o.get(t.identifier);if(null==r)throw new Error(`generateRewardGraphData no token info for ${to()(t)}`);return t.amount.shiftedBy(-r.Metadata.numberOfDecimals)};for(let e=i;e<d;e++)if(a<r.length&&e===r[a][0]){const t=r[a][2],o=r[a][1];l=l.joinAddMutable(o),s.push({name:e,primary:c(l.getDefaultEntry()).toNumber(),poolName:p(t)}),n.push({name:e,primary:c(o.getDefaultEntry()).toNumber(),poolName:p(t)}),a++}else s.push({name:e,primary:c(l.getDefaultEntry()).toNumber(),poolName:""}),n.push({name:e,primary:0,poolName:""});return{totalRewards:s,perEpochRewards:n}},ao=e=>({rewardsGraphData:{error:e.delegationRequests.rewardHistory.error,items:ro({delegationRequests:e.delegationRequests,currentEpoch:e.currentEpoch,networkId:e.networkId,defaultTokenId:e.defaultTokenId,getLocalPoolInfo:e.getLocalPoolInfo,tokenInfo:e.tokenInfo}),hideYAxis:e.shouldHideBalance}});var so=o(16544),no=o(30597),lo=o(81783),io=o(5838),po=o.n(io),co=o(89749),ho=o.n(co),uo=(o(18293),o(22188)),go=o(54103),mo=o.n(go),fo=o(94535),xo=o(52298),vo=o(11634),_o=o.n(vo),wo=o(82764),bo=o(48415);We()(bo.Z,{insert:"head",singleton:!1});const yo=bo.Z.locals||{};var jo=o(93838),ko=o(27715),Co=o(69875),Eo=o(70122);const So=(0,g.observer)((({stores:e,label:t,disabled:o,poolName:r,poolID:a})=>{const{openTxReviewModal:s,startLoadingTxReview:n,stakeKeyDeposit:l,primaryTokenInfo:i,showTxResultModal:d,networkId:p}=(0,ge.useTxReviewModal)(),c=0!==p,h=(0,le.KT)(a,36,{padding:0}),u=`data:image/svg+xml;utf8,${encodeURIComponent(h)}`;return(0,J.jsx)(ce.Z,{variant:"primary",sx:{"&.MuiButton-sizeMedium":{padding:"9px 20px"}},onClick:async()=>{const t=c?null!=a?a:"7facad662e180ce45e5c504957cd1341940c72a708728f7ecfc6e349":a,{signTxRequest:o}=await e.delegation.createDelegationTransaction(t);s({modalView:"transactionReview",submitTx:t=>(async t=>{const o=e.wallets.selected;try{n(),await e.substores.ada.delegationTransaction.signTransaction({password:t,wallet:o,dialog:null}),d(ue.TransactionResult.SUCCESS)}catch(e){console.warn("Delegation error",e),d(ue.TransactionResult.FAIL)}})(t),operations:{components:[{component:(0,J.jsx)(Zo,{avatarGenerated:u,poolName:r,stakeKeyDeposit:`${new he.Z(l).shiftedBy(-i.decimals)} ${i.name}`}),duplicated:!1}],kind:"delegate"},unsignedTx:o.unsignedTx})},disabled:o,children:t})})),Zo=({avatarGenerated:e,poolName:t,stakeKeyDeposit:o})=>{const r=(0,Eo.useStrings)();return(0,J.jsxs)(k.Z,{direction:"column",spacing:2,children:[(0,J.jsxs)(k.Z,{direction:"row",justifyContent:"space-between",children:[(0,J.jsx)(C.Z,{color:"ds.text_gray_low",children:r.registerStakingKey}),(0,J.jsx)(C.Z,{color:"ds.text_gray_medium",children:o})]}),(0,J.jsxs)(k.Z,{direction:"row",justifyContent:"space-between",children:[(0,J.jsx)(C.Z,{color:"ds.text_gray_low",children:r.stakeWalletBalance}),(0,J.jsxs)(k.Z,{direction:"row",spacing:1,alignItems:"center",children:[(0,J.jsx)(pe.Z,{sx:{width:"24px",height:"24px",borderRadius:"50%",display:"inline-block"},component:"img",src:e}),(0,J.jsx)(C.Z,{color:"ds.text_gray_medium",children:t})]})]})]})};var Mo,Fo;const Bo=(0,v.defineMessages)({invalidPoolId:{id:"wallet.delegate.form.invalidPoolId",defaultMessage:"!!!Invalid pool ID. Please retype."}});let Io=(0,g.observer)((Fo=class extends x.Component{constructor(...e){super(...e),u()(this,"form",new xo.Z({fields:{poolId:{label:this.context.intl.formatMessage(E.default.stakePoolHash),placeholder:"",value:"",validators:[({field:e})=>{const t=e.value;if(""===t)return this.props.updatePool(void 0),[!1,this.context.intl.formatMessage(E.default.fieldIsRequired)];const o=function(e,t){const o=e=>56===e.length&&(0,Co.isHex)(e);try{const r=(0,Wt.bytesToHex)(ko.bech32.fromWords(ko.bech32.decode(e,1e3).words));if(o(r))return t(r),!0}catch(r){if(o(e))return t(e),!0}return t(void 0),!1}(t,this.props.updatePool);return null!=this.props.poolQueryError?[!1]:[o,this.context.intl.formatMessage(Bo.invalidPoolId)]}]}}},{options:{showErrorsOnInit:!1,validateOnBlur:!1,validateOnChange:!0,validationDebounceWait:0},plugins:{vjf:_o()()}}))}render(){var e;const{form:t}=this,{intl:o}=this.context,r=t.$("poolId"),a=(0,J.jsx)("div",{className:yo.warningBox,children:(0,J.jsx)(jo.Z,{children:o.formatMessage(E.default.pendingTxWarning)})}),s=null==this.props.poolQueryError?this.props.poolQueryError:o.formatMessage(this.props.poolQueryError);return(0,J.jsxs)(pe.Z,{className:yo.component,children:[this.props.hasAnyPending&&a,(0,J.jsx)(C.Z,{component:"div",variant:"h5",color:"ds.text_gray_medium",fontWeight:500,children:o.formatMessage(E.default.delegationById)}),(0,J.jsxs)(wo.Z,{children:[(0,J.jsx)("div",{className:yo.poolInput,children:(0,J.jsx)(fo.Z,{className:"poolId",...mo()(r).call(r),error:r.error||s,done:r.isValid})}),(0,J.jsx)(To,{intl:o,btnDisabled:this.props.hasAnyPending||this.props.isProcessing||null!=this.props.poolQueryError||null!=r.error||0===(null===(e=r.value)||void 0===e?void 0:e.length),hasAnyPending:this.props.hasAnyPending,isProcessing:this.props.isProcessing,poolQueryError:this.props.poolQueryError,selectedPoolId:this.props.selectedPoolId,poolName:this.props.poolName,stores:this.props.stores})]})]})}},u()(Fo,"contextTypes",{intl:v.intlShape.isRequired}),Mo=Fo))||Mo;const To=(0,g.observer)((({intl:e,btnDisabled:t,selectedPoolId:o,poolName:r,stores:a})=>(0,J.jsx)(k.Z,{alignItems:"center",justifyContent:"center",children:(0,J.jsx)(So,{stores:a,label:e.formatMessage(E.default.nextButtonLabel),disabled:t,poolName:r,poolID:o})})));var Do=o(51866);We()(Do.Z,{insert:"head",singleton:!1});const Ao=Do.Z.locals||{};var Po,Ro;let Lo=(0,g.observer)((Ro=class extends x.Component{render(){const{title:e,children:t}=this.props;return(0,J.jsxs)(pe.Z,{className:Ao.wrapper,sx:{backgroundColor:"ds.bg_color_max"},children:[void 0!==e&&(0,J.jsx)("h2",{className:Ao.title,children:e}),(0,J.jsx)("div",{className:Ao.inner,children:t})]})}},u()(Ro,"defaultProps",{children:void 0,title:void 0}),Po=Ro))||Po;var Wo=o(57363),zo=o(79846),Oo=o(64245),No=o(61622);We()(No.Z,{insert:"head",singleton:!1});const Uo=No.Z.locals||{};var Go,Ho;o(36572);const qo=(0,v.defineMessages)({title:{id:"wallet.dashboard.stakePool.title",defaultMessage:"!!!Stake Pool Delegated"},circleText:{id:"wallet.dashboard.stakePool.circleText",defaultMessage:"!!!Revenue"},viewWebpage:{id:"wallet.dashboard.stakePool.viewWebpage",defaultMessage:"!!!View pool webpage"},description:{id:"wallet.dashboard.stakePool.descriptionButton",defaultMessage:"!!!Description"},performance:{id:"wallet.dashboard.stakePool.performance",defaultMessage:"!!!Performance"},fullness:{id:"wallet.dashboard.stakePool.fullness",defaultMessage:"!!!Fullness"},created:{id:"wallet.dashboard.stakePool.created",defaultMessage:"!!!Created"},cost:{id:"wallet.dashboard.stakePool.cost",defaultMessage:"!!!Cost"},stake:{id:"wallet.dashboard.stakePool.stake",defaultMessage:"!!!Stake"},pledge:{id:"wallet.dashboard.stakePool.pledge",defaultMessage:"!!!Pledge"},age:{id:"wallet.dashboard.stakePool.age",defaultMessage:"!!!Age"}});let $o=(0,g.observer)((Ho=class extends x.Component{constructor(...e){super(...e),u()(this,"getMoreInfoButton",(e=>{const{intl:t}=this.context;return(0,J.jsxs)(J.Fragment,{children:[null!=e&&(0,J.jsxs)("a",{href:e.url,onClick:e.openPoolPage,children:[(0,J.jsx)("div",{className:Uo.data}),(0,J.jsx)(ce.Z,{variant:"secondary",children:t.formatMessage(qo.viewWebpage)})]}),null!=this.props.undelegate&&(0,J.jsxs)(J.Fragment,{children:[(0,J.jsx)("div",{className:Uo.data}),(0,J.jsx)(ce.Z,{variant:"secondary",onClick:this.props.undelegate,children:t.formatMessage(E.default.undelegateLabel)})]})]})}))}render(){const{intl:e}=this.context,{hash:t,poolName:o}=this.props,r=(0,le.KT)(t,36,{padding:0}),a=`data:image/svg+xml;utf8,${encodeURIComponent(r)}`,s="poolId-copyNotification";return(0,J.jsxs)(Lo,{title:"dashboard"===this.props.purpose?e.formatMessage(qo.title):void 0,children:[(0,J.jsxs)("div",{className:Uo.head,children:[(0,J.jsx)("div",{className:Uo.avatarWrapper,children:(0,J.jsx)("img",{alt:"User avatar",src:a,className:Uo.avatar})}),(0,J.jsxs)("div",{className:Uo.userInfo,children:[(0,J.jsx)("h3",{className:Uo.userTitle,children:o}),(0,J.jsx)("div",{className:Uo.subTitle,children:(0,J.jsx)(Wo.Z,{id:"stakePool",hash:t,elementId:s,onCopyAddress:()=>this.props.onCopyAddressTooltip(t,s),notification:this.props.notification,placementTooltip:"bottom-start",children:(0,J.jsx)(Oo.Z,{selectedExplorer:this.props.selectedExplorer,hash:t,light:!0,linkType:"pool",children:(0,J.jsx)(zo.Z,{light:!0,children:(0,J.jsx)("span",{className:Uo.hash,children:(0,ye.truncateStakePool)(t)})})})})})]})]}),(0,J.jsxs)("div",{className:Uo.wrapper,children:["delegation"===this.props.purpose?(0,J.jsx)("span",{className:Uo.description,children:this.props.data.description}):void 0,this.getMoreInfoButton(this.props.moreInfo)]})]})}},u()(Ho,"contextTypes",{intl:v.intlShape.isRequired}),Go=Ho))||Go;var Yo,Vo,Ko,Qo,Jo,Xo,er,tr,or,rr,ar,sr,nr,lr,ir,dr,pr,cr,hr,ur,gr,mr,fr,xr,vr,_r,wr,br,yr,jr,kr,Cr,Er,Sr=o(52974),Zr=o(39329);function Mr(){return Mr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var r in o)Object.prototype.hasOwnProperty.call(o,r)&&(e[r]=o[r])}return e},Mr.apply(this,arguments)}function Fr(e){return x.createElement("svg",Mr({width:340,height:326,viewBox:"0 0 240 216",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),Yo||(Yo=x.createElement("path",{d:"M239.997 147.98l-.088-13.265-16.088-3.258-84.512-48.942c-12.611-7.304-34.666-6.43-49.266 1.955L12.07 129.247a36.25 36.25 0 00-1.838 1.129L0 133.523v12.057c.095 4.53 2.888 8.838 8.49 12.089l92.19 53.377c12.611 7.304 34.666 6.429 49.266-1.947l77.973-44.778c8.116-4.665 12.205-10.658 12.078-16.325v-.016z",fill:"url(#staking-illustration_inline_svg__paint0_linear_227_2286)"})),Vo||(Vo=x.createElement("path",{opacity:.8,d:"M100.696 198.973l-92.19-53.385c-12.612-7.296-11.005-20.013 3.588-28.397l77.972-44.778c14.6-8.385 36.655-9.26 49.266-1.955l92.191 53.377c12.587 7.304 10.98 20.02-3.644 28.405l-77.973 44.778c-14.544 8.385-36.599 9.259-49.21 1.955z",fill:"#52FCFF"})),Ko||(Ko=x.createElement("path",{d:"M172.797 138.355V32.261L66.571 30.202v105.173c-.382 1.176.112 2.384 1.536 3.179l48.192 28.469c2.498 1.47 6.882 1.335 9.802-.302l44.278-24.924c1.742-.954 2.601-2.249 2.418-3.442z",fill:"url(#staking-illustration_inline_svg__paint1_linear_227_2286)"})),Qo||(Qo=x.createElement("path",{opacity:.8,d:"M116.307 60.356l-48.192-28.46c-2.49-1.48-2.156-3.975.795-5.644l44.254-24.924c2.912-1.645 7.304-1.78 9.794-.302l48.192 28.461c2.49 1.478 2.148 3.974-.796 5.643l-44.253 24.924c-2.912 1.645-7.304 1.78-9.794.302z",fill:"#52FCFF"})),Jo||(Jo=x.createElement("path",{d:"M107.984 127.729a6.403 6.403 0 00-2.649-5.19l-35.86-21.149a1.77 1.77 0 00-1.79-.166.996.996 0 00-.207.119l-8.92 5.301 39.114 28.731 9.023-5.381c.207-.063.397-.171.557-.317.248-.258.442-.564.568-.898.125-.335.181-.692.164-1.05z",fill:"url(#staking-illustration_inline_svg__paint2_linear_227_2286)"})),Xo||(Xo=x.createElement("path",{d:"M96.05 135.113l-35.852-21.141a6.362 6.362 0 01-2.65-5.19c0-1.979 1.297-2.861 2.809-1.971l35.852 21.149a6.358 6.358 0 012.649 5.198c-.04 1.955-1.297 2.861-2.809 1.955z",fill:"#16E3BA"})),er||(er=x.createElement("path",{d:"M107.929 111.937a6.358 6.358 0 00-2.65-5.19L69.428 85.59a1.807 1.807 0 00-1.79-.167l-.215.127-8.911 5.302 39.113 28.731 9.023-5.381c.205-.063.392-.172.549-.318a2.595 2.595 0 00.732-1.947z",fill:"url(#staking-illustration_inline_svg__paint3_linear_227_2286)"})),tr||(tr=x.createElement("path",{d:"M96.002 119.336L60.142 98.18a6.398 6.398 0 01-2.65-5.19c.048-1.98 1.306-2.861 2.81-1.971l35.859 21.149a6.394 6.394 0 012.65 5.189c-.049 1.979-1.306 2.87-2.81 1.979z",fill:"#16E3BA"})),or||(or=x.createElement("path",{d:"M108.032 96.169a6.356 6.356 0 00-2.681-5.166L69.547 69.846a1.808 1.808 0 00-1.79-.167 1.527 1.527 0 00-.215.127L58.631 75.1l39.114 28.739 9.022-5.38c.205-.066.393-.178.549-.326a2.59 2.59 0 00.716-1.963z",fill:"url(#staking-illustration_inline_svg__paint4_linear_227_2286)"})),rr||(rr=x.createElement("path",{d:"M96.105 103.584l-35.86-21.15a6.415 6.415 0 01-2.633-5.197c.048-1.979 1.305-2.861 2.809-1.971l35.86 21.157a6.36 6.36 0 012.649 5.19c-.064 1.979-1.321 2.861-2.825 1.971z",fill:"#16E3BA"})),ar||(ar=x.createElement("path",{d:"M108.032 80.44a6.36 6.36 0 00-2.681-5.19L69.547 54.101a1.792 1.792 0 00-1.79-.175l-.215.127-8.911 5.302 39.114 28.73 9.022-5.38c.205-.063.392-.172.549-.318a2.594 2.594 0 00.716-1.947z",fill:"url(#staking-illustration_inline_svg__paint5_linear_227_2286)"})),sr||(sr=x.createElement("path",{d:"M96.105 87.84l-35.86-21.157a6.4 6.4 0 01-2.633-5.19c.048-1.98 1.305-2.862 2.809-1.971L96.28 80.67a6.4 6.4 0 012.649 5.19c-.064 1.978-1.321 2.868-2.825 1.978z",fill:"#16E3BA"})),nr||(nr=x.createElement("path",{d:"M165.191 61.238l-33.6 19.377V75.4l33.6-19.384v5.221z",fill:"url(#staking-illustration_inline_svg__paint6_linear_227_2286)"})),lr||(lr=x.createElement("path",{d:"M165.191 71.26l-10.304 5.945v-5.213l10.304-5.945v5.213z",fill:"url(#staking-illustration_inline_svg__paint7_linear_227_2286)"})),ir||(ir=x.createElement("path",{d:"M150.973 79.463l-19.382 11.182v-5.222l19.382-11.174v5.214z",fill:"url(#staking-illustration_inline_svg__paint8_linear_227_2286)"})),dr||(dr=x.createElement("path",{d:"M165.191 80.909L141.282 94.73v-5.214l23.909-13.829v5.222z",fill:"url(#staking-illustration_inline_svg__paint9_linear_227_2286)"})),pr||(pr=x.createElement("path",{d:"M137.359 96.987l-5.768 3.298v-5.213l5.768-3.299v5.214z",fill:"url(#staking-illustration_inline_svg__paint10_linear_227_2286)"})),cr||(cr=x.createElement("path",{d:"M165.191 90.987l-33.6 19.376v-5.213l33.6-19.377v5.214z",fill:"url(#staking-illustration_inline_svg__paint11_linear_227_2286)"})),hr||(hr=x.createElement("path",{d:"M165.191 101.049l-10.304 5.944v-5.213l10.304-5.945v5.214z",fill:"url(#staking-illustration_inline_svg__paint12_linear_227_2286)"})),ur||(ur=x.createElement("path",{d:"M150.973 109.251l-19.382 11.182v-5.221l19.382-11.175v5.214z",fill:"url(#staking-illustration_inline_svg__paint13_linear_227_2286)"})),gr||(gr=x.createElement("path",{d:"M165.191 110.697l-23.909 13.821v-5.214l23.909-13.829v5.222z",fill:"url(#staking-illustration_inline_svg__paint14_linear_227_2286)"})),mr||(mr=x.createElement("path",{d:"M137.359 126.775l-5.768 3.299v-5.222l5.768-3.29v5.213z",fill:"url(#staking-illustration_inline_svg__paint15_linear_227_2286)"})),fr||(fr=x.createElement("path",{d:"M165.191 124.932l-33.6 19.376v-9.903l33.6-19.376v9.903z",fill:"url(#staking-illustration_inline_svg__paint16_linear_227_2286)"})),xr||(xr=x.createElement("path",{d:"M156.423 158.519a15.368 15.368 0 015.092 6.954c1.822 4.769 8.004 9.538 8.004 9.538l24.665 14.782 31.626-18.55-24.664-14.79s-6.167-4.769-7.957-9.49a15.327 15.327 0 00-5.084-6.939l-24.498-14.242-31.61 18.534 24.426 14.203z",fill:"url(#staking-illustration_inline_svg__paint17_linear_227_2286)"})),vr||(vr=x.createElement("path",{d:"M91.35 23.127l58.937.485v8.103c0 4.323-2.884 8.638-8.635 11.933-11.511 6.575-30.165 6.575-41.675 0-5.752-3.287-8.627-7.61-8.627-11.933v-8.588z",fill:"url(#staking-illustration_inline_svg__paint18_linear_227_2286)"})),_r||(_r=x.createElement("path",{d:"M141.654 35.571c-11.51 6.546-30.164 6.546-41.674 0-11.51-6.546-11.503-17.184 0-23.73 11.502-6.547 30.164-6.547 41.674 0 11.511 6.546 11.511 17.167 0 23.73z",fill:"url(#staking-illustration_inline_svg__paint19_linear_227_2286)"})),wr||(wr=x.createElement("path",{d:"M120.241 38.167c14.041 0 25.424-6.734 25.424-15.04s-11.383-15.04-25.424-15.04-25.424 6.734-25.424 15.04 11.383 15.04 25.424 15.04z",fill:"url(#staking-illustration_inline_svg__paint20_linear_227_2286)"})),br||(br=x.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M131.632 17.911c-.535-.309-1.39-.247-1.924.062l-2.887 1.669-2.78-.68 1.818-1.05c.534-.31.641-.804.106-1.113-.534-.31-1.389-.31-1.924 0l-2.62 1.514-11.44-2.781c-.534-.124-1.069-.062-1.497.185-.374.217-.481.588-.32.866l4.918 6.489-2.566 1.483c-.535.309-.642.803-.107 1.112.535.31 1.39.31 1.924 0l1.872-1.081 1.176 1.607-2.834 1.637c-.534.31-.641.804-.107 1.113.535.309 1.39.309 1.925 0l2.192-1.267 4.116 5.346c.267.401 1.069.556 1.764.401.161-.03.267-.092.374-.154.375-.216.535-.556.321-.865l-4.437-5.84 8.66-5.006 10.264 2.534c.535.123 1.07.061 1.497-.186.107-.062.214-.123.321-.247.267-.402 0-.865-.695-1.02l-9.302-2.287 2.192-1.266c.535-.371.588-.896 0-1.175zm-19.566-.185l7.217 1.762-4.116 2.379-3.101-4.14zm4.33 5.655l1.176 1.607 7.164-4.141-2.78-.68-5.56 3.214z",fill:"#fff"})),yr||(yr=x.createElement("path",{d:"M142.228 135.552l39.315.324v5.405c0 2.884-1.923 5.762-5.76 7.96-7.678 4.386-20.122 4.386-27.8 0-3.837-2.193-5.755-5.076-5.755-7.96v-5.729z",fill:"url(#staking-illustration_inline_svg__paint21_linear_227_2286)"})),jr||(jr=x.createElement("path",{d:"M175.785 143.853c-7.679 4.367-20.122 4.367-27.8 0-7.678-4.367-7.673-11.463 0-15.83 7.673-4.367 20.121-4.367 27.8 0 7.678 4.367 7.678 11.452 0 15.83z",fill:"url(#staking-illustration_inline_svg__paint22_linear_227_2286)"})),kr||(kr=x.createElement("path",{d:"M161.501 145.585c9.366 0 16.959-4.492 16.959-10.033 0-5.541-7.593-10.032-16.959-10.032-9.367 0-16.96 4.491-16.96 10.032s7.593 10.033 16.96 10.033z",fill:"url(#staking-illustration_inline_svg__paint23_linear_227_2286)"})),Cr||(Cr=x.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M169.099 132.073c-.356-.206-.927-.165-1.283.041l-1.926 1.114-1.854-.454 1.212-.701c.357-.206.428-.536.071-.742-.356-.206-.927-.206-1.283 0l-1.748 1.01-7.631-1.855c-.357-.082-.713-.041-.999.124-.249.144-.321.391-.214.577l3.281 4.329-1.712.989c-.356.206-.427.536-.071.742.357.206.927.206 1.284 0l1.248-.721.785 1.071-1.89 1.093c-.357.206-.428.536-.072.742.357.206.927.206 1.284 0l1.462-.845 2.746 3.566c.178.268.713.371 1.177.268.107-.021.178-.062.249-.103.25-.145.357-.371.214-.577l-2.959-3.896 5.777-3.339 6.846 1.69c.357.082.714.041.999-.124.071-.041.142-.082.214-.165.178-.268 0-.577-.464-.68l-6.205-1.525 1.462-.845c.357-.248.393-.598 0-.784zm-13.052-.123l4.815 1.174-2.746 1.588-2.069-2.762zm2.889 3.772l.784 1.072 4.779-2.763-1.854-.453-3.709 2.144z",fill:"#fff"})),Er||(Er=x.createElement("defs",null,x.createElement("linearGradient",{id:"staking-illustration_inline_svg__paint0_linear_227_2286",x1:0,y1:216.001,x2:240,y2:216.001,gradientUnits:"userSpaceOnUse"},x.createElement("stop",{stopColor:"#17D1AA"}),x.createElement("stop",{offset:.15,stopColor:"#1ACBAF"}),x.createElement("stop",{offset:.37,stopColor:"#21B8BC"}),x.createElement("stop",{offset:.62,stopColor:"#2E9BD3"}),x.createElement("stop",{offset:.89,stopColor:"#3F71F1"}),x.createElement("stop",{offset:1,stopColor:"#475FFF"})),x.createElement("linearGradient",{id:"staking-illustration_inline_svg__paint1_linear_227_2286",x1:179.686,y1:185.072,x2:179.686,y2:29.475,gradientUnits:"userSpaceOnUse"},x.createElement("stop",{stopColor:"#1D45BA"}),x.createElement("stop",{offset:.42,stopColor:"#1D47BA"}),x.createElement("stop",{offset:.572,stopColor:"#1D4EB9"}),x.createElement("stop",{offset:.68,stopColor:"#1C59B8"}),x.createElement("stop",{offset:.767,stopColor:"#1B6AB6"}),x.createElement("stop",{offset:.842,stopColor:"#1A80B3"}),x.createElement("stop",{offset:.908,stopColor:"#199CB0"}),x.createElement("stop",{offset:.966,stopColor:"#18BBAD"}),x.createElement("stop",{offset:1,stopColor:"#17D1AA"})),x.createElement("linearGradient",{id:"staking-illustration_inline_svg__paint2_linear_227_2286",x1:58.559,y1:135.375,x2:107.987,y2:135.375,gradientUnits:"userSpaceOnUse"},x.createElement("stop",{stopColor:"#17D1AA"}),x.createElement("stop",{offset:.15,stopColor:"#1ACBAF"}),x.createElement("stop",{offset:.37,stopColor:"#21B8BC"}),x.createElement("stop",{offset:.62,stopColor:"#2E9BD3"}),x.createElement("stop",{offset:.89,stopColor:"#3F71F1"}),x.createElement("stop",{offset:1,stopColor:"#475FFF"})),x.createElement("linearGradient",{id:"staking-illustration_inline_svg__paint3_linear_227_2286",x1:58.512,y1:119.583,x2:107.933,y2:119.583,gradientUnits:"userSpaceOnUse"},x.createElement("stop",{stopColor:"#17D1AA"}),x.createElement("stop",{offset:.15,stopColor:"#1ACBAF"}),x.createElement("stop",{offset:.37,stopColor:"#21B8BC"}),x.createElement("stop",{offset:.62,stopColor:"#2E9BD3"}),x.createElement("stop",{offset:.89,stopColor:"#3F71F1"}),x.createElement("stop",{offset:1,stopColor:"#475FFF"})),x.createElement("linearGradient",{id:"staking-illustration_inline_svg__paint4_linear_227_2286",x1:58.631,y1:103.839,x2:108.038,y2:103.839,gradientUnits:"userSpaceOnUse"},x.createElement("stop",{stopColor:"#17D1AA"}),x.createElement("stop",{offset:.15,stopColor:"#1ACBAF"}),x.createElement("stop",{offset:.37,stopColor:"#21B8BC"}),x.createElement("stop",{offset:.62,stopColor:"#2E9BD3"}),x.createElement("stop",{offset:.89,stopColor:"#3F71F1"}),x.createElement("stop",{offset:1,stopColor:"#475FFF"})),x.createElement("linearGradient",{id:"staking-illustration_inline_svg__paint5_linear_227_2286",x1:58.631,y1:88.086,x2:108.037,y2:88.086,gradientUnits:"userSpaceOnUse"},x.createElement("stop",{stopColor:"#17D1AA"}),x.createElement("stop",{offset:.15,stopColor:"#1ACBAF"}),x.createElement("stop",{offset:.37,stopColor:"#21B8BC"}),x.createElement("stop",{offset:.62,stopColor:"#2E9BD3"}),x.createElement("stop",{offset:.89,stopColor:"#3F71F1"}),x.createElement("stop",{offset:1,stopColor:"#475FFF"})),x.createElement("linearGradient",{id:"staking-illustration_inline_svg__paint6_linear_227_2286",x1:152.075,y1:56.017,x2:140.029,y2:79.132,gradientUnits:"userSpaceOnUse"},x.createElement("stop",{stopColor:"#17D1AA"}),x.createElement("stop",{offset:.15,stopColor:"#1ACBAF"}),x.createElement("stop",{offset:.37,stopColor:"#21B8BC"}),x.createElement("stop",{offset:.62,stopColor:"#2E9BD3"}),x.createElement("stop",{offset:.89,stopColor:"#3F71F1"}),x.createElement("stop",{offset:1,stopColor:"#475FFF"})),x.createElement("linearGradient",{id:"staking-illustration_inline_svg__paint7_linear_227_2286",x1:161.168,y1:66.047,x2:154.721,y2:74.41,gradientUnits:"userSpaceOnUse"},x.createElement("stop",{stopColor:"#17D1AA"}),x.createElement("stop",{offset:.15,stopColor:"#1ACBAF"}),x.createElement("stop",{offset:.37,stopColor:"#21B8BC"}),x.createElement("stop",{offset:.62,stopColor:"#2E9BD3"}),x.createElement("stop",{offset:.89,stopColor:"#3F71F1"}),x.createElement("stop",{offset:1,stopColor:"#475FFF"})),x.createElement("linearGradient",{id:"staking-illustration_inline_svg__paint8_linear_227_2286",x1:143.407,y1:74.249,x2:134.749,y2:88.627,gradientUnits:"userSpaceOnUse"},x.createElement("stop",{stopColor:"#17D1AA"}),x.createElement("stop",{offset:.15,stopColor:"#1ACBAF"}),x.createElement("stop",{offset:.37,stopColor:"#21B8BC"}),x.createElement("stop",{offset:.62,stopColor:"#2E9BD3"}),x.createElement("stop",{offset:.89,stopColor:"#3F71F1"}),x.createElement("stop",{offset:1,stopColor:"#475FFF"})),x.createElement("linearGradient",{id:"staking-illustration_inline_svg__paint9_linear_227_2286",x1:155.858,y1:75.687,x2:146.095,y2:92.907,gradientUnits:"userSpaceOnUse"},x.createElement("stop",{stopColor:"#17D1AA"}),x.createElement("stop",{offset:.15,stopColor:"#1ACBAF"}),x.createElement("stop",{offset:.37,stopColor:"#21B8BC"}),x.createElement("stop",{offset:.62,stopColor:"#2E9BD3"}),x.createElement("stop",{offset:.89,stopColor:"#3F71F1"}),x.createElement("stop",{offset:1,stopColor:"#475FFF"})),x.createElement("linearGradient",{id:"staking-illustration_inline_svg__paint10_linear_227_2286",x1:135.107,y1:91.773,x2:130.028,y2:96.609,gradientUnits:"userSpaceOnUse"},x.createElement("stop",{stopColor:"#17D1AA"}),x.createElement("stop",{offset:.15,stopColor:"#1ACBAF"}),x.createElement("stop",{offset:.37,stopColor:"#21B8BC"}),x.createElement("stop",{offset:.62,stopColor:"#2E9BD3"}),x.createElement("stop",{offset:.89,stopColor:"#3F71F1"}),x.createElement("stop",{offset:1,stopColor:"#475FFF"})),x.createElement("linearGradient",{id:"staking-illustration_inline_svg__paint11_linear_227_2286",x1:152.075,y1:85.773,x2:140.035,y2:108.885,gradientUnits:"userSpaceOnUse"},x.createElement("stop",{stopColor:"#17D1AA"}),x.createElement("stop",{offset:.15,stopColor:"#1ACBAF"}),x.createElement("stop",{offset:.37,stopColor:"#21B8BC"}),x.createElement("stop",{offset:.62,stopColor:"#2E9BD3"}),x.createElement("stop",{offset:.89,stopColor:"#3F71F1"}),x.createElement("stop",{offset:1,stopColor:"#475FFF"})),x.createElement("linearGradient",{id:"staking-illustration_inline_svg__paint12_linear_227_2286",x1:161.168,y1:95.835,x2:154.721,y2:104.198,gradientUnits:"userSpaceOnUse"},x.createElement("stop",{stopColor:"#17D1AA"}),x.createElement("stop",{offset:.15,stopColor:"#1ACBAF"}),x.createElement("stop",{offset:.37,stopColor:"#21B8BC"}),x.createElement("stop",{offset:.62,stopColor:"#2E9BD3"}),x.createElement("stop",{offset:.89,stopColor:"#3F71F1"}),x.createElement("stop",{offset:1,stopColor:"#475FFF"})),x.createElement("linearGradient",{id:"staking-illustration_inline_svg__paint13_linear_227_2286",x1:143.407,y1:104.037,x2:134.749,y2:118.416,gradientUnits:"userSpaceOnUse"},x.createElement("stop",{stopColor:"#17D1AA"}),x.createElement("stop",{offset:.15,stopColor:"#1ACBAF"}),x.createElement("stop",{offset:.37,stopColor:"#21B8BC"}),x.createElement("stop",{offset:.62,stopColor:"#2E9BD3"}),x.createElement("stop",{offset:.89,stopColor:"#3F71F1"}),x.createElement("stop",{offset:1,stopColor:"#475FFF"})),x.createElement("linearGradient",{id:"staking-illustration_inline_svg__paint14_linear_227_2286",x1:155.858,y1:105.475,x2:146.095,y2:122.695,gradientUnits:"userSpaceOnUse"},x.createElement("stop",{stopColor:"#17D1AA"}),x.createElement("stop",{offset:.15,stopColor:"#1ACBAF"}),x.createElement("stop",{offset:.37,stopColor:"#21B8BC"}),x.createElement("stop",{offset:.62,stopColor:"#2E9BD3"}),x.createElement("stop",{offset:.89,stopColor:"#3F71F1"}),x.createElement("stop",{offset:1,stopColor:"#475FFF"})),x.createElement("linearGradient",{id:"staking-illustration_inline_svg__paint15_linear_227_2286",x1:135.107,y1:121.562,x2:130.028,y2:126.398,gradientUnits:"userSpaceOnUse"},x.createElement("stop",{stopColor:"#17D1AA"}),x.createElement("stop",{offset:.15,stopColor:"#1ACBAF"}),x.createElement("stop",{offset:.37,stopColor:"#21B8BC"}),x.createElement("stop",{offset:.62,stopColor:"#2E9BD3"}),x.createElement("stop",{offset:.89,stopColor:"#3F71F1"}),x.createElement("stop",{offset:1,stopColor:"#475FFF"})),x.createElement("linearGradient",{id:"staking-illustration_inline_svg__paint16_linear_227_2286",x1:152.075,y1:115.029,x2:136.403,y2:140.294,gradientUnits:"userSpaceOnUse"},x.createElement("stop",{stopColor:"#17D1AA"}),x.createElement("stop",{offset:.15,stopColor:"#1ACBAF"}),x.createElement("stop",{offset:.37,stopColor:"#21B8BC"}),x.createElement("stop",{offset:.62,stopColor:"#2E9BD3"}),x.createElement("stop",{offset:.89,stopColor:"#3F71F1"}),x.createElement("stop",{offset:1,stopColor:"#475FFF"})),x.createElement("linearGradient",{id:"staking-illustration_inline_svg__paint17_linear_227_2286",x1:189.189,y1:125.782,x2:159.131,y2:187.672,gradientUnits:"userSpaceOnUse"},x.createElement("stop",{stopColor:"#17D1AA"}),x.createElement("stop",{offset:.15,stopColor:"#1ACBAF"}),x.createElement("stop",{offset:.37,stopColor:"#21B8BC"}),x.createElement("stop",{offset:.62,stopColor:"#2E9BD3"}),x.createElement("stop",{offset:.89,stopColor:"#3F71F1"}),x.createElement("stop",{offset:1,stopColor:"#475FFF"})),x.createElement("linearGradient",{id:"staking-illustration_inline_svg__paint18_linear_227_2286",x1:127.28,y1:23.127,x2:118.739,y2:50.914,gradientUnits:"userSpaceOnUse"},x.createElement("stop",{stopColor:"#17D1AA"}),x.createElement("stop",{offset:.15,stopColor:"#1ACBAF"}),x.createElement("stop",{offset:.37,stopColor:"#21B8BC"}),x.createElement("stop",{offset:.62,stopColor:"#2E9BD3"}),x.createElement("stop",{offset:.89,stopColor:"#3F71F1"}),x.createElement("stop",{offset:1,stopColor:"#475FFF"})),x.createElement("linearGradient",{id:"staking-illustration_inline_svg__paint19_linear_227_2286",x1:91.35,y1:40.481,x2:150.287,y2:40.481,gradientUnits:"userSpaceOnUse"},x.createElement("stop",{stopColor:"#17D1AA"}),x.createElement("stop",{offset:.15,stopColor:"#1ACBAF"}),x.createElement("stop",{offset:.37,stopColor:"#21B8BC"}),x.createElement("stop",{offset:.62,stopColor:"#2E9BD3"}),x.createElement("stop",{offset:.89,stopColor:"#3F71F1"}),x.createElement("stop",{offset:1,stopColor:"#475FFF"})),x.createElement("linearGradient",{id:"staking-illustration_inline_svg__paint20_linear_227_2286",x1:125.816,y1:8.087,x2:112.96,y2:38.617,gradientUnits:"userSpaceOnUse"},x.createElement("stop",{stopColor:"#17D1AA"}),x.createElement("stop",{offset:.15,stopColor:"#1ACBAF"}),x.createElement("stop",{offset:.37,stopColor:"#21B8BC"}),x.createElement("stop",{offset:.62,stopColor:"#2E9BD3"}),x.createElement("stop",{offset:.89,stopColor:"#3F71F1"}),x.createElement("stop",{offset:1,stopColor:"#475FFF"})),x.createElement("linearGradient",{id:"staking-illustration_inline_svg__paint21_linear_227_2286",x1:166.196,y1:135.552,x2:160.498,y2:154.088,gradientUnits:"userSpaceOnUse"},x.createElement("stop",{stopColor:"#17D1AA"}),x.createElement("stop",{offset:.15,stopColor:"#1ACBAF"}),x.createElement("stop",{offset:.37,stopColor:"#21B8BC"}),x.createElement("stop",{offset:.62,stopColor:"#2E9BD3"}),x.createElement("stop",{offset:.89,stopColor:"#3F71F1"}),x.createElement("stop",{offset:1,stopColor:"#475FFF"})),x.createElement("linearGradient",{id:"staking-illustration_inline_svg__paint22_linear_227_2286",x1:142.228,y1:147.129,x2:181.543,y2:147.129,gradientUnits:"userSpaceOnUse"},x.createElement("stop",{stopColor:"#17D1AA"}),x.createElement("stop",{offset:.15,stopColor:"#1ACBAF"}),x.createElement("stop",{offset:.37,stopColor:"#21B8BC"}),x.createElement("stop",{offset:.62,stopColor:"#2E9BD3"}),x.createElement("stop",{offset:.89,stopColor:"#3F71F1"}),x.createElement("stop",{offset:1,stopColor:"#475FFF"})),x.createElement("linearGradient",{id:"staking-illustration_inline_svg__paint23_linear_227_2286",x1:165.22,y1:125.52,x2:156.644,y2:145.885,gradientUnits:"userSpaceOnUse"},x.createElement("stop",{stopColor:"#17D1AA"}),x.createElement("stop",{offset:.15,stopColor:"#1ACBAF"}),x.createElement("stop",{offset:.37,stopColor:"#21B8BC"}),x.createElement("stop",{offset:.62,stopColor:"#2E9BD3"}),x.createElement("stop",{offset:.89,stopColor:"#3F71F1"}),x.createElement("stop",{offset:1,stopColor:"#475FFF"})))))}o.p;var Br=o(94184),Ir=o.n(Br),Tr=o(14195),Dr=o(25048),Ar=o(87390);We()(Ar.Z,{insert:"head",singleton:!1});const Pr=Ar.Z.locals||{};var Rr,Lr,Wr=o(18261),zr=o(22054);const Or=(0,v.defineMessages)({epochAxisLabel:{id:"wallet.dashboard.graph.epochAxisLabel",defaultMessage:"!!!Epoch ({epochLength} days)"},singleEpochAxisLabel:{id:"wallet.dashboard.graph.singleEpochAxisLabel",defaultMessage:"!!!Epoch (1 day)"},dayToggleLabel:{id:"wallet.dashboard.graph.dayToggleLabel",defaultMessage:"!!!Day (UTC)"}}),Nr=({tabs:e,selected:t,setSelected:o})=>(0,J.jsx)("ul",{className:Pr.tabsWrapper,children:Je()(e).call(e,((e,r)=>(0,J.jsx)("li",{children:(0,J.jsx)("button",{type:"button",onClick:()=>o(r),onKeyPress:()=>o(r),className:r===t?Ir()(Pr.tab,Pr.tabActive):Pr.tab,children:e})},e)))}),Ur=({data:e,epochTitle:t,stakepoolNameTitle:o,xAxisLabel:r,yAxisLabel:a,primaryBarLabel:s,hideYAxis:n})=>{const l={axisTickColor:(0,Wr.RH)("--yoroi-dashboard-graph-axis-tick-color"),axisTextColor:(0,Wr.RH)("--yoroi-dashboard-graph-axis-text-color"),barWidth:(0,Wr.RH)("--yoroi-dashboard-graph-bar-width"),barHoverBgColor:(0,Wr.RH)("--yoroi-dashboard-graph-bar-hover-background-color"),barPrimaryColor:(0,Wr.RH)("--yoroi-dashboard-graph-bar-primary-color"),fontSize:"0.75rem",lineHeight:14},i=({active:e,payload:r,label:a})=>e&&null!=r?(0,J.jsxs)("div",{className:Pr.tooltip,children:[(0,J.jsxs)("div",{children:[(0,J.jsxs)("span",{className:Pr.tooltipLabel,children:[t,":"]})," ",(0,J.jsx)("span",{className:Pr.tooltipValue,children:a})]}),(0,J.jsxs)("div",{children:[(0,J.jsxs)("span",{className:Pr.tooltipLabel,children:[s,":"]})," ",(0,J.jsx)("span",{className:Pr.tooltipValue,children:r[0].value})]}),(0,J.jsxs)("div",{children:[(0,J.jsxs)("span",{className:Pr.tooltipLabel,children:[o,":"]})," ",(0,J.jsx)("span",{className:Pr.tooltipValue,children:r[0].payload.poolName})]})]}):null,d=(0,J.jsx)(i,{});return(0,J.jsx)(Mt.h,{width:"100%",height:240,children:(0,J.jsxs)(Ft.v,{data:e,margin:{top:20,right:0,left:40,bottom:0},children:[(0,J.jsx)(Tr.q,{strokeDasharray:"3 3"}),(0,J.jsx)(Bt.K,{tick:{fill:l.axisTickColor,fontSize:l.fontSize,lineHeight:l.lineHeight},dataKey:"name",height:50,label:{value:r,position:"insideBottom",fontSize:l.fontSize,fill:l.axisTextColor}}),(0,J.jsx)(It.B,{tickFormatter:e=>n?"∗∗∗ ":e,tick:{fill:l.axisTickColor,fontSize:l.fontSize,lineHeight:l.lineHeight},children:(0,J.jsx)(Dr._,{value:a,position:"insideLeft",angle:-90,offset:-5,style:{textAnchor:"middle",fontSize:l.fontSize,fill:l.axisTextColor}})}),(0,J.jsx)(Tt.u,{content:d,cursor:{fill:l.barHoverBgColor}}),(0,J.jsx)(Dt.$,{name:s,maxBarSize:l.barWidth,dataKey:"primary",stackId:"a",fill:l.barPrimaryColor})]})})};let Gr=(0,g.observer)((Lr=class extends x.Component{constructor(...e){super(...e),u()(this,"state",{selectedTab:0}),u()(this,"_getEpochLengthLabel",(()=>{const{intl:e}=this.context,{epochLength:t}=this.props;return null==t?e.formatMessage(E.default.epochLabel):1===t?e.formatMessage(Or.singleEpochAxisLabel):e.formatMessage(Or.epochAxisLabel,{epochLength:t})}))}render(){const{intl:e}=this.context,{tabs:t}=this.props;return(0,J.jsxs)("div",{className:Pr.wrapper,children:[(0,J.jsx)(Nr,{tabs:Je()(t).call(t,(e=>e.tabName)),selected:this.state.selectedTab,setSelected:e=>this.setState({selectedTab:e})}),0===t[this.state.selectedTab].data.length?(0,J.jsx)(zr.Z,{variant:"rectangular",width:"100%",height:"256px",animation:"wave",sx:{backgroundColor:"var(--yoroi-palette-gray-50)",borderRadius:"4px"}}):(0,J.jsx)(Lo,{children:(0,J.jsx)("div",{className:Pr.graphContainer,children:(0,J.jsx)(Ur,{epochTitle:e.formatMessage(E.default.epochLabel),stakepoolNameTitle:e.formatMessage(E.default.stakepoolNameLabel),xAxisLabel:this._getEpochLengthLabel(),yAxisLabel:t[this.state.selectedTab].yAxisLabel,primaryBarLabel:t[this.state.selectedTab].primaryBarLabel,data:t[this.state.selectedTab].data,hideYAxis:t[this.state.selectedTab].hideYAxis})})})]})}},u()(Lr,"contextTypes",{intl:v.intlShape.isRequired}),Rr=Lr))||Rr;var Hr=o(1167);We()(Hr.Z,{insert:"head",singleton:!1});const qr=Hr.Z.locals||{};var $r,Yr;function Vr(){return Vr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var r in o)Object.prototype.hasOwnProperty.call(o,r)&&(e[r]=o[r])}return e},Vr.apply(this,arguments)}function Kr(e){return x.createElement("svg",Vr({width:262,height:200,xmlns:"http://www.w3.org/2000/svg"},e),$r||($r=x.createElement("defs",null,x.createElement("linearGradient",{x1:"58.084%",y1:"0%",x2:"41.916%",y2:"100%",id:"empty-dashboard_inline_svg__a"},x.createElement("stop",{stopColor:"#F14D78",offset:"0%"}),x.createElement("stop",{stopColor:"#1A44B7",offset:"100%"})),x.createElement("linearGradient",{x1:"76.661%",y1:"0%",x2:"23.339%",y2:"100%",id:"empty-dashboard_inline_svg__b"},x.createElement("stop",{stopColor:"#F14D78",offset:"0%"}),x.createElement("stop",{stopColor:"#1A44B7",offset:"100%"})),x.createElement("linearGradient",{x1:"13.947%",y1:"98.252%",x2:"52.783%",y2:"70.976%",id:"empty-dashboard_inline_svg__c"},x.createElement("stop",{stopColor:"#1A44B7",offset:"0%"}),x.createElement("stop",{stopColor:"#4760FF",offset:"100%"})),x.createElement("linearGradient",{x1:"13.947%",y1:"98.252%",x2:"52.783%",y2:"70.976%",id:"empty-dashboard_inline_svg__d"},x.createElement("stop",{stopColor:"#1A44B7",offset:"0%"}),x.createElement("stop",{stopColor:"#4760FF",offset:"100%"})),x.createElement("linearGradient",{x1:"0%",y1:"74.963%",x2:"53.86%",y2:"60.852%",id:"empty-dashboard_inline_svg__e"},x.createElement("stop",{stopColor:"#1A44B7",offset:"0%"}),x.createElement("stop",{stopColor:"#4760FF",offset:"100%"})))),Yr||(Yr=x.createElement("g",{fill:"none",fillRule:"evenodd"},x.createElement("path",{d:"M89.512 198.008l172.395-98.866M24.001 148.748l160.818-92.225M79.51 44.704l181.606 104.014M.805 112.451l152.232 87.192",opacity:.2,stroke:"#1D45BA",strokeWidth:.5}),x.createElement("g",{fillRule:"nonzero"},x.createElement("path",{d:"M43.44 106.652c2.5-16.313 0-20.069 0-20.069l-16.398 21.79s4.387 6.972 3.296 10.894a24.265 24.265 0 01-2.015 5.27 1.485 1.485 0 00.428 1.943c.11.084.23.154.357.207l5.824 3.44 7.042-12.202 1.547-6.88-1.622 1.272a26.273 26.273 0 001.541-5.665z",fill:"url(#empty-dashboard_inline_svg__a)",transform:"translate(73.24)"}),x.createElement("path",{d:"M91.822 4.662l-5.594-3.177a14.715 14.715 0 00-2.47-.94c-1.507-.482-3.319-.224-5.264.906l-68.86 39.8C4.439 44.248.26 52.26.283 59.14l.19 55.39c0 4.128 1.547 6.88 3.88 7.815l6.4 3.326 5.028-7.506L78.765 81.76c5.195-2.999 9.374-11.01 9.35-17.89l-.184-53.4 3.89-5.81z",fill:"url(#empty-dashboard_inline_svg__b)",transform:"translate(73.24)"}),x.createElement("path",{d:"M168.149 12.081c0-6.88-4.248-10.034-9.431-7.035L89.858 44.85c-5.196 3-9.375 11.01-9.352 17.89l.19 55.385c0 6.88 4.25 10.034 9.432 7.035l21.27-12.293a18.807 18.807 0 01-1.189 10.292 63.448 63.448 0 01-2.516 4.983 1.524 1.524 0 00.302 1.846 1.55 1.55 0 001.874.178c4.964-3.21 11.879-9.41 13.443-19.604.277-1.807.49-3.44.652-4.96l35.025-20.247c5.195-2.999 9.374-11.01 9.35-17.89l-.19-55.385z",fill:"#E1F2FF"})),x.createElement("path",{d:"M10.504 9.881c0 2.798-2.262 3.668-5.053 1.945C2.661 10.102.398 6.436.398 3.639.398.842 2.66-.029 5.451 1.695c2.79 1.724 5.053 5.39 5.053 8.186",fill:"url(#empty-dashboard_inline_svg__c)",transform:"matrix(-1 0 0 1 153.99 40.376)"}),x.createElement("path",{d:"M51.654 35.299c0 2.797-2.262 3.668-5.052 1.944-2.791-1.724-5.053-5.389-5.053-8.186 0-2.798 2.262-3.668 5.053-1.944 2.79 1.723 5.052 5.389 5.052 8.186",fill:"url(#empty-dashboard_inline_svg__d)",transform:"matrix(-1 0 0 1 153.99 40.376)"}),x.createElement("path",{d:"M34.799 47.854L14.359 35.23c-1.249-.77-2.27-2.427-2.27-3.679 0-1.252 1.021-1.646 2.27-.874l20.44 12.625c1.249.772 2.27 2.428 2.27 3.68 0 1.252-1.021 1.645-2.27.873",fill:"url(#empty-dashboard_inline_svg__e)",transform:"matrix(-1 0 0 1 153.99 40.376)"}))))}o.p;var Qr=o(69108);We()(Qr.Z,{insert:"head",singleton:!1});const Jr=Qr.Z.locals||{};var Xr;let ea=(0,g.observer)(Xr=class extends x.Component{render(){return(0,J.jsxs)("div",{className:Jr.wrapper,children:[(0,J.jsxs)("div",{className:Jr.text,children:[(0,J.jsx)("h3",{className:Jr.title,children:this.props.title}),null!=this.props.text&&(0,J.jsx)("div",{className:Jr.paragraph,children:this.props.text})]}),(0,J.jsx)(Kr,{})]})}})||Xr;var ta;const oa=(0,v.defineMessages)({positionsLabel:{id:"wallet.dashboard.graphType.positions",defaultMessage:"!!!Positions"},costsLabel:{id:"wallet.dashboard.graphType.costs",defaultMessage:"!!!Costs"},pendingTxWarning:{id:"wallet.dashboard.warning.pendingTx",defaultMessage:"!!!Staking dashboard information will update once your pending transaction is confirmed"},title:{id:"wallet.dashboard.stakePool.title",defaultMessage:"!!!Stake Pool Delegated"}}),ra=(0,v.defineMessages)({title:{id:"wallet.dashboard.empty.title",defaultMessage:"!!!You have not delegated your {ticker} yet"},text:{id:"wallet.dashboard.empty.text",defaultMessage:"!!!Go to the delegation page to choose what stake pool you want to delegate in."}});(0,g.observer)((ta=class extends x.Component{constructor(...e){super(...e),u()(this,"_displayGraph",(e=>{const{intl:t}=this.context;if(e.error)return(0,J.jsxs)("div",{className:qr.poolError,children:[(0,J.jsx)("center",{children:(0,J.jsx)(tt.r,{})}),(0,J.jsx)(ot.Z,{error:e.error})]});const o=e.items;return(0,J.jsx)(Gr,{tabs:[{tabName:t.formatMessage(E.default.rewardsLabel),data:o?o.perEpochRewards:[],primaryBarLabel:t.formatMessage(E.default.rewardsLabel),yAxisLabel:t.formatMessage(E.default.rewardsLabel),hideYAxis:e.hideYAxis},{tabName:t.formatMessage(E.default.totalRewardsLabel),data:o?o.totalRewards:[],primaryBarLabel:t.formatMessage(E.default.totalRewardsLabel),yAxisLabel:t.formatMessage(E.default.rewardsLabel),hideYAxis:e.hideYAxis}],epochLength:this.props.epochLength})})),u()(this,"displayStakePools",(e=>{const t=Ir()([e?null:qr.stakePoolMaxWidth,qr.stakePool]),{intl:o}=this.context;if(this.props.stakePools.error)return(0,J.jsxs)("div",{className:qr.poolError,children:[(0,J.jsx)("center",{children:(0,J.jsx)(tt.r,{})}),(0,J.jsx)(ot.Z,{error:this.props.stakePools.error})]});if(null===this.props.stakePools.pools||null==this.props.pageInfo||this.props.stakePools.pools.length>0&&null==this.props.stakePools.pools[this.props.pageInfo.currentPage])return(0,J.jsxs)("div",{className:t,children:[(0,J.jsx)(C.Z,{component:"div",fontWeight:"500",fontSize:"18px",lineHeight:"22px",marginBottom:"16px",children:o.formatMessage(oa.title)}),(0,J.jsx)(zr.Z,{variant:"rectangular",width:"100%",height:"254px",animation:"wave",sx:{backgroundColor:"var(--yoroi-palette-gray-50)",borderRadius:"4px"}})]});const r=this.props.pageInfo.currentPage;return 0===this.props.stakePools.pools.length||e?(0,J.jsx)("div",{className:t,children:(0,J.jsx)(ea,{title:o.formatMessage(ra.title,{ticker:this.props.ticker}),text:e?o.formatMessage(ra.text):null})}):null==this.props.stakePools.pools[r]?(0,J.jsx)("div",{className:t,children:(0,J.jsx)(rt.Z,{children:(0,J.jsx)(Ge.default,{})})}):(0,J.jsx)("div",{className:t,children:this.props.stakePools.pools[r]})}))}render(){const{graphData:e,isUnregistered:t}=this.props,o=this.props.hasAnyPending?(0,J.jsx)("div",{className:qr.warningBox,children:(0,J.jsx)(jo.Z,{children:this.context.intl.formatMessage(oa.pendingTxWarning)})}):null,r=t?null:(0,J.jsx)("div",{className:qr.graphsWrapper,children:this._displayGraph(e.rewardsGraphData)});return(0,J.jsx)("div",{className:qr.page,children:(0,J.jsxs)("div",{className:qr.contentWrap,children:[o,(0,J.jsx)("div",{className:qr.statsWrapper,children:(0,J.jsx)("div",{className:qr.summary})}),(0,J.jsxs)("div",{className:qr.bodyWrapper,children:[r,this.displayStakePools(t)]})]})})}},u()(ta,"contextTypes",{intl:v.intlShape.isRequired}),ta));const aa=(0,v.defineMessages)({noDelegated:{id:"wallet.transaction.empty",defaultMessage:"!!!Your wallet is empty"},poolSize:{id:"wallet.staking.banner.poolSizeLabel",defaultMessage:"!!!Pool size"},poolShare:{id:"wallet.staking.banner.poolShareLabel",defaultMessage:"!!!Share"},poolCosts:{id:"wallet.staking.banner.poolCostsLabel",defaultMessage:"!!!Costs"},blocksLabel:{id:"wallet.staking.banner.poolBlocksLabel",defaultMessage:"!!!Blocks"},delegateNow:{id:"wallet.staking.banner.delegateNow",defaultMessage:"!!!Delegate now with our stake pool and start earning rewards"},firstRewardHelperMessage:{id:"wallet.staking.banner.firstRewardHelperMessage",defaultMessage:"!!!1 epoch = 5 days. This means you will receive the first reward after 15-20 days from the delegation moment. All next rewards you will receive rewards every epoch (5 days)."},firstReward:{id:"wallet.staking.banner.firstReward",defaultMessage:"!!!First reward in"},firstRewardDetails:{id:"wallet.staking.banner.firstRewardDetails",defaultMessage:"!!!3-4 epochs"},socialMedia:{id:"wallet.staking.banner.socialMedia",defaultMessage:"!!!Stake pool social media"}}),sa=(0,v.injectIntl)((0,g.observer)((function({isOpen:e,isWalletWithNoFunds:t,isTestnet:o,intl:r,ticker:a,poolInfo:s,stores:n}){if(null==s)return(0,J.jsx)(w.Z,{display:"flex",justifyContent:"center",alignItems:"center",py:"40px",children:(0,J.jsx)(Ge.default,{})});const{id:l,name:i,avatar:d,websiteUrl:p,roa:c,socialLinks:h}=s||{},u=(0,le.KT)(l,36,{padding:0}),g=`data:image/svg+xml;utf8,${encodeURIComponent(u)}`;return e?(0,J.jsxs)(na,{sx:{background:e=>e.palette.ds.bg_gradient_2},children:[(0,J.jsx)(w.Z,{sx:{position:"absolute",bottom:"-60px",right:"0px"},children:(0,J.jsx)(Fr,{height:"300px"})}),(0,J.jsxs)(w.Z,{id:"staking-delegationBanner-box",children:[(0,J.jsx)(C.Z,{component:"div",variant:"h3",fontWeight:500,color:"comon.black",marginBottom:"4px",children:r.formatMessage(ra.title,{ticker:a})}),(0,J.jsx)(C.Z,{component:"div",variant:"body1",color:"ds.text_gray_medium",children:r.formatMessage(aa.delegateNow)}),(0,J.jsxs)(w.Z,{sx:{display:"flex",mb:"16px",mt:"24px"},children:[(0,J.jsx)(la,{children:d?(0,J.jsx)(ia,{src:d,alt:i}):(0,J.jsx)(ia,{src:g,alt:i})}),(0,J.jsx)(C.Z,{component:"div",color:"ds.text_gray_medium",variant:"body1",fontWeight:500,children:i})]}),(0,J.jsxs)(w.Z,{sx:{display:"flex",alignItems:"center",justifyContent:"flex-start",gap:"16px"},children:[(0,J.jsxs)(w.Z,{children:[(0,J.jsxs)(w.Z,{sx:{display:"flex",alignItems:"center",gap:"8px"},children:[(0,J.jsx)(C.Z,{component:"div",variant:"body1",fontWeight:500,color:"ds.text_gray_medium",children:r.formatMessage(E.default.roa30d)}),(0,J.jsx)(te,{message:r.formatMessage(E.default.roaHelperMessage),placement:"top"})]}),(0,J.jsx)(C.Z,{component:"div",variant:"body1",color:"ds.text_gray_medium",children:c})]}),(0,J.jsxs)(w.Z,{children:[(0,J.jsxs)(w.Z,{sx:{display:"flex",alignItems:"center",gap:"8px"},children:[(0,J.jsx)(C.Z,{component:"div",variant:"body1",fontWeight:500,color:"ds.text_gray_medium",children:r.formatMessage(aa.firstReward)}),(0,J.jsx)(te,{message:r.formatMessage(aa.firstRewardHelperMessage),placement:"top"})]}),(0,J.jsx)(C.Z,{component:"div",variant:"body1",color:"ds.text_gray_medium",children:r.formatMessage(aa.firstRewardDetails)})]}),(0,J.jsxs)(w.Z,{children:[(0,J.jsx)(C.Z,{component:"div",variant:"body1",fontWeight:500,color:"ds.text_gray_medium",children:r.formatMessage(aa.socialMedia)}),(0,J.jsx)(ee,{color:"ds.text_gray_medium",socialLinks:h,websiteUrl:p})]})]}),(0,J.jsxs)(w.Z,{sx:{marginTop:"24px",display:"flex",flexDirection:"row",gap:"24px"},children:[(0,J.jsx)(U.Z,{as:ce.Z,variant:"secondary",sx:{textDecoration:"none","&.MuiButton-sizeMedium":{padding:"9px 20px"}},href:"https://emurgohelpdesk.zendesk.com/hc/en-us/articles/4412946533903-What-is-delegation-Is-it-the-same-as-staking-",target:"_blank",rel:"noreferrer noopener",children:r.formatMessage(E.default.learnMore)}),(0,J.jsx)(So,{poolID:l,poolName:i,stores:n,label:r.formatMessage(E.default.delegateLabel),disabled:t,isTestnet:o})]})]})]}):null}))),na=(0,b.Z)(w.Z)({position:"relative",marginBottom:"40px",display:"flex",alignItems:"start",justifyContent:"space-between",padding:"24px",borderRadius:"8px",overflowY:"hidden"}),la=(0,b.Z)(w.Z)({width:"24px",height:"24px",minWidth:"24px",marginRight:"12px",borderRadius:"20px",border:"1px solid rgba(111, 114, 144, 0.24)",overflow:"hidden"}),ia=(0,b.Z)("img")({width:"100%",background:"white",objectFit:"scale-down"});var da,pa,ca,ha,ua,ga,ma,fa,xa=o(75941);let va=(0,g.observer)((fa=class extends x.Component{constructor(e){super(e),po()(this,"iframe",ca,this),po()(this,"frameHeight",ha,this),po()(this,"messageHandler",ua,this),po()(this,"setFrame",ga,this),po()(this,"resize",ma,this),window.addEventListener("message",this.messageHandler,!1)}componentDidMount(){window.addEventListener("resize",this.resize),this.resize()}componentWillUnmount(){window.removeEventListener("resize",this.resize),window.removeEventListener("message",this.messageHandler)}render(){const{urlTemplate:e,locale:t,bias:o,totalAda:r}=this.props;if(null==e)throw new Error("Staking undefined POOLS_UI_URL_FOR_YOROI should never happen");const a=this._prepareStakingURL(e,t,o,r);return null==a?(0,J.jsx)(rt.Z,{children:(0,J.jsx)(Ge.default,{})}):(0,J.jsx)(_a,{setFrame:this.setFrame,stakingUrl:a,iframe:this.iframe,frameHeight:this.frameHeight})}_getBrowserReplacement(){return xa.Z.isExtension()?xa.Z.isFirefox()?"firefox&mozId="+location.hostname:"chrome&chromeId="+chrome.runtime.id:xa.Z.isFirefox()?"firefox&host"+location.host:"chrome&chromeId="+location.host}_prepareStakingURL(e,t,o,r){let a=e.replace("$$BROWSER$$",this._getBrowserReplacement());return a+=`&lang=${null==t?"en":Zt()(t).call(t,0,2)}`,a+=`&delegated=${encodeURIComponent(to()(this.props.poolList))}`,a+=null==r?"":`&totalAda=${r}`,a+="&layout=REVAMP",a+=`&bias=${o}`,a}},u()(fa,"defaultProps",{children:void 0}),u()(fa,"contextTypes",{intl:v.intlShape.isRequired}),pa=fa,ca=ho()(pa.prototype,"iframe",[uo.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ha=ho()(pa.prototype,"frameHeight",[uo.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),ua=ho()(pa.prototype,"messageHandler",[uo.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return async e=>{if(null==this.iframe)return;if("null"!==e.origin||e.source!==this.iframe.contentWindow)return;const t=JSON.parse(decodeURI(e.data));if("object"==typeof t&&!Et()(t)&&null!==t&&t.id)return void this.props.setFirstPool(t);if(!Et()(t))throw new Error("SeizaFetcher Server response is not an array");const o=t[0];if("string"!=typeof o)throw new Error("SeizaFetcher Server response is not a string");const r=o;if(56!==r.length)throw new Error(`SeizaFetcher Server response has incorrect pool length. Expected 56, got ${r.length}`);await this.props.stakepoolSelectedAction(o)}}}),ga=ho()(pa.prototype,"setFrame",[uo.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return e=>{this.iframe=e}}}),ma=ho()(pa.prototype,"resize",[uo.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return()=>{null!=this.iframe?this.frameHeight=Math.max(window.innerHeight-this.iframe.getBoundingClientRect().top-30,0):this.frameHeight=0}}}),da=pa))||da;const _a=({setFrame:e,stakingUrl:t,iframe:o,frameHeight:r})=>{const{name:a}=(0,j.Z)();return t+="&theme="+("dark-theme"===a?"dark":"light"),(0,J.jsx)(pe.Z,{children:(0,J.jsx)("iframe",{sandbox:"allow-scripts allow-popups allow-popups-to-escape-sandbox",referrerPolicy:"no-referrer",ref:e,title:"Staking",src:`${t}`,frameBorder:"0",width:"100%",height:null!=o&&null!=r?r+"px":null})})},wa=({urlTemplate:e,locale:t,bias:o,totalAda:r,poolList:a,setFirstPool:s,stores:n})=>{const{openTxReviewModal:l,startLoadingTxReview:i,networkId:d,showTxResultModal:p}=(0,ge.useTxReviewModal)();return(0,J.jsx)(pe.Z,{sx:{iframe:{minHeight:"60vh"}},children:(0,J.jsx)(va,{urlTemplate:e,locale:t,bias:o,totalAda:r,poolList:a,setFirstPool:s,stakepoolSelectedAction:async e=>{(async e=>{const t=(0,le.KT)(e,36,{padding:0}),o=`data:image/svg+xml;utf8,${encodeURIComponent(t)}`,{signTxRequest:r}=await n.delegation.createDelegationTransaction(e),a=await n.delegation.getLocalPoolInfo(d,e);l({modalView:"transactionReview",submitTx:e=>(async e=>{const t=n.wallets.selected;try{i(),await n.substores.ada.delegationTransaction.signTransaction({password:e,wallet:t,dialog:null}),p(ue.TransactionResult.SUCCESS)}catch(e){console.warn("Failed to sign transaction",e),p(ue.TransactionResult.FAIL)}})(e),operations:{components:[{component:(0,J.jsx)(ba,{avatarGenerated:o,poolName:null==a?void 0:a.info.name}),duplicated:!1}],kind:"delegate"},unsignedTx:r.unsignedTx})})(e)}})})},ba=({avatarGenerated:e,poolName:t})=>{const{isStakeRegistered:o,stakeKeyDeposit:r,primaryTokenInfo:a}=(0,ge.useTxReviewModal)(),s=(0,Eo.useStrings)();return(0,J.jsxs)(k.Z,{direction:"column",spacing:2,children:[!o&&(0,J.jsxs)(k.Z,{direction:"row",justifyContent:"space-between",children:[(0,J.jsx)(C.Z,{color:"ds.text_gray_low",children:s.registerStakingKey}),(0,J.jsx)(C.Z,{color:"ds.text_gray_medium",children:`${new he.Z(r).shiftedBy(-a.decimals)} ${a.name}`})]}),(0,J.jsxs)(k.Z,{direction:"row",justifyContent:"space-between",children:[(0,J.jsx)(C.Z,{color:"ds.text_gray_low",children:s.stakeWalletBalance}),(0,J.jsxs)(k.Z,{direction:"row",spacing:1,alignItems:"center",children:[(0,J.jsx)(pe.Z,{sx:{width:"24px",height:"24px",borderRadius:"50%",display:"inline-block"},component:"img",src:e}),(0,J.jsx)(C.Z,{color:"ds.text_gray_medium",children:t})]})]})]})};var ya,ja,ka,Ca;let Ea=(0,g.observer)((Ca=class extends x.Component{constructor(...e){super(...e),u()(this,"state",{firstPool:void 0,selectedPoolId:void 0}),po()(this,"notificationElementId",ka,this),u()(this,"cancel",(()=>{const{stores:e}=this.props,t=e.wallets.selected;e.delegation.setPoolTransitionConfig(t,{shouldUpdatePool:!1,show:"idle"}),e.substores.ada.delegationTransaction.reset({justTransaction:!0})})),u()(this,"_getTotalAda",(()=>{const e=this.props.stores.wallets.selected;if(null==e)throw new Error("CardanoStakingPage no public deriver. Should never happen");const{balance:t}=e;if(null==t)return null;const o=this.props.stores.delegation.getRewardBalanceOrZero(e),r=(0,qe.genLookupOrFail)(this.props.stores.tokenInfoStore.tokenInfo)(o.getDefaultEntry());return t.joinAddCopy(o).getDefaultEntry().amount.shiftedBy(-r.Metadata.numberOfDecimals).toNumber()})),u()(this,"_displayPoolInfo",(()=>{var e,t,o,r,a,s;const{intl:n}=this.context,l=this.props.stores.wallets.selected;if(null==l)return null;const i=this._getPoolInfo(l);if(null==i)return;const d={duration:Sr.Z.wallets.ADDRESS_COPY_TOOLTIP_NOTIFICATION_DURATION,message:E.default.copyTooltipMessage},p=null!=(null===(e=i.info)||void 0===e?void 0:e.homepage)?{openPoolPage:Zr.ee,url:i.info.homepage}:void 0;return(0,J.jsx)($o,{purpose:"delegation",poolName:null!==(t=null===(o=i.info)||void 0===o?void 0:o.name)&&void 0!==t?t:n.formatMessage(E.default.unknownPoolLabel),data:{description:null!==(r=null===(a=i.info)||void 0===a?void 0:a.description)&&void 0!==r?r:void 0},selectedExplorer:null!==(s=this.props.stores.explorers.selectedExplorer.get(l.networkId))&&void 0!==s?s:(()=>{throw new Error("No explorer for wallet network")})(),hash:i.poolId,moreInfo:p,onCopyAddressTooltip:(e,t)=>{const{uiNotifications:o}=this.props.stores;o.isOpen(t)||((0,uo.runInAction)((()=>{this.notificationElementId=t})),o.open({id:t,duration:d.duration,message:d.message}))},notification:null==this.notificationElementId?null:this.props.stores.uiNotifications.getTooltipActiveNotification(this.notificationElementId),undelegate:void 0})})),u()(this,"_getPoolInfo",(e=>{const t=this.state.selectedPoolId;return null==t?void 0:this.props.stores.delegation.getLocalPoolInfo(e.networkId,t)})),u()(this,"_errorDialog",(e=>{const{intl:t}=this.context,o=[{label:t.formatMessage(E.default.backButtonLabel),onClick:this.cancel,primary:!0}];return(0,J.jsx)(Pe.ZP,{title:t.formatMessage(E.default.errorLabel),closeOnOverlayClick:!1,onClose:this.cancel,closeButton:(0,J.jsx)(Re.Z,{onClose:this.cancel}),dialogActions:o,children:(0,J.jsxs)(J.Fragment,{children:[(0,J.jsx)("center",{children:(0,J.jsx)(tt.r,{})}),(0,J.jsx)(ot.Z,{error:e})]})})}))}UNSAFE_componentWillMount(){var e,t;const o=null===(e=this.props.poolTransition)||void 0===e||null===(t=e.suggestedPool)||void 0===t?void 0:t.hash;null!=o&&(0,uo.runInAction)((()=>{this.setState((e=>({...e,selectedPoolId:o})))}))}async componentWillUnmount(){const{stores:e}=this.props;e.substores.ada.delegationTransaction.reset({justTransaction:!1}),e.delegation.poolInfoQuery.reset()}render(){var e,t;const{urlTemplate:o}=this.props,{intl:r}=this.context,a=this.props.stores.wallets.selected;if(null==a)return null;const s=xa.Z.isDev()||xa.Z.isTest()||xa.Z.isNightly(),n=this.props.stores.wallets.activeWalletPlate,l=(null==n?void 0:n.TextPart)||"bias",i=this.props.stores.delegation.getDelegatedPoolId(a.publicDeriverId),d=this._getPoolInfo(a),p=this._getTotalAda(),c=this.props.stores.profile.currentLocale,h=a.balance,u=this.props.stores.delegation.isStakeRegistered(a.publicDeriverId),g=this.props.stores.delegation.isCurrentlyDelegating(a.publicDeriverId),m=null!=h&&h.getDefaultEntry().amount.isZero(),f=null!=i&&u?[i]:[];return(0,J.jsxs)(J.Fragment,{children:[a.isTestnet||g?null:(0,J.jsx)(sa,{stores:this.props.stores,isOpen:this.props.stores.transactions.showDelegationBanner,poolInfo:this.state.firstPool,isWalletWithNoFunds:m,ticker:(0,ye.truncateToken)((0,qe.getTokenName)(this.props.stores.tokenInfoStore.getDefaultTokenInfo(a.networkId))),isTestnet:(0,oo.isTestnet)((0,oo.getNetworkById)(a.networkId))}),(0,J.jsxs)(w.Z,{sx:{iframe:{minHeight:"60vh"}},children:[(s||a.isTestnet)&&(0,J.jsxs)("div",{children:[(0,J.jsx)(Io,{hasAnyPending:this.props.stores.transactions.hasAnyPending,poolQueryError:this.props.stores.delegation.poolInfoQuery.error,isProcessing:this.props.stores.delegation.poolInfoQuery.isExecuting,updatePool:e=>{this.setState({selectedPoolId:e})},selectedPoolId:this.state.selectedPoolId,poolName:null!==(e=null==d||null===(t=d.info)||void 0===t?void 0:t.name)&&void 0!==e?e:r.formatMessage(E.default.unknownPoolLabel),stores:this.props.stores}),this._displayPoolInfo(),(0,J.jsx)("br",{})]}),!a.isTestnet&&(0,J.jsx)(wa,{urlTemplate:o,locale:c,bias:l,totalAda:p,poolList:f,setFirstPool:e=>{this.setState({firstPool:e})},stores:this.props.stores})]})]})}},u()(Ca,"contextTypes",{intl:v.intlShape.isRequired}),ja=Ca,ka=ho()(ja.prototype,"notificationElementId",[uo.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),ya=ja))||ya;var Sa,Za;let Ma=(0,g.observer)((Za=class extends x.Component{constructor(...e){super(...e),u()(this,"state",{govStatusFetched:!1}),u()(this,"onClose",(()=>{this.props.stores.uiDialogs.closeActiveDialog()})),u()(this,"getEpochLengthInDays",(e=>{const t=this.props.stores.substores.ada.time.getTimeCalcRequests(e),{currentEpochLength:o,currentSlotLength:r}=t.requests;return o()*r()/86400})),u()(this,"getStakePoolMeta",(e=>{var t,o,r,a,s;const n=this.props.stores.delegation,l=n.getDelegatedPoolId(e.publicDeriverId);if(null==l)return null;const i=n.getLocalPoolInfo(e.networkId,l),{stake:d,roa:p,saturation:c,pic:h}=null!==(t=n.getLocalRemotePoolInfo(e.networkId,l))&&void 0!==t?t:{},u={id:String(l),name:null!==(o=null==i||null===(r=i.info)||void 0===r?void 0:r.name)&&void 0!==o?o:"",avatar:h,roa:(0,Wt.maybe)(p,(0,Wt.compose)(Number,ye.roundTwoDecimal)),poolSize:(0,Wt.maybe)(d,ye.formatLovelacesHumanReadableShort),share:(0,Wt.maybe)(c,(e=>(0,ye.roundOneDecimal)(100*Number(e)))),websiteUrl:null==i||null===(a=i.info)||void 0===a?void 0:a.homepage,ticker:null==i||null===(s=i.info)||void 0===s?void 0:s.ticker};return(0,J.jsx)(ke,{stores:this.props.stores,poolTransition:n.getPoolTransitionInfo(e),delegatedPool:u,delegateToSpecificPool:async e=>{if(null!=e)return this.props.stores.delegation.createDelegationTransaction(e)}})})),u()(this,"getEpochProgress",(e=>{const t=this.props.stores.substores.ada.time.getTimeCalcRequests(e),{toAbsoluteSlot:o,toRealTime:r,currentEpochLength:a}=t.requests,s=this.props.stores.substores.ada.time.getCurrentTimeRequests(e),n=s.currentEpoch,l=a(),i=(e,t=!1)=>{const a=r({absoluteSlotNum:o({epoch:e,slot:l})});return t?a:f()(a).format("lll")},d=i(n),p=i(n,!0),c=i(n-1);return(0,J.jsx)(De,{epochProgress:{startEpochDate:c,currentEpoch:n,endEpochDate:d,endEpochDateTime:p,percentage:Math.floor(100*s.currentSlot/l)}})})),u()(this,"toUnitOfAccount",(e=>{var t;const{stores:o}=this.props,r=null===(t=o.tokenInfoStore.tokenInfo.get(e.networkId.toString()))||void 0===t?void 0:t.get(e.identifier);if(null==r)return;if(!o.profile.unitOfAccount.enabled)return;const a=o.profile.unitOfAccount.currency,s=e.amount.shiftedBy(-r.Metadata.numberOfDecimals),n=r.Metadata.ticker;if(null==n)throw new Error("unexpected main token type");const l=o.coinPriceStore.getCurrentPrice(n,a);return null==l?{currency:a,amount:"-"}:{currency:a,amount:(0,so.calculateAndFormatValue)(s,l)}}))}async componentDidMount(){const e=this.props.stores.wallets.selected;if(null==e)throw new Error("StakingPageContent no public deriver. Should never happen");if(this.props.stores.delegation.checkGovernanceStatus(e).then((()=>(this.setState({govStatusFetched:!0}),null))).catch((e=>{console.error("Failed to fetch governance status",e)})),this.props.stores.delegation.getPoolTransitionConfig(e).shouldUpdatePool){const t=this.props.stores.delegation.getPoolTransitionInfo(e);null!=t&&t.suggestedPool&&(0,Wt.noop)(this.props.stores.delegation.createDelegationTransaction(t.suggestedPool.hash))}}render(){var e;const t=this.props.stores.wallets.selected;if(null==t)throw new Error("StakingPageContent no public deriver. Should never happen");const{stores:o}=this.props,{uiDialogs:r,delegation:a}=o,s=a.getDelegationRequests(t.publicDeriverId);if(null==s)throw new Error("StakingPageContent opened for non-reward wallet");const n=t.balance,l=null!=n&&n.getDefaultEntry().amount.isZero(),i=null==(0,Wt.maybe)(s.error,(e=>({error:e})))&&o.delegation.isExecutedDelegatedBalance(t.publicDeriverId),d=o.delegation.isStakeRegistered(t.publicDeriverId),p=o.delegation.isCurrentlyDelegating(t.publicDeriverId),c=o.delegation.getDelegatedUtxoBalance(t.publicDeriverId),h=o.delegation.getRewardBalanceOrZero(t),u=null!==(null===(e=o.delegation.governanceStatus)||void 0===e?void 0:e.drepDelegation);return(0,J.jsxs)(w.Z,{children:[l?(0,J.jsx)(lo.Z,{onBuySellClick:()=>this.props.stores.uiDialogs.open({dialog:y.default}),isTestnet:t.isTestnet}):null,p?(0,J.jsxs)(Fa,{children:[(0,J.jsx)(Kt,{stores:o,govStatusFetched:this.state.govStatusFetched,onOverviewClick:()=>o.uiDialogs.open({dialog:Ye}),unitOfAccount:this.toUnitOfAccount,getTokenInfo:(0,qe.genLookupOrFail)(o.tokenInfoStore.tokenInfo),shouldHideBalance:o.profile.shouldHideBalance,totalRewards:i?h:void 0,totalDelegated:(()=>{if(i)return p?(0,Wt.maybe)(c,(e=>h.joinAddCopy(e))):new _.a([],t.balance.getDefaults())})(),graphData:ao({delegationRequests:s,currentEpoch:o.substores.ada.time.getCurrentTimeRequests(t).currentEpoch,shouldHideBalance:o.profile.shouldHideBalance,getLocalPoolInfo:o.delegation.getLocalPoolInfo,tokenInfo:o.tokenInfoStore.tokenInfo,networkId:t.networkId,defaultTokenId:t.defaultTokenId}),onOpenRewardList:()=>o.uiDialogs.open({dialog:mt})}),(0,J.jsxs)(Ba,{children:[this.getStakePoolMeta(t),this.getEpochProgress(t)]})]}):null,(0,J.jsx)(Ea,{stores:this.props.stores,urlTemplate:"https://adapools.yoroiwallet.com/?source=$$BROWSER$$",poolTransition:a.getPoolTransitionInfo(t)}),r.isOpen(Ye)?(0,J.jsx)(Ye,{onClose:this.onClose,getTokenInfo:(0,qe.genLookupOrFail)(this.props.stores.tokenInfoStore.tokenInfo),totalRewards:i?h:void 0,shouldHideBalance:this.props.stores.profile.shouldHideBalance,unitOfAccount:this.toUnitOfAccount,withdrawRewards:!1===u||d?()=>{this.props.stores.uiDialogs.open({dialog:Nt})}:void 0}):null,r.isOpen(Nt)?(0,J.jsx)(Nt,{stores:o,onClose:this.onClose,intl:this.context.intl}):null,r.isOpen(no.Z)?(0,J.jsx)(no.Z,{stores:o,onClose:this.onClose}):null,r.isOpen(mt)?(0,J.jsx)(mt,{onClose:this.onClose,graphData:ao({delegationRequests:s,currentEpoch:o.substores.ada.time.getCurrentTimeRequests(t).currentEpoch,shouldHideBalance:o.profile.shouldHideBalance,getLocalPoolInfo:o.delegation.getLocalPoolInfo,tokenInfo:o.tokenInfoStore.tokenInfo,networkId:t.networkId,defaultTokenId:t.defaultTokenId})}):null]})}},u()(Za,"contextTypes",{intl:v.intlShape.isRequired}),Sa=Za))||Sa;const Fa=(0,b.Z)(w.Z)({display:"flex",gap:"24px",justifyContent:"space-between",marginBottom:"40px"}),Ba=(0,b.Z)(w.Z)({display:"flex",flex:"1 1 48.5%",maxWidth:"48.5%",flexDirection:"column",gap:"24px"})},48415:(e,t,o)=>{"use strict";o.d(t,{Z:()=>s});var r=o(23645),a=o.n(r)()((function(e){return e[1]}));a.push([e.id,".DelegationSendForm_component{padding-top:40px;padding-right:20px;padding-bottom:20px;padding-left:20px}.DelegationSendForm_component .DelegationSendForm_warningBox{margin-bottom:30px}.DelegationSendForm_component .DelegationSendForm_poolIdInput{position:relative}.DelegationSendForm_component .DelegationSendForm_poolIdInput .SimpleInput_input{font-family:'RobotoMono';font-weight:300;letter-spacing:0}.DelegationSendForm_component .DelegationSendForm_actionLabel{color:var(--yoroi-palette-gray-800);font-weight:300;font-size:16px;padding-left:17px}.YoroiClassic .DelegationSendForm_component .DelegationSendForm_receiverInput{margin-bottom:10px}.YoroiModern .DelegationSendForm_component,.YoroiRevamp .DelegationSendForm_component{padding:30px}.YoroiModern .DelegationSendForm_component .DelegationSendForm_poolIdInput,.YoroiRevamp .DelegationSendForm_component .DelegationSendForm_poolIdInput{letter-spacing:0}.YoroiModern .DelegationSendForm_component .DelegationSendForm_nextButton,.YoroiRevamp .DelegationSendForm_component .DelegationSendForm_nextButton{margin:20px auto 0}\n",""]),a.locals={component:"DelegationSendForm_component",warningBox:"DelegationSendForm_warningBox",poolIdInput:"DelegationSendForm_poolIdInput",actionLabel:"DelegationSendForm_actionLabel",receiverInput:"DelegationSendForm_receiverInput",nextButton:"DelegationSendForm_nextButton"};const s=a},51866:(e,t,o)=>{"use strict";o.d(t,{Z:()=>s});var r=o(23645),a=o.n(r)()((function(e){return e[1]}));a.push([e.id,".CardShadow_wrapper{display:flex;flex-direction:column;height:100%}.CardShadow_title{font-weight:500;font-size:18px;line-height:22px;margin-bottom:16px}.CardShadow_inner{flex:1;border-radius:6px;box-shadow:0 3px 10px 2px var(--yoroi-dashboard-card-shadow-color)}\n",""]),a.locals={wrapper:"CardShadow_wrapper",title:"CardShadow_title",inner:"CardShadow_inner"};const s=a},87390:(e,t,o)=>{"use strict";o.d(t,{Z:()=>s});var r=o(23645),a=o.n(r)()((function(e){return e[1]}));a.push([e.id,".GraphWrapper_wrapper{display:block}.GraphWrapper_wrapper+.GraphWrapper_wrapper{margin-top:32px}.GraphWrapper_graphContainer{padding:20px 52px 8px 0px;display:flex;flex-direction:column}.GraphWrapper_tabsWrapper{margin-bottom:16px;display:flex;flex-wrap:wrap}.GraphWrapper_tabsWrapper li{margin-right:20px;width:max-content}.GraphWrapper_tab{font-weight:500;display:inline-block;color:var(--yoroi-dashboard-graph-tab-color);font-size:16px;line-height:20px;text-transform:uppercase}.GraphWrapper_tab+.GraphWrapper_tab{margin-left:40px}.GraphWrapper_tab:hover{cursor:pointer}.GraphWrapper_radiosWrapper{display:flex;align-items:center;margin-left:auto}.GraphWrapper_checkboxLabel{display:flex;align-items:center;font-size:12px;line-height:20px}.GraphWrapper_checkboxLabel:hover{cursor:pointer}.GraphWrapper_checkboxLabel+.GraphWrapper_checkboxLabel{margin-left:22px}.GraphWrapper_checkbox{position:relative;-webkit-appearance:none;border-radius:50%;margin:0 10px 0 0;height:16px;width:16px;border:2px solid var(--yoroi-dashboard-graph-radio-color)}.GraphWrapper_checkbox::before{content:'';position:absolute;top:0;bottom:0;left:0;right:0;margin:auto;height:8px;width:8px;background-color:var(--yoroi-palette-secondary-300);visibility:hidden;border-radius:50%}.GraphWrapper_checkbox:checked{border-color:var(--yoroi-palette-secondary-300)}.GraphWrapper_checkbox:checked::before{visibility:visible}.GraphWrapper_checkbox:focus{outline:none}.GraphWrapper_tabActive{color:var(--yoroi-dashboard-graph-active-tab-color)}.GraphWrapper_tooltip{padding:8px 12px 8px 8px;background-color:var(--yoroi-dashboard-graph-tooltip-background);color:var(--yoroi-dashboard-graph-tooltip-text-color);font-size:'0.75rem';line-height:'14px';border-radius:4px}.GraphWrapper_tooltipValue{font-weight:500}\n",""]),a.locals={wrapper:"GraphWrapper_wrapper",graphContainer:"GraphWrapper_graphContainer",tabsWrapper:"GraphWrapper_tabsWrapper",tab:"GraphWrapper_tab",radiosWrapper:"GraphWrapper_radiosWrapper",checkboxLabel:"GraphWrapper_checkboxLabel",checkbox:"GraphWrapper_checkbox",tabActive:"GraphWrapper_tabActive",tooltip:"GraphWrapper_tooltip",tooltipValue:"GraphWrapper_tooltipValue"};const s=a},8422:(e,t,o)=>{"use strict";o.d(t,{Z:()=>s});var r=o(23645),a=o.n(r)()((function(e){return e[1]}));a.push([e.id,".LoadingSpinner_loadingSpinner{width:22px;margin-top:5px}\n",""]),a.locals={loadingSpinner:"LoadingSpinner_loadingSpinner"};const s=a},61622:(e,t,o)=>{"use strict";o.d(t,{Z:()=>s});var r=o(23645),a=o.n(r)()((function(e){return e[1]}));a.push([e.id,".StakePool_wrapper{display:block;padding:20px 24px;min-width:320px}.StakePool_wrapper button{width:100%}.StakePool_description{font-weight:300}.StakePool_data{margin-top:25px}.StakePool_chart{width:83px;height:83px}.StakePool_row{margin-bottom:18px;display:flex;font-size:14px;line-height:22px;color:var(--yoroi-palette-gray-800)}.StakePool_label{border-bottom:0.5px dashed var(--yoroi-dashboard-label-underline-color);margin-right:auto;color:var(--yoroi-palette-gray-600)}.StakePool_head{display:flex;align-items:center;padding:20px 23px}.StakePool_avatarWrapper{width:36px;height:36px;border-radius:4px;border:1px solid rgba(111,114,144,0.24)}.StakePool_avatar{width:100%;height:100%}.StakePool_userInfo{margin-left:16px}.StakePool_userTitle{font-weight:500;font-size:16px;line-height:20px;text-transform:uppercase;margin-bottom:1px;text-overflow:ellipsis;white-space:nowrap;overflow:hidden;width:220px}.StakePool_subTitle{display:flex}.StakePool_subTitle .StakePool_warningIcon{margin-right:5px;cursor:pointer}.StakePool_hash{max-width:135px;overflow:hidden;text-overflow:ellipsis;color:var(--yoroi-palette-gray-600);font-size:14px;line-height:22px}\n",""]),a.locals={wrapper:"StakePool_wrapper",description:"StakePool_description",data:"StakePool_data",chart:"StakePool_chart",row:"StakePool_row",label:"StakePool_label",head:"StakePool_head",avatarWrapper:"StakePool_avatarWrapper",avatar:"StakePool_avatar",userInfo:"StakePool_userInfo",userTitle:"StakePool_userTitle",subTitle:"StakePool_subTitle",warningIcon:"StakePool_warningIcon",hash:"StakePool_hash"};const s=a},1167:(e,t,o)=>{"use strict";o.d(t,{Z:()=>s});var r=o(23645),a=o.n(r)()((function(e){return e[1]}));a.push([e.id,".StakingDashboard_page{background-color:var(--yoroi-palette-common-white);padding:40px 30px 26px 30px;font-weight:400;color:var(--yoroi-palette-gray-800);min-height:100%;display:flex;flex-direction:column}.StakingDashboard_warningBox{margin-bottom:16px}.StakingDashboard_contentWrap{max-width:1178px;width:100%;margin:0 auto;display:flex;flex-direction:column;flex:1}.StakingDashboard_poolError{margin-top:42px}.StakingDashboard_rewards{min-width:420px;align-self:flex-end}.StakingDashboard_statsWrapper{margin-bottom:40px;margin-top:4px;display:flex}.StakingDashboard_summary{flex-direction:row;height:100%;width:100%}.StakingDashboard_summary .StakingDashboard_summaryItem{flex:1;min-height:180px}.StakingDashboard_summary .StakingDashboard_summaryItem+.StakingDashboard_summaryItem{margin-top:32px}.StakingDashboard_bodyWrapper{display:flex}.StakingDashboard_stakePoolMaxWidth{width:320px}.StakingDashboard_stakePool{margin-left:auto;margin-right:auto}.StakingDashboard_graphsWrapper{flex:1;margin-right:30px;min-width:200px}.StakingDashboard_pageSelect{margin-bottom:32px}\n",""]),a.locals={page:"StakingDashboard_page",warningBox:"StakingDashboard_warningBox",contentWrap:"StakingDashboard_contentWrap",poolError:"StakingDashboard_poolError",rewards:"StakingDashboard_rewards",statsWrapper:"StakingDashboard_statsWrapper",summary:"StakingDashboard_summary",summaryItem:"StakingDashboard_summaryItem",bodyWrapper:"StakingDashboard_bodyWrapper",stakePoolMaxWidth:"StakingDashboard_stakePoolMaxWidth",stakePool:"StakingDashboard_stakePool",graphsWrapper:"StakingDashboard_graphsWrapper",pageSelect:"StakingDashboard_pageSelect"};const s=a},27156:(e,t,o)=>{"use strict";o.d(t,{Z:()=>s});var r=o(23645),a=o.n(r)()((function(e){return e[1]}));a.push([e.id,".BorderedBox_component{padding:20px}.YoroiModern .BorderedBox_component,.YoroiRevamp .BorderedBox_component{border-radius:8px;padding:30px}.YoroiModern .BorderedBox_component label,.YoroiRevamp .BorderedBox_component label{background:var(--yoroi-palette-common-white)}\n",""]),a.locals={component:"BorderedBox_component"};const s=a},69108:(e,t,o)=>{"use strict";o.d(t,{Z:()=>s});var r=o(23645),a=o.n(r)()((function(e){return e[1]}));a.push([e.id,".InformativeError_wrapper{flex:1;display:flex;flex-direction:column;align-items:center;justify-content:center;margin-top:42px}.InformativeError_text{margin-bottom:42px;margin-left:auto;margin-right:auto;text-align:center;color:var(--yoroi-palette-gray-800);font-weight:400;line-height:22px;max-width:560px}.InformativeError_title{font-size:16px;color:var(--yoroi-palette-gray-800);font-weight:400;line-height:22px}.InformativeError_paragraph{margin-top:12px;font-size:14px}\n",""]),a.locals={wrapper:"InformativeError_wrapper",text:"InformativeError_text",title:"InformativeError_title",paragraph:"InformativeError_paragraph"};const s=a},1234:(e,t,o)=>{"use strict";o.d(t,{Z:()=>s});var r=o(23645),a=o.n(r)()((function(e){return e[1]}));a.push([e.id,".WarningBox_component{display:flex;flex-flow:column;align-items:center;justify-content:center;padding:16px 0 16px 0;border-radius:8px;box-shadow:var(--yoroi-warning-box-bg-shadow)}.WarningBox_component .WarningBox_header{display:inline-flex;align-items:flex-end}.WarningBox_component .WarningBox_header .WarningBox_headerIcon{width:20px;height:20px;background-size:contain;background-position:center center;background-repeat:no-repeat;margin-bottom:1px}.WarningBox_component .WarningBox_header .WarningBox_headerText{font-weight:500;font-size:16px;font-weight:500;margin-left:6px}.WarningBox_component .WarningBox_warning{margin-top:4px;text-align:center;padding:0px 10px}.WarningBox_component .WarningBox_warning *,.WarningBox_component .WarningBox_warning{line-height:22px;font-weight:400;font-size:12px}.WarningBox_component .WarningBox_warning a,.WarningBox_component .WarningBox_warning button{line-height:initial}.YoroiClassic .WarningBox_component .WarningBox_headerText{font-weight:bold}\n",""]),a.locals={component:"WarningBox_component",header:"WarningBox_header",headerIcon:"WarningBox_headerIcon",headerText:"WarningBox_headerText",warning:"WarningBox_warning"};const s=a}}]);